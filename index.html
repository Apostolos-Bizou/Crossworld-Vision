<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#0A3D62">
    <title>Crossworld Vision | Digital Maritime Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&family=Open+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --navy: #0A3D62;
            --navy-light: #1A5276;
            --navy-dark: #072840;
            --teal: #17A2B8;
            --teal-light: #20C997;
            --gold: #D4A84B;
            --white: #FFFFFF;
            --gray-50: #F9FAFB;
            --gray-100: #F3F4F6;
            --gray-200: #E5E7EB;
            --gray-300: #D1D5DB;
            --gray-400: #9CA3AF;
            --gray-500: #6B7280;
            --gray-600: #4B5563;
            --gray-700: #374151;
            --gray-800: #1F2937;
            --success: #10B981;
            --warning: #F59E0B;
            --danger: #EF4444;
            --info: #3B82F6;
            --purple: #8B5CF6;
            --pink: #EC4899;
        }
        
        body {
            font-family: 'Open Sans', sans-serif;
            background: var(--gray-100);
            overflow-x: hidden;
        }

        /* =====================================================
           INTRO SCREEN
           ===================================================== */
        #intro-screen {
            position: fixed;
            inset: 0;
            z-index: 10000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 1.5s cubic-bezier(0.65, 0, 0.35, 1);
            overflow: hidden;
        }
        
        #intro-screen.hidden {
            opacity: 0;
            transform: scale(1.2);
            pointer-events: none;
        }
        
        .ocean-bg {
            position: absolute;
            inset: 0;
            background: 
                radial-gradient(ellipse at 50% 120%, rgba(23, 162, 184, 0.25) 0%, transparent 50%),
                radial-gradient(ellipse at 20% 80%, rgba(10, 61, 98, 0.4) 0%, transparent 40%),
                linear-gradient(180deg, #020810 0%, #051525 30%, #0A2540 60%, #0D3555 85%, #0A3D62 100%);
        }
        
        .aurora {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 60%;
            background: linear-gradient(180deg, transparent 0%, rgba(23, 162, 184, 0.03) 20%, rgba(32, 201, 151, 0.05) 40%, transparent 100%);
            animation: aurora 15s ease-in-out infinite;
            filter: blur(40px);
        }
        
        @keyframes aurora {
            0%, 100% { transform: translateX(-10%) skewX(-5deg); opacity: 0.5; }
            50% { transform: translateX(10%) skewX(5deg); opacity: 0.8; }
        }
        
        .stars-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 50%;
        }
        
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle var(--duration) ease-in-out infinite;
            animation-delay: var(--delay);
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.2; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }
        
        .waves-container {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 35%;
            overflow: hidden;
            z-index: 5;
        }
        
        .wave-layer {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 100%;
        }
        
        .wave-svg { position: absolute; bottom: 0; width: 100%; height: auto; }
        .wave-1 { animation: waveFlow 12s linear infinite; opacity: 0.9; }
        .wave-2 { animation: waveFlow 10s linear infinite reverse; opacity: 0.7; bottom: 10px; }
        .wave-3 { animation: waveFlow 14s linear infinite; opacity: 0.5; bottom: 20px; }
        
        @keyframes waveFlow {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        
        .intro-content {
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .compass-3d-container {
            width: 280px;
            height: 200px;
            position: relative;
            margin-bottom: 40px;
        }
        
        .compass-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 200px;
            background: radial-gradient(ellipse, rgba(23, 162, 184, 0.3) 0%, transparent 70%);
            filter: blur(30px);
            animation: compassPulse 4s ease-in-out infinite;
        }
        
        @keyframes compassPulse {
            0%, 100% { opacity: 0.5; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 0.8; transform: translate(-50%, -50%) scale(1.1); }
        }
        
        .compass-3d {
            position: relative;
            width: 100%;
            height: 100%;
            animation: compassFloat 6s ease-in-out infinite;
        }
        
        @keyframes compassFloat {
            0%, 100% { transform: translateY(0) rotateX(5deg); }
            50% { transform: translateY(-15px) rotateX(-5deg); }
        }
        
        .compass-rose-svg {
            width: 100%;
            height: 100%;
        }
        
        .brand-container { margin-bottom: 20px; }
        
        .vision-label {
            font-family: 'Montserrat', sans-serif;
            font-size: 14px;
            font-weight: 300;
            color: rgba(255,255,255,0.5);
            letter-spacing: 8px;
            margin-bottom: 10px;
        }
        
        .logo-text-3d {
            font-family: 'Montserrat', sans-serif;
            font-size: 52px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 8px;
            background: linear-gradient(180deg, #FFFFFF 0%, rgba(255,255,255,0.8) 50%, rgba(23,162,184,0.6) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        
        .tagline {
            font-family: 'Open Sans', sans-serif;
            font-size: 18px;
            color: rgba(255,255,255,0.7);
            margin-bottom: 40px;
            letter-spacing: 2px;
        }
        
        .tagline .highlight { color: var(--teal-light); font-weight: 600; }
        
        .enter-button {
            padding: 18px 50px;
            background: linear-gradient(135deg, var(--teal) 0%, var(--teal-light) 100%);
            border: none;
            border-radius: 50px;
            color: white;
            font-family: 'Montserrat', sans-serif;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 10px 40px rgba(23, 162, 184, 0.4);
        }
        
        .enter-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 20px 50px rgba(23, 162, 184, 0.5);
        }
        
        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            animation: scrollBounce 2s ease-in-out infinite;
        }
        
        @keyframes scrollBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(10px); }
        }
        
        .scroll-line { width: 2px; height: 40px; background: linear-gradient(180deg, transparent, var(--teal)); }
        .scroll-text { font-size: 12px; color: rgba(255,255,255,0.5); letter-spacing: 2px; text-transform: uppercase; }

        /* =====================================================
           MAIN APPLICATION
           ===================================================== */
        #main-app { display: flex; min-height: 100vh; }
        
        .mobile-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            z-index: 150;
        }
        
        .mobile-overlay.active { display: block; }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: linear-gradient(180deg, var(--navy-dark) 0%, var(--navy) 100%);
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            z-index: 200;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }
        
        .sidebar-logo {
            padding: 24px;
            display: flex;
            align-items: center;
            gap: 14px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .logo-icon svg { width: 44px; height: 32px; }
        
        .logo-info h1 {
            font-family: 'Montserrat', sans-serif;
            font-size: 16px;
            font-weight: 700;
            color: white;
            letter-spacing: 1px;
        }
        
        .logo-info p { font-size: 11px; color: rgba(255,255,255,0.5); }
        
        .sidebar-nav {
            flex: 1;
            padding: 20px 12px;
            overflow-y: auto;
        }
        
        .nav-section-title {
            font-size: 10px;
            font-weight: 700;
            color: rgba(255,255,255,0.4);
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 0 12px;
            margin: 20px 0 10px;
        }
        
        .nav-section-title:first-child { margin-top: 0; }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 14px 16px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 4px;
            background: none;
            border: none;
            width: 100%;
            text-align: left;
        }
        
        .nav-item:hover { background: rgba(255,255,255,0.08); }
        
        .nav-item.active {
            background: linear-gradient(135deg, var(--teal) 0%, var(--teal-light) 100%);
        }
        
        .nav-item svg {
            width: 20px;
            height: 20px;
            stroke: rgba(255,255,255,0.6);
            stroke-width: 2;
            fill: none;
        }
        
        .nav-item.active svg { stroke: white; }
        
        .nav-item span {
            font-size: 14px;
            color: rgba(255,255,255,0.7);
        }
        
        .nav-item.active span { color: white; font-weight: 600; }
        
        .nav-badge {
            margin-left: auto;
            padding: 2px 8px;
            background: var(--danger);
            border-radius: 10px;
            font-size: 11px;
            font-weight: 700;
            color: white;
        }
        
        .sidebar-user {
            padding: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .user-avatar {
            width: 42px;
            height: 42px;
            background: linear-gradient(135deg, var(--gold) 0%, #F0C674 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            font-size: 14px;
        }
        
        .user-info p:first-child { font-size: 14px; font-weight: 600; color: white; }
        .user-info p:last-child { font-size: 11px; color: rgba(255,255,255,0.5); }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 260px;
            min-height: 100vh;
            transition: margin-left 0.3s ease;
        }
        
        .header {
            background: white;
            padding: 18px 28px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid var(--gray-200);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-left { display: flex; align-items: center; gap: 18px; }
        
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
        }
        
        .page-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 24px;
            font-weight: 700;
            color: var(--navy);
        }
        
        .header-right { display: flex; align-items: center; gap: 16px; }
        
        .search-box { position: relative; }
        
        .search-box input {
            padding: 12px 16px 12px 44px;
            border: 1px solid var(--gray-300);
            border-radius: 10px;
            font-size: 14px;
            width: 300px;
            transition: all 0.3s;
        }
        
        .search-box input:focus {
            outline: none;
            border-color: var(--teal);
            box-shadow: 0 0 0 4px rgba(23, 162, 184, 0.1);
        }
        
        .search-box svg {
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
            width: 18px;
            height: 18px;
            stroke: var(--gray-500);
        }
        
        .notification-btn {
            position: relative;
            background: none;
            border: none;
            cursor: pointer;
            padding: 10px;
            border-radius: 10px;
            transition: background 0.2s;
        }
        
        .notification-btn:hover { background: var(--gray-100); }
        .notification-btn svg { width: 22px; height: 22px; stroke: var(--navy); }
        
        .notification-badge {
            position: absolute;
            top: 6px;
            right: 6px;
            width: 10px;
            height: 10px;
            background: var(--danger);
            border-radius: 50%;
            border: 2px solid white;
        }

        /* Page Content */
        .page-content { padding: 28px; }
        
        .page { 
            display: none; 
            animation: fadeIn 0.3s ease;
            overflow-x: hidden;
            max-width: 100%;
        }
        .page.active { display: block; }
        .page.active { display: block; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Welcome Banner */
        .welcome-banner {
            background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 50%, var(--teal) 100%);
            border-radius: 24px;
            padding: 36px;
            margin-bottom: 28px;
            position: relative;
            overflow: hidden;
        }
        
        .welcome-banner h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 28px;
            font-weight: 700;
            color: white;
            margin-bottom: 10px;
        }
        
        .welcome-banner p { color: rgba(255,255,255,0.8); font-size: 16px; margin-bottom: 24px; }
        
        .welcome-banner-btns { display: flex; gap: 14px; flex-wrap: wrap; }
        
        .btn {
            padding: 14px 28px;
            border-radius: 10px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            border: none;
        }
        
        .btn-white { background: white; color: var(--navy); }
        .btn-white:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        
        .btn-ghost { background: rgba(255,255,255,0.2); color: white; }
        .btn-ghost:hover { background: rgba(255,255,255,0.3); }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 100%);
            color: white;
        }
        
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(10, 61, 98, 0.3); }
        
        .btn-teal {
            background: linear-gradient(135deg, var(--teal) 0%, var(--teal-light) 100%);
            color: white;
        }
        
        .welcome-decoration {
            position: absolute;
            right: 40px;
            bottom: -20px;
            opacity: 0.1;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 28px;
        }
        
        .stat-card {
            background: white;
            border-radius: 18px;
            padding: 26px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
        }
        
        .stat-card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
        .stat-label { font-size: 13px; color: var(--gray-500); margin-bottom: 6px; }
        
        .stat-value {
            font-family: 'Montserrat', sans-serif;
            font-size: 32px;
            font-weight: 800;
            color: var(--navy);
        }
        
        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .stat-icon svg { width: 24px; height: 24px; stroke-width: 2; }
        
        .stat-change {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            font-weight: 600;
            padding: 4px 10px;
            border-radius: 20px;
            margin-top: 8px;
        }
        
        .stat-change.positive { background: rgba(16, 185, 129, 0.1); color: var(--success); }
        .stat-change.negative { background: rgba(239, 68, 68, 0.1); color: var(--danger); }

        /* Cards */
        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 24px;
        }
        
        .content-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            overflow: hidden;
        }
        
        .content-card-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--gray-100);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .content-card-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 16px;
            font-weight: 700;
            color: var(--navy);
        }
        
        .content-card-body { padding: 20px 24px; }

        /* =====================================================
           MARKETPLACE PAGE
           ===================================================== */
        .marketplace-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
        }
        
        .service-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            transition: all 0.3s;
            position: relative;
        }
        
        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.12);
        }
        
        .service-card.selected {
            border: 2px solid var(--teal);
        }
        
        .service-badge {
            position: absolute;
            top: 16px;
            right: 16px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
        }
        
        .service-badge.popular { background: linear-gradient(135deg, var(--gold) 0%, #F0C674 100%); color: white; }
        .service-badge.new { background: var(--teal); color: white; }
        
        .service-header { padding: 24px 24px 0; display: flex; align-items: flex-start; gap: 16px; }
        
        .service-icon {
            width: 60px;
            height: 60px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .service-icon svg { width: 28px; height: 28px; }
        
        .service-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 18px;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 4px;
        }
        
        .service-category { font-size: 12px; color: var(--gray-500); }
        
        .service-body { padding: 16px 24px; }
        .service-description { font-size: 14px; color: var(--gray-600); line-height: 1.6; margin-bottom: 16px; }
        
        .feature-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 6px 0;
            font-size: 13px;
            color: var(--gray-600);
        }
        
        .feature-item svg { width: 16px; height: 16px; stroke: var(--success); flex-shrink: 0; }
        
        .service-footer {
            padding: 16px 24px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid var(--gray-100);
        }
        
        .service-price .amount {
            font-family: 'Montserrat', sans-serif;
            font-size: 28px;
            font-weight: 800;
            color: var(--navy);
        }
        
        .service-price .unit { font-size: 12px; color: var(--gray-500); }
        
        .add-btn {
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .add-btn.add { background: white; border: 2px solid var(--navy); color: var(--navy); }
        .add-btn.add:hover { background: var(--navy); color: white; }
        .add-btn.added { background: var(--teal); border: 2px solid var(--teal); color: white; }
        .add-btn svg { width: 18px; height: 18px; }

        /* =====================================================
           SEAFARER PORTAL
           ===================================================== */
        .seafarer-container {
            max-width: 480px;
            margin: 0 auto;
            background: var(--gray-50);
            min-height: 100vh;
            position: relative;
        }
        
        .seafarer-header {
            background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 100%);
            padding: 20px;
            border-radius: 0 0 24px 24px;
        }
        
        .seafarer-user-card {
            background: rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 14px;
            margin-top: 16px;
        }
        
        .seafarer-avatar {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, var(--gold) 0%, #F0C674 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: white;
            font-size: 18px;
        }
        
        .seafarer-info h3 { color: white; font-weight: 600; font-size: 16px; margin-bottom: 4px; }
        .seafarer-info p { color: rgba(255,255,255,0.7); font-size: 13px; }
        
        .status-pipeline {
            background: white;
            border-radius: 16px;
            padding: 20px;
            margin: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
        }
        
        .pipeline-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
            margin-top: 16px;
        }
        
        .pipeline-step { text-align: center; flex: 1; position: relative; z-index: 1; }
        
        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gray-200);
            margin: 0 auto 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .step-circle.completed { background: var(--success); }
        .step-circle.current { background: var(--warning); animation: pulse 2s infinite; }
        .step-circle svg { width: 18px; height: 18px; stroke: white; }
        
        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.4); }
            50% { box-shadow: 0 0 0 10px rgba(245, 158, 11, 0); }
        }
        
        .step-label { font-size: 11px; color: var(--gray-500); font-weight: 600; }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            padding: 0 20px 20px;
        }
        
        .quick-action {
            background: white;
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.06);
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .quick-action:hover { transform: translateY(-3px); }
        
        .quick-action-icon {
            width: 48px;
            height: 48px;
            border-radius: 14px;
            margin: 0 auto 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .quick-action-icon svg { width: 24px; height: 24px; stroke: white; }
        .quick-action h4 { font-size: 14px; font-weight: 600; color: var(--navy); margin-bottom: 4px; }
        .quick-action p { font-size: 11px; color: var(--gray-500); }
        
        .seafarer-section {
            display: none;
        }
        
        .seafarer-section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        /* =====================================================
           ONBOARDING WIZARD
           ===================================================== */
        .onboarding-container {
            display: flex;
            min-height: calc(100vh - 100px);
            gap: 40px;
        }
        
        .onboarding-sidebar {
            width: 280px;
            flex-shrink: 0;
        }
        
        .onboarding-steps { position: relative; }
        
        .onboarding-step-item {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            margin-bottom: 32px;
            position: relative;
        }
        
        .onboarding-step-item::before {
            content: '';
            position: absolute;
            left: 19px;
            top: 40px;
            width: 2px;
            height: calc(100% + 12px);
            background: var(--gray-200);
        }
        
        .onboarding-step-item:last-child::before { display: none; }
        
        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            flex-shrink: 0;
            position: relative;
            z-index: 1;
        }
        
        .step-number.pending { background: var(--gray-200); color: var(--gray-500); }
        .step-number.active { background: var(--navy); color: white; }
        .step-number.completed { background: var(--success); color: white; }
        
        .step-content h4 { font-weight: 600; color: var(--navy); margin-bottom: 4px; }
        .step-content p { font-size: 13px; color: var(--gray-500); }
        
        .onboarding-main { flex: 1; }
        
        .onboarding-card {
            background: white;
            border-radius: 24px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            overflow: hidden;
        }
        
        .onboarding-card-header { padding: 32px 40px 0; }
        .onboarding-card-header h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 28px;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 8px;
        }
        .onboarding-card-header p { color: var(--gray-500); }
        
        .onboarding-card-body { padding: 32px 40px; }
        
        .onboarding-card-footer {
            padding: 20px 40px;
            background: var(--gray-50);
            border-top: 1px solid var(--gray-200);
            display: flex;
            justify-content: space-between;
        }
        
        .onboarding-step-content {
            display: none;
        }
        
        .onboarding-step-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes scaleIn {
            from { transform: scale(0); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .modal-overlay.active {
            display: flex;
            animation: fadeIn 0.2s ease;
        }
        
        .modal-container {
            background: white;
            border-radius: 24px;
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.3s ease;
        }
        
        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .modal-header {
            padding: 24px 28px;
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 20px;
            font-weight: 700;
            color: var(--navy);
            display: flex;
            align-items: center;
        }
        
        .modal-close {
            width: 40px;
            height: 40px;
            border: none;
            background: var(--gray-100);
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        
        .modal-close:hover {
            background: var(--gray-200);
        }
        
        .modal-close svg {
            stroke: var(--gray-500);
        }
        
        .modal-body {
            padding: 28px;
            overflow-y: auto;
            max-height: calc(90vh - 180px);
        }
        
        .modal-footer {
            padding: 20px 28px;
            border-top: 1px solid var(--gray-200);
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            background: var(--gray-50);
        }
        
        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, var(--success), var(--teal-light));
            color: white;
            padding: 16px 24px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            gap: 16px;
            box-shadow: 0 10px 40px rgba(16, 185, 129, 0.4);
            z-index: 2000;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .toast-icon {
            width: 44px;
            height: 44px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .toast-content h4 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 15px;
            margin-bottom: 4px;
        }
        
        .toast-content p {
            font-size: 13px;
            opacity: 0.9;
        }

        /* Form Styles */
        .form-row {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-row.single { grid-template-columns: 1fr; }
        
        .form-group { display: flex; flex-direction: column; gap: 8px; }
        
        .form-group label {
            font-size: 14px;
            font-weight: 600;
            color: var(--navy);
        }
        
        .form-group label span { color: var(--danger); }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 14px 16px;
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            font-size: 15px;
            font-family: 'Open Sans', sans-serif;
            transition: all 0.2s;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--teal);
            box-shadow: 0 0 0 4px rgba(23, 162, 184, 0.1);
        }

        /* =====================================================
           CREW DATABASE
           ===================================================== */
        .crew-db-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .crew-db-stats {
            display: flex;
            gap: 24px;
        }
        
        .crew-db-stat {
            text-align: center;
        }
        
        .crew-db-stat-value {
            font-family: 'Montserrat', sans-serif;
            font-size: 28px;
            font-weight: 800;
            color: var(--navy);
        }
        
        .crew-db-stat-label {
            font-size: 12px;
            color: var(--gray-500);
        }
        
        .crew-filters {
            background: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
        }
        
        .filters-row {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            align-items: flex-end;
        }
        
        .filter-group {
            flex: 1;
            min-width: 150px;
        }
        
        .filter-group label {
            display: block;
            font-size: 12px;
            font-weight: 600;
            color: var(--gray-600);
            margin-bottom: 6px;
        }
        
        .filter-group select,
        .filter-group input {
            width: 100%;
            padding: 10px 14px;
            border: 2px solid var(--gray-200);
            border-radius: 10px;
            font-size: 14px;
            background: white;
        }
        
        .filter-group select:focus,
        .filter-group input:focus {
            outline: none;
            border-color: var(--teal);
        }
        
        .crew-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
        }
        
        .seafarer-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .seafarer-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.12);
        }
        
        .seafarer-card-header {
            background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 100%);
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
            position: relative;
        }
        
        .seafarer-photo {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--gold), #F0C674);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: white;
            font-size: 22px;
            border: 3px solid rgba(255,255,255,0.3);
            overflow: hidden;
        }
        
        .seafarer-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .seafarer-basic-info h3 {
            color: white;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 17px;
            margin-bottom: 4px;
        }
        
        .seafarer-basic-info p {
            color: rgba(255,255,255,0.8);
            font-size: 13px;
        }
        
        .ai-score-badge {
            position: absolute;
            top: 16px;
            right: 16px;
            background: linear-gradient(135deg, var(--gold), #F0C674);
            padding: 8px 12px;
            border-radius: 12px;
            text-align: center;
        }
        
        .ai-score-badge .score-value {
            font-family: 'Montserrat', sans-serif;
            font-size: 20px;
            font-weight: 800;
            color: white;
        }
        
        .ai-score-badge .score-label {
            font-size: 9px;
            color: rgba(255,255,255,0.9);
            text-transform: uppercase;
        }
        
        .seafarer-card-body {
            padding: 20px;
        }
        
        .seafarer-details-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .seafarer-detail {
            padding: 10px;
            background: var(--gray-50);
            border-radius: 10px;
        }
        
        .seafarer-detail-label {
            font-size: 10px;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .seafarer-detail-value {
            font-weight: 600;
            color: var(--navy);
            font-size: 13px;
            margin-top: 2px;
        }
        
        .seafarer-skills {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 16px;
        }
        
        .skill-chip {
            padding: 5px 10px;
            background: rgba(23, 162, 184, 0.1);
            color: var(--teal);
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
        }
        
        .seafarer-social {
            display: flex;
            gap: 8px;
            padding-top: 16px;
            border-top: 1px solid var(--gray-100);
        }
        
        .social-link {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            text-decoration: none;
        }
        
        .social-link.linkedin {
            background: rgba(10, 102, 194, 0.1);
            color: #0A66C2;
        }
        
        .social-link.linkedin:hover {
            background: #0A66C2;
            color: white;
        }
        
        .social-link.facebook {
            background: rgba(24, 119, 242, 0.1);
            color: #1877F2;
        }
        
        .social-link.facebook:hover {
            background: #1877F2;
            color: white;
        }
        
        .social-link.whatsapp {
            background: rgba(37, 211, 102, 0.1);
            color: #25D366;
        }
        
        .social-link.whatsapp:hover {
            background: #25D366;
            color: white;
        }
        
        .social-link.email {
            background: rgba(234, 67, 53, 0.1);
            color: #EA4335;
        }
        
        .social-link.email:hover {
            background: #EA4335;
            color: white;
        }
        
        .social-link svg {
            width: 18px;
            height: 18px;
        }
        
        .seafarer-actions {
            display: flex;
            gap: 8px;
            margin-left: auto;
        }
        
        .action-btn-sm {
            padding: 8px 14px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.2s;
        }
        
        .action-btn-sm.primary {
            background: var(--teal);
            color: white;
        }
        
        .action-btn-sm.primary:hover {
            background: var(--teal-light);
        }
        
        .action-btn-sm.outline {
            background: white;
            border: 2px solid var(--gray-200);
            color: var(--navy);
        }
        
        .action-btn-sm.outline:hover {
            border-color: var(--navy);
        }
        
        .availability-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
        }
        
        .availability-badge.available {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }
        
        .availability-badge.soon {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }
        
        .availability-badge.unavailable {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }
        
        .availability-badge::before {
            content: '';
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: currentColor;
        }

        /* Seafarer Detail Modal */
        .seafarer-modal-content {
            max-width: 700px;
        }
        
        .seafarer-modal-header {
            background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 100%);
            padding: 30px;
            display: flex;
            align-items: center;
            gap: 24px;
            position: relative;
        }
        
        .seafarer-modal-photo {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--gold), #F0C674);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: white;
            font-size: 32px;
            border: 4px solid rgba(255,255,255,0.3);
        }
        
        .seafarer-modal-info h2 {
            color: white;
            font-family: 'Montserrat', sans-serif;
            font-weight: 800;
            font-size: 24px;
            margin-bottom: 6px;
        }
        
        .seafarer-modal-info p {
            color: rgba(255,255,255,0.8);
            font-size: 15px;
        }
        
        .modal-score-badge {
            position: absolute;
            top: 24px;
            right: 70px;
            background: linear-gradient(135deg, var(--gold), #F0C674);
            padding: 12px 20px;
            border-radius: 16px;
            text-align: center;
        }
        
        .modal-score-badge .score {
            font-family: 'Montserrat', sans-serif;
            font-size: 32px;
            font-weight: 900;
            color: white;
        }
        
        .modal-score-badge .label {
            font-size: 10px;
            color: rgba(255,255,255,0.9);
            text-transform: uppercase;
        }

        /* =====================================================
           SEAFARER REGISTRATION
           ===================================================== */
        .reg-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .reg-header {
            background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%);
            border-radius: 24px;
            padding: 32px;
            margin-bottom: 24px;
            color: white;
            text-align: center;
        }
        
        .reg-header h2 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 800;
            font-size: 28px;
            margin-bottom: 8px;
        }
        
        .reg-header p {
            opacity: 0.9;
            font-size: 15px;
        }
        
        .reg-progress {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 24px;
        }
        
        .reg-progress-step {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .reg-progress-circle {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 14px;
            color: rgba(255,255,255,0.7);
        }
        
        .reg-progress-circle.active {
            background: white;
            color: var(--purple);
        }
        
        .reg-progress-circle.completed {
            background: var(--success);
            color: white;
        }
        
        .reg-progress-line {
            width: 40px;
            height: 3px;
            background: rgba(255,255,255,0.2);
            border-radius: 2px;
        }
        
        .reg-progress-line.completed {
            background: var(--success);
        }
        
        .reg-card {
            background: white;
            border-radius: 24px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            overflow: hidden;
        }
        
        .reg-card-header {
            padding: 32px 32px 0;
        }
        
        .reg-card-header h3 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 22px;
            color: var(--navy);
            margin-bottom: 8px;
        }
        
        .reg-card-header p {
            color: var(--gray-500);
            font-size: 14px;
        }
        
        .reg-card-body {
            padding: 32px;
        }
        
        .reg-card-footer {
            padding: 20px 32px;
            background: var(--gray-50);
            display: flex;
            justify-content: space-between;
            gap: 16px;
        }
        
        .reg-step-content {
            display: none;
        }
        
        .reg-step-content.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }
        
        .photo-upload-box {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            background: var(--gray-100);
            margin: 0 auto 24px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            border: 3px dashed var(--gray-300);
            position: relative;
            overflow: hidden;
        }
        
        .photo-upload-box:hover {
            border-color: var(--teal);
            background: rgba(23, 162, 184, 0.05);
        }
        
        .photo-upload-box.has-photo {
            border-style: solid;
            border-color: var(--success);
        }
        
        .photo-upload-box img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .photo-upload-box svg {
            width: 40px;
            height: 40px;
            stroke: var(--gray-400);
            margin-bottom: 8px;
        }
        
        .photo-upload-box span {
            font-size: 12px;
            color: var(--gray-500);
        }
        
        .photo-upload-btn {
            position: absolute;
            bottom: 8px;
            right: 8px;
            width: 40px;
            height: 40px;
            background: var(--teal);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid white;
            cursor: pointer;
        }
        
        .photo-upload-btn svg {
            width: 18px;
            height: 18px;
            stroke: white;
            margin: 0;
        }
        
        .cv-upload-box {
            border: 2px dashed var(--gray-300);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            background: var(--gray-50);
        }
        
        .cv-upload-box:hover {
            border-color: var(--teal);
            background: rgba(23, 162, 184, 0.05);
        }
        
        .cv-upload-box.uploaded {
            border-color: var(--success);
            border-style: solid;
            background: rgba(16, 185, 129, 0.05);
        }
        
        .cv-upload-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--purple), var(--pink));
            border-radius: 20px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .cv-upload-icon svg {
            width: 36px;
            height: 36px;
            stroke: white;
        }
        
        .cv-upload-box h4 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 8px;
        }
        
        .cv-upload-box p {
            color: var(--gray-500);
            font-size: 14px;
        }
        
        .ai-info-box {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.1));
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 16px;
            padding: 20px;
            margin-top: 24px;
        }
        
        .ai-info-box h4 {
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--navy);
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .ai-info-box p {
            color: var(--gray-600);
            font-size: 13px;
            line-height: 1.6;
        }
        
        .reg-success {
            text-align: center;
            padding: 40px 20px;
        }
        
        .success-icon {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, var(--success), var(--teal-light));
            border-radius: 50%;
            margin: 0 auto 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: scaleIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        @keyframes scaleIn {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }
        
        .success-icon svg {
            width: 50px;
            height: 50px;
            stroke: white;
            stroke-width: 3;
        }
        
        .score-reveal {
            background: linear-gradient(135deg, var(--navy), var(--purple));
            border-radius: 24px;
            padding: 32px;
            color: white;
            margin: 24px 0;
        }
        
        .score-reveal .label {
            font-size: 14px;
            opacity: 0.8;
            margin-bottom: 8px;
        }
        
        .score-reveal .score {
            font-family: 'Montserrat', sans-serif;
            font-size: 72px;
            font-weight: 900;
            line-height: 1;
        }
        
        .score-reveal .subtitle {
            font-size: 16px;
            opacity: 0.9;
            margin-top: 8px;
        }
        
        .ai-analyzing {
            text-align: center;
            padding: 60px 20px;
        }
        
        .ai-spinner {
            width: 80px;
            height: 80px;
            border: 4px solid rgba(139, 92, 246, 0.2);
            border-top-color: var(--purple);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 24px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* =====================================================
           CEO ANALYTICS DASHBOARD - 3D CHARTS
           ===================================================== */
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 28px;
        }
        
        .kpi-card-3d {
            background: white;
            border-radius: 20px;
            padding: 24px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            transform-style: preserve-3d;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .kpi-card-3d:hover {
            transform: translateY(-8px) rotateX(5deg);
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
        }
        
        .kpi-card-3d::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            border-radius: 20px 20px 0 0;
        }
        
        .kpi-card-3d.navy::before { background: linear-gradient(90deg, var(--navy), var(--navy-light)); }
        .kpi-card-3d.teal::before { background: linear-gradient(90deg, var(--teal), var(--teal-light)); }
        .kpi-card-3d.gold::before { background: linear-gradient(90deg, var(--gold), #F0C674); }
        .kpi-card-3d.purple::before { background: linear-gradient(90deg, var(--purple), var(--pink)); }
        .kpi-card-3d.success::before { background: linear-gradient(90deg, var(--success), var(--teal-light)); }
        .kpi-card-3d.danger::before { background: linear-gradient(90deg, var(--danger), #F472B6); }
        
        .kpi-icon-3d {
            width: 60px;
            height: 60px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
            transform: perspective(500px) rotateY(-10deg);
            box-shadow: 8px 8px 20px rgba(0,0,0,0.15);
        }
        
        .kpi-icon-3d svg {
            width: 28px;
            height: 28px;
            stroke: white;
        }
        
        .kpi-label {
            font-size: 13px;
            color: var(--gray-500);
            margin-bottom: 4px;
            font-weight: 500;
        }
        
        .kpi-value-3d {
            font-family: 'Montserrat', sans-serif;
            font-size: 32px;
            font-weight: 900;
            color: var(--navy);
            line-height: 1;
            margin-bottom: 8px;
        }
        
        .kpi-trend {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .kpi-trend.up { background: rgba(16, 185, 129, 0.1); color: var(--success); }
        .kpi-trend.down { background: rgba(239, 68, 68, 0.1); color: var(--danger); }
        
        .kpi-sparkline {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
            opacity: 0.15;
        }
        
        /* 3D Bar Chart */
        .chart-container-3d {
            background: white;
            border-radius: 24px;
            padding: 28px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        
        .chart-title {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 18px;
            color: var(--navy);
        }
        
        .chart-subtitle {
            font-size: 13px;
            color: var(--gray-500);
            margin-top: 4px;
        }
        
        .chart-legend {
            display: flex;
            gap: 16px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: var(--gray-600);
        }
        
        .legend-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }
        
        /* 3D Bar Chart */
        .bar-chart-3d {
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            height: 280px;
            padding: 20px 0;
            perspective: 1000px;
        }
        
        .bar-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
        }
        
        .bar-3d {
            width: 50px;
            background: linear-gradient(180deg, var(--teal) 0%, var(--navy) 100%);
            border-radius: 8px 8px 0 0;
            position: relative;
            transform-style: preserve-3d;
            transform: rotateX(-5deg) rotateY(-10deg);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            animation: barGrow 1s ease-out forwards;
            animation-delay: var(--delay);
        }
        
        @keyframes barGrow {
            from { height: 0 !important; }
        }
        
        .bar-3d::before {
            content: '';
            position: absolute;
            top: 0;
            right: -15px;
            width: 15px;
            height: 100%;
            background: linear-gradient(180deg, rgba(23, 162, 184, 0.7) 0%, rgba(10, 61, 98, 0.7) 100%);
            transform: skewY(-45deg);
            transform-origin: top left;
            border-radius: 0 8px 0 0;
        }
        
        .bar-3d::after {
            content: '';
            position: absolute;
            top: -10px;
            left: 0;
            width: 50px;
            height: 15px;
            background: linear-gradient(90deg, var(--teal-light), var(--teal));
            transform: skewX(-45deg);
            transform-origin: bottom left;
            border-radius: 4px 4px 0 0;
        }
        
        .bar-3d:hover {
            transform: rotateX(-5deg) rotateY(-10deg) translateY(-10px);
            filter: brightness(1.1);
        }
        
        .bar-value {
            position: absolute;
            top: -35px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 14px;
            color: var(--navy);
            white-space: nowrap;
        }
        
        .bar-label {
            font-size: 12px;
            color: var(--gray-500);
            font-weight: 500;
        }
        
        /* 3D Donut Chart */
        .donut-chart-3d {
            position: relative;
            width: 220px;
            height: 220px;
            margin: 0 auto;
            transform: perspective(500px) rotateX(15deg);
            filter: drop-shadow(0 20px 30px rgba(0,0,0,0.15));
        }
        
        .donut-ring {
            fill: none;
            stroke-width: 35;
            transform-origin: center;
            animation: donutGrow 1.5s ease-out forwards;
        }
        
        @keyframes donutGrow {
            from { stroke-dasharray: 0 100; }
        }
        
        .donut-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
        
        .donut-value {
            font-family: 'Montserrat', sans-serif;
            font-size: 42px;
            font-weight: 900;
            color: var(--navy);
            line-height: 1;
        }
        
        .donut-label {
            font-size: 13px;
            color: var(--gray-500);
            margin-top: 4px;
        }
        
        /* 3D Pie Chart */
        .pie-chart-3d {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 0 auto;
            transform: perspective(500px) rotateX(55deg);
            filter: drop-shadow(0 30px 40px rgba(0,0,0,0.2));
        }
        
        .pie-slice {
            position: absolute;
            width: 100%;
            height: 100%;
            clip-path: polygon(50% 50%, 50% 0%, 100% 0%, 100% 100%, 0% 100%, 0% 0%, 50% 0%);
            transform-origin: center;
        }
        
        /* Circular Progress */
        .circular-progress-3d {
            position: relative;
            width: 140px;
            height: 140px;
            transform: perspective(400px) rotateX(10deg);
        }
        
        .progress-ring {
            transform: rotate(-90deg);
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.15));
        }
        
        .progress-ring-bg {
            fill: none;
            stroke: var(--gray-200);
            stroke-width: 12;
        }
        
        .progress-ring-fill {
            fill: none;
            stroke-width: 12;
            stroke-linecap: round;
            animation: progressFill 2s ease-out forwards;
        }
        
        @keyframes progressFill {
            from { stroke-dashoffset: 314; }
        }
        
        .progress-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
        
        .progress-value {
            font-family: 'Montserrat', sans-serif;
            font-size: 28px;
            font-weight: 800;
            color: var(--navy);
        }
        
        .progress-label {
            font-size: 11px;
            color: var(--gray-500);
        }
        
        /* Line Chart with Area */
        .line-chart-container {
            height: 200px;
            position: relative;
        }
        
        .line-chart-svg {
            width: 100%;
            height: 100%;
        }
        
        .chart-line {
            fill: none;
            stroke-width: 3;
            stroke-linecap: round;
            stroke-linejoin: round;
            filter: drop-shadow(0 4px 8px rgba(23, 162, 184, 0.3));
        }
        
        .chart-area {
            opacity: 0.2;
        }
        
        .chart-dot {
            fill: white;
            stroke-width: 3;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .chart-dot:hover {
            r: 8;
        }
        
        /* Gauge Chart */
        .gauge-chart {
            position: relative;
            width: 180px;
            height: 100px;
            margin: 0 auto;
        }
        
        .gauge-bg {
            fill: none;
            stroke: var(--gray-200);
            stroke-width: 20;
            stroke-linecap: round;
        }
        
        .gauge-fill {
            fill: none;
            stroke-width: 20;
            stroke-linecap: round;
            filter: drop-shadow(0 4px 12px rgba(16, 185, 129, 0.4));
            animation: gaugeFill 2s ease-out forwards;
        }
        
        @keyframes gaugeFill {
            from { stroke-dashoffset: 251; }
        }
        
        .gauge-needle {
            transform-origin: center bottom;
            animation: needleSwing 2s ease-out forwards;
        }
        
        @keyframes needleSwing {
            from { transform: rotate(-90deg); }
        }
        
        .gauge-value {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Montserrat', sans-serif;
            font-size: 28px;
            font-weight: 900;
            color: var(--navy);
        }
        
        /* Stats Row */
        .stats-row-3d {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .mini-stat {
            background: white;
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            transition: all 0.3s;
        }
        
        .mini-stat:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .mini-stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            margin: 0 auto 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .mini-stat-icon svg {
            width: 24px;
            height: 24px;
            stroke: white;
        }
        
        .mini-stat-value {
            font-family: 'Montserrat', sans-serif;
            font-size: 24px;
            font-weight: 800;
            color: var(--navy);
        }
        
        .mini-stat-label {
            font-size: 11px;
            color: var(--gray-500);
            margin-top: 4px;
        }
        
        /* Analytics Grid Layout */
        .analytics-row {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 24px;
            margin-bottom: 24px;
        }
        
        .analytics-row.three-cols {
            grid-template-columns: repeat(3, 1fr);
        }
        
        .analytics-row.two-equal {
            grid-template-columns: 1fr 1fr;
        }
        
        /* Animated Counter */
        .counter-animate {
            animation: countUp 2s ease-out;
        }
        
        /* Real-time Pulse */
        .pulse-live {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 12px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: var(--success);
        }
        
        .pulse-dot {
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        /* Heatmap */
        .heatmap-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
        }
        
        .heatmap-cell {
            aspect-ratio: 1;
            border-radius: 4px;
            transition: all 0.2s;
        }
        
        .heatmap-cell:hover {
            transform: scale(1.2);
            z-index: 10;
        }
        
        /* World Map Indicator */
        .world-stats {
            display: flex;
            justify-content: space-around;
            padding: 20px 0;
        }
        
        .country-stat {
            text-align: center;
        }
        
        .country-flag {
            font-size: 32px;
            margin-bottom: 8px;
        }
        
        .country-value {
            font-family: 'Montserrat', sans-serif;
            font-size: 20px;
            font-weight: 800;
            color: var(--navy);
        }
        
        .country-label {
            font-size: 11px;
            color: var(--gray-500);
        }

        /* =====================================================
           ADMIN PANEL
           ===================================================== */
        .admin-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 28px;
        }
        
        .admin-content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 24px;
        }
        
        /* Data Table */
        .data-table { width: 100%; }
        .data-table thead { background: var(--gray-50); }
        
        .data-table th {
            padding: 14px 20px;
            text-align: left;
            font-size: 11px;
            font-weight: 700;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .data-table td {
            padding: 16px 20px;
            border-bottom: 1px solid var(--gray-100);
            font-size: 14px;
        }
        
        .data-table tr:hover { background: var(--gray-50); }
        
        .client-cell { display: flex; align-items: center; gap: 12px; }
        
        .client-avatar-sm {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            font-size: 13px;
        }
        
        .client-info-sm h4 { font-weight: 600; color: var(--gray-800); margin-bottom: 2px; }
        .client-info-sm p { font-size: 12px; color: var(--gray-500); }
        
        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .status-active { background: rgba(16, 185, 129, 0.1); color: var(--success); }
        .status-pending { background: rgba(245, 158, 11, 0.1); color: var(--warning); }
        .status-review { background: rgba(139, 92, 246, 0.1); color: var(--purple); }
        
        .action-btn {
            width: 34px;
            height: 34px;
            border-radius: 8px;
            border: 1px solid var(--gray-200);
            background: white;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 4px;
        }
        
        .action-btn:hover { background: var(--gray-100); }
        .action-btn svg { width: 16px; height: 16px; stroke: var(--gray-500); }
        
        /* Approval Items */
        .approval-item {
            padding: 14px;
            border-bottom: 1px solid var(--gray-100);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .approval-icon {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .approval-icon svg { width: 20px; height: 20px; }
        .approval-content { flex: 1; }
        .approval-title { font-weight: 600; color: var(--gray-800); font-size: 14px; margin-bottom: 2px; }
        .approval-meta { font-size: 12px; color: var(--gray-500); }

        /* =====================================================
           RFA/RFC MANAGEMENT
           ===================================================== */
        .rfa-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            flex-wrap: wrap;
            gap: 16px;
        }
        
        .rfa-header-left h2 {
            font-family: 'Montserrat', sans-serif;
            font-size: 28px;
            font-weight: 800;
            color: var(--navy);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .rfa-header-left p {
            color: var(--gray-500);
            margin-top: 4px;
        }
        
        .rfa-stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .rfa-stat-card {
            background: white;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
            border: 1px solid var(--gray-200);
            text-align: center;
            transition: all 0.3s;
        }
        
        .rfa-stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.08);
        }
        
        .rfa-stat-card.active {
            border-color: var(--teal);
            background: linear-gradient(135deg, rgba(23,162,184,0.05) 0%, rgba(32,201,151,0.05) 100%);
        }
        
        .rfa-stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 12px;
        }
        
        .rfa-stat-icon svg {
            width: 24px;
            height: 24px;
            stroke-width: 2;
        }
        
        .rfa-stat-value {
            font-family: 'Montserrat', sans-serif;
            font-size: 28px;
            font-weight: 800;
            color: var(--navy);
        }
        
        .rfa-stat-label {
            font-size: 12px;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 4px;
        }
        
        /* Kanban Pipeline */
        .pipeline-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
            min-height: 600px;
            overflow-x: auto;
        }
        
        @media (max-width: 1400px) {
            .pipeline-container {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            }
        }
        
        .pipeline-column {
            background: var(--gray-50);
            border-radius: 16px;
            padding: 16px;
            display: flex;
            flex-direction: column;
        }
        
        .pipeline-column-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--gray-200);
            margin-bottom: 16px;
        }
        
        .pipeline-column-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 13px;
            font-weight: 700;
            color: var(--gray-700);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .pipeline-column-count {
            width: 24px;
            height: 24px;
            border-radius: 8px;
            background: var(--gray-200);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
            color: var(--gray-600);
        }
        
        .pipeline-column.pending .pipeline-column-header { border-color: var(--warning); }
        .pipeline-column.pending .pipeline-column-count { background: rgba(245,158,11,0.2); color: var(--warning); }
        
        .pipeline-column.available .pipeline-column-header { border-color: var(--info); }
        .pipeline-column.available .pipeline-column-count { background: rgba(59,130,246,0.2); color: var(--info); }
        
        .pipeline-column.proposed .pipeline-column-header { border-color: var(--purple); }
        .pipeline-column.proposed .pipeline-column-count { background: rgba(139,92,246,0.2); color: var(--purple); }
        
        .pipeline-column.approved .pipeline-column-header { border-color: var(--success); }
        .pipeline-column.approved .pipeline-column-count { background: rgba(16,185,129,0.2); color: var(--success); }
        
        .pipeline-column.deployed .pipeline-column-header { border-color: var(--navy); }
        .pipeline-column.deployed .pipeline-column-count { background: rgba(10,61,98,0.2); color: var(--navy); }
        
        .pipeline-cards {
            flex: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .rfa-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            border: 1px solid var(--gray-200);
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .rfa-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            border-color: var(--teal);
        }
        
        .rfa-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }
        
        .rfa-card-id {
            font-family: 'Montserrat', sans-serif;
            font-size: 11px;
            font-weight: 700;
            color: var(--teal);
            background: rgba(23,162,184,0.1);
            padding: 4px 8px;
            border-radius: 6px;
        }
        
        .rfa-card-priority {
            font-size: 10px;
            font-weight: 700;
            padding: 4px 8px;
            border-radius: 6px;
            text-transform: uppercase;
        }
        
        .rfa-card-priority.urgent { background: rgba(239,68,68,0.1); color: var(--danger); }
        .rfa-card-priority.high { background: rgba(245,158,11,0.1); color: var(--warning); }
        .rfa-card-priority.normal { background: rgba(107,114,128,0.1); color: var(--gray-600); }
        
        .rfa-card-position {
            font-family: 'Montserrat', sans-serif;
            font-size: 14px;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 4px;
        }
        
        .rfa-card-vessel {
            font-size: 12px;
            color: var(--gray-500);
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 12px;
        }
        
        .rfa-card-vessel svg {
            width: 14px;
            height: 14px;
            stroke: var(--gray-400);
        }
        
        .rfa-card-crew {
            display: flex;
            align-items: center;
            gap: 10px;
            padding-top: 12px;
            border-top: 1px solid var(--gray-100);
        }
        
        .rfa-card-crew-avatar {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--navy) 0%, var(--teal) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: 700;
        }
        
        .rfa-card-crew-info {
            flex: 1;
        }
        
        .rfa-card-crew-name {
            font-size: 13px;
            font-weight: 600;
            color: var(--gray-800);
        }
        
        .rfa-card-crew-meta {
            font-size: 11px;
            color: var(--gray-500);
        }
        
        .rfa-card-ai-score {
            padding: 4px 10px;
            background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%);
            border-radius: 8px;
            font-size: 11px;
            font-weight: 700;
            color: white;
        }
        
        .rfa-card-date {
            font-size: 11px;
            color: var(--gray-400);
            margin-top: 8px;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .rfa-card-date svg {
            width: 12px;
            height: 12px;
        }
        
        /* RFA/RFC Empty State */
        .pipeline-empty {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
            text-align: center;
        }
        
        .pipeline-empty svg {
            width: 48px;
            height: 48px;
            stroke: var(--gray-300);
            margin-bottom: 12px;
        }
        
        .pipeline-empty p {
            font-size: 13px;
            color: var(--gray-400);
        }
        
        /* RFA Modal Styles */
        .rfa-form-section {
            margin-bottom: 24px;
        }
        
        .rfa-form-section-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 14px;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .rfa-form-section-title svg {
            width: 18px;
            height: 18px;
            stroke: var(--teal);
        }
        
        .vessel-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }
        
        .vessel-option {
            padding: 16px;
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .vessel-option:hover {
            border-color: var(--teal);
            background: rgba(23,162,184,0.05);
        }
        
        .vessel-option.selected {
            border-color: var(--teal);
            background: rgba(23,162,184,0.1);
        }
        
        .vessel-option-flag {
            font-size: 24px;
            margin-bottom: 8px;
        }
        
        .vessel-option-name {
            font-family: 'Montserrat', sans-serif;
            font-size: 13px;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 4px;
        }
        
        .vessel-option-type {
            font-size: 11px;
            color: var(--gray-500);
        }
        
        .position-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 10px;
        }
        
        .position-chip {
            padding: 12px;
            border: 2px solid var(--gray-200);
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            font-size: 12px;
            font-weight: 600;
            color: var(--gray-600);
            transition: all 0.2s;
        }
        
        .position-chip:hover {
            border-color: var(--teal);
            color: var(--teal);
        }
        
        .position-chip.selected {
            border-color: var(--teal);
            background: var(--teal);
            color: white;
        }
        
        /* =====================================================
           DEPLOYMENT PIPELINE CARDS
           ===================================================== */
        .deployment-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            border: 1px solid var(--gray-200);
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .deployment-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            border-color: var(--teal);
        }
        
        .deployment-card.ready-card {
            border: 2px solid var(--success);
            background: linear-gradient(135deg, rgba(16,185,129,0.03) 0%, rgba(23,162,184,0.03) 100%);
        }
        
        .deployment-card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .deployment-crew-avatar {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--navy) 0%, var(--teal) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 13px;
            font-weight: 700;
        }
        
        .deployment-crew-info {
            flex: 1;
        }
        
        .deployment-crew-name {
            font-family: 'Montserrat', sans-serif;
            font-size: 14px;
            font-weight: 700;
            color: var(--navy);
        }
        
        .deployment-crew-position {
            font-size: 12px;
            color: var(--gray-500);
        }
        
        .deployment-ai-score {
            padding: 4px 10px;
            background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%);
            border-radius: 8px;
            font-size: 11px;
            font-weight: 700;
            color: white;
        }
        
        .deployment-vessel {
            font-size: 12px;
            color: var(--gray-500);
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--gray-100);
        }
        
        .deployment-vessel svg {
            width: 14px;
            height: 14px;
            stroke: var(--gray-400);
        }
        
        .deployment-status-row {
            margin-bottom: 12px;
        }
        
        .deployment-status {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 600;
        }
        
        .deployment-status.scheduled {
            background: rgba(59,130,246,0.1);
            color: var(--info);
        }
        
        .deployment-status.in-progress {
            background: rgba(245,158,11,0.1);
            color: var(--warning);
        }
        
        .deployment-status.waiting {
            background: rgba(107,114,128,0.1);
            color: var(--gray-600);
        }
        
        .deployment-status.completed {
            background: rgba(16,185,129,0.1);
            color: var(--success);
        }
        
        .deployment-checklist {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }
        
        .checklist-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            padding: 6px 10px;
            background: var(--gray-50);
            border-radius: 6px;
        }
        
        .checklist-item.completed {
            color: var(--success);
            background: rgba(16,185,129,0.08);
        }
        
        .checklist-item.in-progress {
            color: var(--warning);
            background: rgba(245,158,11,0.08);
        }
        
        .checklist-item.pending {
            color: var(--gray-500);
        }
        
        .checklist-item.scheduled {
            color: var(--info);
            background: rgba(59,130,246,0.08);
        }
        
        .checklist-icon {
            font-size: 12px;
            width: 16px;
            text-align: center;
        }
        
        .deployment-embark-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 12px;
            padding: 12px;
            background: rgba(16,185,129,0.08);
            border-radius: 10px;
        }
        
        .embark-date, .embark-port {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        .embark-label {
            font-size: 10px;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .embark-value {
            font-family: 'Montserrat', sans-serif;
            font-size: 13px;
            font-weight: 700;
            color: var(--navy);
        }
        
        .deployment-complete-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 12px;
        }
        
        .complete-badge {
            font-size: 10px;
            padding: 4px 8px;
            background: rgba(16,185,129,0.15);
            color: var(--success);
            border-radius: 4px;
            font-weight: 600;
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--success) 0%, var(--teal) 100%);
            color: white;
            border: none;
        }
        
        .btn-success:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(16,185,129,0.3);
        }
        
        .embark-btn {
            width: 100%;
            justify-content: center;
            padding: 10px;
            font-size: 12px;
        }
        
        /* =====================================================
           CONTRACT MANAGEMENT STYLES
           ===================================================== */
        .expiry-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
        }
        
        .expiry-badge.critical {
            background: rgba(239,68,68,0.1);
            color: var(--danger);
        }
        
        .expiry-badge.warning {
            background: rgba(245,158,11,0.1);
            color: var(--warning);
        }
        
        .contract-card {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px;
            background: white;
            border-radius: 10px;
            border: 1px solid var(--gray-200);
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .contract-card:hover {
            border-color: var(--teal);
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        
        .contract-card-crew {
            width: 38px;
            height: 38px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--navy), var(--teal));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: 700;
            flex-shrink: 0;
        }
        
        .contract-card-info {
            flex: 1;
            min-width: 0;
        }
        
        .contract-card-name {
            font-weight: 600;
            font-size: 13px;
            color: var(--navy);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .contract-card-detail {
            font-size: 11px;
            color: var(--gray-500);
        }
        
        .contract-card-date {
            font-size: 11px;
            color: var(--gray-400);
            white-space: nowrap;
        }
        
        /* =====================================================
           SIGN-OFF MANAGEMENT STYLES
           ===================================================== */
        .signoff-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            border: 1px solid var(--gray-200);
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .signoff-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            border-color: var(--teal);
        }
        
        .signoff-card.completed-card {
            border: 2px solid var(--success);
            background: linear-gradient(135deg, rgba(16,185,129,0.03) 0%, rgba(23,162,184,0.03) 100%);
        }
        
        .signoff-card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .signoff-crew-avatar {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--navy) 0%, var(--teal) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 13px;
            font-weight: 700;
            flex-shrink: 0;
        }
        
        .signoff-crew-info {
            flex: 1;
        }
        
        .signoff-crew-name {
            font-family: 'Montserrat', sans-serif;
            font-size: 14px;
            font-weight: 700;
            color: var(--navy);
        }
        
        .signoff-crew-position {
            font-size: 12px;
            color: var(--gray-500);
        }
        
        .signoff-vessel {
            font-size: 12px;
            color: var(--gray-500);
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--gray-100);
        }
        
        .signoff-vessel svg {
            width: 14px;
            height: 14px;
            stroke: var(--gray-400);
        }
        
        .signoff-detail-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            margin-bottom: 6px;
        }
        
        .signoff-label {
            color: var(--gray-500);
        }
        
        .signoff-value {
            font-weight: 600;
            color: var(--navy);
        }
        
        .signoff-reason {
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
        }
        
        .signoff-reason.finished {
            background: rgba(16,185,129,0.1);
            color: var(--success);
        }
        
        .signoff-reason.medical {
            background: rgba(236,72,153,0.1);
            color: var(--pink);
        }
        
        .signoff-reason.resignation {
            background: rgba(245,158,11,0.1);
            color: var(--warning);
        }
        
        .signoff-tasks {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 12px;
        }
        
        .signoff-task {
            font-size: 10px;
            padding: 4px 8px;
            border-radius: 4px;
            background: var(--gray-100);
            color: var(--gray-600);
        }
        
        .signoff-task.completed {
            background: rgba(16,185,129,0.1);
            color: var(--success);
        }
        
        .signoff-task.in-progress {
            background: rgba(245,158,11,0.1);
            color: var(--warning);
        }
        
        .signoff-task.scheduled {
            background: rgba(59,130,246,0.1);
            color: var(--info);
        }
        
        .signoff-task.pending {
            background: var(--gray-100);
            color: var(--gray-500);
        }
        
        .signoff-interview-result {
            margin: 12px 0;
        }
        
        .interview-score {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .interview-score.good {
            background: rgba(16,185,129,0.1);
            color: var(--success);
        }
        
        .interview-score.neutral {
            background: rgba(245,158,11,0.1);
            color: var(--warning);
        }
        
        .interview-score.poor {
            background: rgba(239,68,68,0.1);
            color: var(--danger);
        }
        
        .rehireable-badge {
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 10px;
            font-weight: 700;
        }
        
        .rehireable-badge.yes {
            background: rgba(16,185,129,0.15);
            color: var(--success);
        }
        
        .rehireable-badge.no {
            background: rgba(239,68,68,0.15);
            color: var(--danger);
        }
        
        .rehireable-badge.conditional {
            background: rgba(245,158,11,0.15);
            color: var(--warning);
        }
        
        .signoff-complete-info {
            background: rgba(16,185,129,0.05);
            border-radius: 8px;
            padding: 12px;
            margin: 12px 0;
        }
        
        .complete-row {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            margin-bottom: 4px;
        }
        
        .complete-row:last-child {
            margin-bottom: 0;
        }
        
        .complete-row span:first-child {
            color: var(--gray-500);
        }
        
        .signoff-action-btn {
            width: 100%;
            justify-content: center;
            padding: 8px;
            font-size: 12px;
            margin-top: 8px;
        }

        /* =====================================================
           CONTRACT MANAGEMENT RESPONSIVE STYLES
           ===================================================== */
        .contract-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }
        
        /* =====================================================
           PEME CLINIC INTEGRATION STYLES
           ===================================================== */
        .peme-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .peme-stat-card {
            background: white;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .peme-stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .peme-stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            border-radius: 4px 0 0 4px;
        }
        
        .peme-stat-card.pending::before { background: var(--warning); }
        .peme-stat-card.scheduled::before { background: var(--info); }
        .peme-stat-card.inprogress::before { background: var(--purple); }
        .peme-stat-card.passed::before { background: var(--success); }
        .peme-stat-card.failed::before { background: var(--danger); }
        
        .peme-stat-icon {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 12px;
        }
        
        .peme-stat-icon svg {
            width: 22px;
            height: 22px;
            stroke: white;
        }
        
        .peme-stat-value {
            font-family: 'Montserrat', sans-serif;
            font-size: 28px;
            font-weight: 800;
            color: var(--navy);
        }
        
        .peme-stat-label {
            font-size: 12px;
            color: var(--gray-500);
            margin-top: 4px;
        }
        
        .peme-content-grid {
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 24px;
        }
        
        .peme-pipeline {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
            min-height: 500px;
        }
        
        .peme-pipeline-column {
            background: var(--gray-50);
            border-radius: 16px;
            padding: 16px;
            display: flex;
            flex-direction: column;
        }
        
        .peme-pipeline-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--gray-200);
        }
        
        .peme-pipeline-header h4 {
            font-family: 'Montserrat', sans-serif;
            font-size: 13px;
            font-weight: 700;
            color: var(--navy);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .peme-pipeline-count {
            width: 26px;
            height: 26px;
            border-radius: 8px;
            background: var(--gray-200);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
            color: var(--gray-600);
        }
        
        .peme-pipeline-column.scheduled .peme-pipeline-header { border-color: var(--info); }
        .peme-pipeline-column.scheduled .peme-pipeline-count { background: rgba(59,130,246,0.2); color: var(--info); }
        
        .peme-pipeline-column.inprogress .peme-pipeline-header { border-color: var(--purple); }
        .peme-pipeline-column.inprogress .peme-pipeline-count { background: rgba(139,92,246,0.2); color: var(--purple); }
        
        .peme-pipeline-column.results .peme-pipeline-header { border-color: var(--warning); }
        .peme-pipeline-column.results .peme-pipeline-count { background: rgba(245,158,11,0.2); color: var(--warning); }
        
        .peme-pipeline-column.complete .peme-pipeline-header { border-color: var(--success); }
        .peme-pipeline-column.complete .peme-pipeline-count { background: rgba(16,185,129,0.2); color: var(--success); }
        
        .peme-pipeline-cards {
            flex: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .peme-card {
            background: white;
            border-radius: 12px;
            padding: 14px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            border: 1px solid var(--gray-200);
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .peme-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            border-color: var(--teal);
        }
        
        .peme-card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .peme-card-avatar {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--navy), var(--teal));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 11px;
            font-weight: 700;
            flex-shrink: 0;
        }
        
        .peme-card-info h5 {
            font-family: 'Montserrat', sans-serif;
            font-size: 13px;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 2px;
        }
        
        .peme-card-info span {
            font-size: 11px;
            color: var(--gray-500);
        }
        
        .peme-card-clinic {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            color: var(--gray-600);
            padding: 8px 0;
            border-top: 1px solid var(--gray-100);
            border-bottom: 1px solid var(--gray-100);
            margin: 8px 0;
        }
        
        .peme-card-clinic svg {
            width: 14px;
            height: 14px;
            stroke: var(--teal);
        }
        
        .peme-card-date {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            color: var(--gray-400);
        }
        
        .peme-card-date svg {
            width: 12px;
            height: 12px;
        }
        
        .peme-status-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 10px;
            font-weight: 700;
        }
        
        .peme-status-badge.fit {
            background: rgba(16,185,129,0.1);
            color: var(--success);
        }
        
        .peme-status-badge.unfit {
            background: rgba(239,68,68,0.1);
            color: var(--danger);
        }
        
        .peme-status-badge.conditional {
            background: rgba(245,158,11,0.1);
            color: var(--warning);
        }
        
        .peme-status-badge.pending {
            background: rgba(107,114,128,0.1);
            color: var(--gray-600);
        }
        
        /* Clinic Cards */
        .clinic-card {
            background: white;
            border-radius: 14px;
            padding: 16px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.06);
            border: 1px solid var(--gray-200);
            margin-bottom: 12px;
            transition: all 0.2s;
        }
        
        .clinic-card:hover {
            border-color: var(--teal);
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }
        
        .clinic-card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .clinic-logo {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--teal), var(--teal-light));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .clinic-info h5 {
            font-family: 'Montserrat', sans-serif;
            font-size: 14px;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 2px;
        }
        
        .clinic-info span {
            font-size: 11px;
            color: var(--gray-500);
        }
        
        .clinic-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            padding: 12px 0;
            border-top: 1px solid var(--gray-100);
        }
        
        .clinic-stat {
            text-align: center;
        }
        
        .clinic-stat-value {
            font-family: 'Montserrat', sans-serif;
            font-size: 16px;
            font-weight: 800;
            color: var(--navy);
        }
        
        .clinic-stat-label {
            font-size: 10px;
            color: var(--gray-500);
        }
        
        .clinic-status {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 10px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 600;
        }
        
        .clinic-status.active {
            background: rgba(16,185,129,0.1);
            color: var(--success);
        }
        
        .clinic-status.inactive {
            background: rgba(107,114,128,0.1);
            color: var(--gray-500);
        }
        
        .clinic-status-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: currentColor;
        }
        
        /* PEME Booking Modal */
        .peme-exam-types {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .exam-type-option {
            padding: 16px;
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .exam-type-option:hover {
            border-color: var(--teal);
            background: rgba(23,162,184,0.05);
        }
        
        .exam-type-option.selected {
            border-color: var(--teal);
            background: rgba(23,162,184,0.1);
        }
        
        .exam-type-icon {
            font-size: 28px;
            margin-bottom: 8px;
        }
        
        .exam-type-name {
            font-family: 'Montserrat', sans-serif;
            font-size: 13px;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 4px;
        }
        
        .exam-type-desc {
            font-size: 11px;
            color: var(--gray-500);
        }
        
        .time-slots {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 10px;
        }
        
        .time-slot {
            padding: 12px 8px;
            border: 2px solid var(--gray-200);
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s;
        }
        
        .time-slot:hover {
            border-color: var(--teal);
        }
        
        .time-slot.selected {
            border-color: var(--teal);
            background: var(--teal);
            color: white;
        }
        
        .time-slot.unavailable {
            opacity: 0.4;
            pointer-events: none;
        }
        
        .time-slot-time {
            font-family: 'Montserrat', sans-serif;
            font-size: 14px;
            font-weight: 700;
        }
        
        .time-slot-slots {
            font-size: 10px;
            opacity: 0.7;
        }
        
        /* Medical Results Panel */
        .medical-results-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .medical-result-item {
            background: var(--gray-50);
            border-radius: 10px;
            padding: 14px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .medical-result-name {
            font-size: 13px;
            font-weight: 600;
            color: var(--navy);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .medical-result-name svg {
            width: 16px;
            height: 16px;
            stroke: var(--gray-400);
        }
        
        .medical-result-status {
            font-size: 11px;
            font-weight: 700;
            padding: 4px 10px;
            border-radius: 6px;
        }
        
        .medical-result-status.normal {
            background: rgba(16,185,129,0.1);
            color: var(--success);
        }
        
        .medical-result-status.abnormal {
            background: rgba(239,68,68,0.1);
            color: var(--danger);
        }
        
        .medical-result-status.pending {
            background: var(--gray-200);
            color: var(--gray-600);
        }

        /* =====================================================
           PEME LIVE TRACKER SYSTEM
           ===================================================== */
        .peme-tracker-container {
            background: linear-gradient(135deg, #0a3d62 0%, #1a5276 50%, #0e6655 100%);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 24px;
            position: relative;
            overflow: hidden;
        }
        
        .peme-tracker-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            pointer-events: none;
        }
        
        .peme-tracker-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 24px;
            position: relative;
            z-index: 1;
        }
        
        .peme-tracker-title {
            color: white;
        }
        
        .peme-tracker-title h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 18px;
            font-weight: 800;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .peme-tracker-title p {
            font-size: 13px;
            color: rgba(255,255,255,0.7);
        }
        
        .peme-live-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid rgba(16, 185, 129, 0.4);
            padding: 8px 16px;
            border-radius: 30px;
            color: #10B981;
            font-weight: 700;
            font-size: 12px;
        }
        
        .peme-live-badge::before {
            content: '';
            width: 8px;
            height: 8px;
            background: #10B981;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }
        
        /* Progress Stages */
        .peme-stages-wrapper {
            position: relative;
            z-index: 1;
            margin-bottom: 20px;
        }
        
        .peme-stages-track {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            position: relative;
            padding: 0 10px;
        }
        
        .peme-stages-track::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 30px;
            right: 30px;
            height: 4px;
            background: rgba(255,255,255,0.2);
            border-radius: 2px;
        }
        
        .peme-stages-progress {
            position: absolute;
            top: 20px;
            left: 30px;
            height: 4px;
            background: linear-gradient(90deg, #10B981, #17A2B8);
            border-radius: 2px;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }
        
        .peme-stage {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            position: relative;
            flex: 1;
            max-width: 90px;
        }
        
        .peme-stage-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            border: 3px solid rgba(255,255,255,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            position: relative;
            z-index: 2;
        }
        
        .peme-stage-icon svg {
            width: 18px;
            height: 18px;
            stroke: rgba(255,255,255,0.5);
            stroke-width: 2;
            fill: none;
        }
        
        .peme-stage.completed .peme-stage-icon {
            background: #10B981;
            border-color: #10B981;
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.5);
        }
        
        .peme-stage.completed .peme-stage-icon svg {
            stroke: white;
        }
        
        .peme-stage.active .peme-stage-icon {
            background: linear-gradient(135deg, #17A2B8, #20C997);
            border-color: #17A2B8;
            animation: activeGlow 2s infinite;
            box-shadow: 0 0 20px rgba(23, 162, 184, 0.6);
        }
        
        .peme-stage.active .peme-stage-icon svg {
            stroke: white;
        }
        
        @keyframes activeGlow {
            0%, 100% { box-shadow: 0 0 15px rgba(23, 162, 184, 0.5); }
            50% { box-shadow: 0 0 25px rgba(23, 162, 184, 0.8); }
        }
        
        .peme-stage-label {
            font-size: 10px;
            color: rgba(255,255,255,0.5);
            text-align: center;
            font-weight: 600;
            line-height: 1.3;
            max-width: 70px;
        }
        
        .peme-stage.completed .peme-stage-label,
        .peme-stage.active .peme-stage-label {
            color: rgba(255,255,255,0.9);
        }
        
        .peme-stage-time {
            font-size: 9px;
            color: rgba(255,255,255,0.4);
        }
        
        .peme-stage.completed .peme-stage-time {
            color: #10B981;
        }
        
        /* AI Prediction Card */
        .peme-ai-prediction {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 16px;
            position: relative;
            z-index: 1;
        }
        
        .peme-ai-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 16px;
            border: 1px solid rgba(255,255,255,0.15);
        }
        
        .peme-ai-card.highlight {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(236, 72, 153, 0.2));
            border-color: rgba(139, 92, 246, 0.4);
        }
        
        .peme-ai-card-label {
            font-size: 11px;
            color: rgba(255,255,255,0.6);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .peme-ai-card-label svg {
            width: 14px;
            height: 14px;
        }
        
        .peme-ai-card-value {
            font-family: 'Montserrat', sans-serif;
            font-size: 24px;
            font-weight: 800;
            color: white;
        }
        
        .peme-ai-card-sub {
            font-size: 11px;
            color: rgba(255,255,255,0.5);
            margin-top: 4px;
        }
        
        .peme-confidence {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 8px;
        }
        
        .peme-confidence-bar {
            flex: 1;
            height: 4px;
            background: rgba(255,255,255,0.2);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .peme-confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #8B5CF6, #EC4899);
            border-radius: 2px;
        }
        
        .peme-confidence-text {
            font-size: 10px;
            color: #EC4899;
            font-weight: 700;
        }
        
        /* Share Link */
        .peme-share-section {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid rgba(255,255,255,0.1);
            position: relative;
            z-index: 1;
        }
        
        .peme-share-link {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            padding: 10px 14px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 12px;
            color: rgba(255,255,255,0.7);
        }
        
        .peme-share-link svg {
            width: 16px;
            height: 16px;
            stroke: rgba(255,255,255,0.5);
        }
        
        .peme-share-btn {
            background: linear-gradient(135deg, #8B5CF6, #6366F1);
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            color: white;
            font-weight: 700;
            font-size: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }
        
        .peme-share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 92, 246, 0.4);
        }
        
        /* Activity Timeline */
        .peme-activity-timeline {
            background: var(--gray-50);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .peme-activity-timeline h4 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .peme-activity-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .peme-activity-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding-left: 12px;
            position: relative;
        }
        
        .peme-activity-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 6px;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--gray-300);
        }
        
        .peme-activity-item.completed::before {
            background: var(--success);
        }
        
        .peme-activity-item.active::before {
            background: var(--teal);
            animation: pulse 1.5s infinite;
        }
        
        .peme-activity-content {
            flex: 1;
        }
        
        .peme-activity-content strong {
            color: var(--navy);
            font-size: 13px;
        }
        
        .peme-activity-content p {
            font-size: 12px;
            color: var(--gray-500);
            margin-top: 2px;
        }
        
        .peme-activity-time {
            font-size: 11px;
            color: var(--gray-400);
            white-space: nowrap;
        }
        
        /* Responsive for tracker */
        @media (max-width: 900px) {
            .peme-stages-track {
                flex-wrap: wrap;
                gap: 16px;
                justify-content: center;
            }
            .peme-stages-track::before,
            .peme-stages-progress {
                display: none;
            }
            .peme-stage {
                flex: 0 0 auto;
            }
            .peme-ai-prediction {
                grid-template-columns: 1fr;
            }
        }

        /* =====================================================
           PEME PACKAGE BUILDER SYSTEM
           ===================================================== */
        .peme-package-selector {
            background: white;
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
        }
        
        .peme-package-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 16px;
        }
        
        .peme-package-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 18px;
            font-weight: 800;
            color: var(--navy);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .peme-package-tabs {
            display: flex;
            gap: 8px;
            background: var(--gray-100);
            padding: 4px;
            border-radius: 12px;
        }
        
        .peme-package-tab {
            padding: 10px 20px;
            border: none;
            background: transparent;
            border-radius: 10px;
            font-weight: 600;
            font-size: 13px;
            color: var(--gray-500);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .peme-package-tab.active {
            background: white;
            color: var(--navy);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .peme-package-tab:hover:not(.active) {
            color: var(--navy);
        }
        
        /* Provider Cards */
        .peme-providers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .peme-provider-card {
            background: var(--gray-50);
            border: 2px solid var(--gray-200);
            border-radius: 16px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .peme-provider-card:hover {
            border-color: var(--teal);
            transform: translateY(-2px);
        }
        
        .peme-provider-card.selected {
            border-color: var(--teal);
            background: linear-gradient(135deg, rgba(23,162,184,0.05) 0%, rgba(32,201,151,0.05) 100%);
        }
        
        .package-variant-card:hover {
            border-color: var(--teal) !important;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        /* =====================================================
           FLAG STATE APPLICATION STYLES
           ===================================================== */
        .flag-pipeline {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 16px;
        }
        
        .flag-pipeline-column {
            min-width: 0;
        }
        
        .flag-app-card {
            background: white;
            border-radius: 12px;
            padding: 14px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid var(--gray-200);
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }
        
        .flag-app-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            border-color: var(--teal);
        }
        
        .flag-app-card.urgent {
            border-color: var(--warning);
            background: linear-gradient(135deg, rgba(245,158,11,0.03) 0%, white 100%);
        }
        
        .flag-app-card.completed {
            border-color: var(--teal);
            background: linear-gradient(135deg, rgba(23,162,184,0.03) 0%, white 100%);
        }
        
        .flag-app-card.done {
            border-color: var(--success);
            background: linear-gradient(135deg, rgba(16,185,129,0.05) 0%, white 100%);
        }
        
        .flag-app-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .flag-emoji {
            font-size: 18px;
        }
        
        .flag-app-id {
            font-family: 'Montserrat', sans-serif;
            font-size: 11px;
            font-weight: 700;
            color: var(--gray-500);
        }
        
        .urgent-badge {
            margin-left: auto;
            font-size: 10px;
            background: var(--warning);
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: 600;
        }
        
        .done-badge {
            margin-left: auto;
            font-size: 10px;
            background: var(--success);
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: 600;
        }
        
        .flag-app-name {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--navy);
            font-size: 14px;
            margin-bottom: 4px;
        }
        
        .flag-app-type {
            font-size: 12px;
            color: var(--teal);
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .flag-app-meta {
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            color: var(--gray-500);
            margin-bottom: 10px;
        }
        
        .payment-amount {
            color: var(--purple);
            font-weight: 700;
        }
        
        .flag-app-progress {
            height: 4px;
            background: var(--gray-200);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .flag-app-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--teal), var(--success));
            border-radius: 2px;
            transition: width 0.5s;
        }
        
        .flag-app-card.done .flag-app-progress-bar {
            background: var(--success);
        }
        
        .flag-app-docs {
            margin-top: 10px;
        }
        
        .doc-missing {
            font-size: 11px;
            color: var(--danger);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .doc-missing::before {
            content: '';
            font-size: 10px;
        }
        
        .flag-pay-btn {
            width: 100%;
            margin-top: 10px;
            padding: 8px;
            background: linear-gradient(135deg, var(--purple), #A78BFA);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 700;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .flag-pay-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139,92,246,0.4);
        }
        
        /* Responsive for Flag Pipeline */
        @media (max-width: 1400px) {
            .flag-pipeline {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (max-width: 900px) {
            .flag-pipeline {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 600px) {
            .flag-pipeline {
                grid-template-columns: 1fr;
            }
        }

        /* =====================================================
           CREW VISA APPLICATION STYLES
           ===================================================== */
        .visa-pipeline {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 16px;
        }
        
        .visa-pipeline-column {
            min-width: 0;
        }
        
        .visa-app-card {
            background: white;
            border-radius: 12px;
            padding: 14px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid var(--gray-200);
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }
        
        .visa-app-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            border-color: var(--teal);
        }
        
        .visa-app-card.appointment {
            border-left: 3px solid var(--warning);
        }
        
        .visa-app-card.appointment.urgent {
            border-color: var(--danger);
            background: linear-gradient(135deg, rgba(239,68,68,0.03) 0%, white 100%);
            animation: pulse-border 2s infinite;
        }
        
        @keyframes pulse-border {
            0%, 100% { box-shadow: 0 0 0 0 rgba(239,68,68,0.4); }
            50% { box-shadow: 0 0 0 4px rgba(239,68,68,0.1); }
        }
        
        .visa-app-card.processing {
            border-left: 3px solid var(--info);
        }
        
        .visa-app-card.approved {
            border-left: 3px solid var(--success);
            background: linear-gradient(135deg, rgba(16,185,129,0.03) 0%, white 100%);
        }
        
        .visa-app-card.done {
            border-left: 3px solid var(--teal);
            opacity: 0.85;
        }
        
        .visa-app-card.denied {
            border-left: 3px solid var(--danger);
            background: linear-gradient(135deg, rgba(239,68,68,0.03) 0%, white 100%);
        }
        
        .visa-app-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .visa-emoji {
            font-size: 20px;
        }
        
        .visa-app-id {
            font-family: 'Montserrat', sans-serif;
            font-size: 11px;
            font-weight: 700;
            color: var(--gray-500);
        }
        
        .approved-badge {
            margin-left: auto;
            font-size: 10px;
            background: var(--success);
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: 600;
        }
        
        .denied-badge {
            margin-left: auto;
            font-size: 10px;
            background: var(--danger);
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-weight: 600;
        }
        
        .visa-app-name {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--navy);
            font-size: 14px;
            margin-bottom: 2px;
        }
        
        .visa-app-type {
            font-size: 12px;
            color: var(--teal);
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .visa-app-vessel {
            font-size: 11px;
            color: var(--gray-500);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .visa-app-vessel::before {
            content: '';
            font-size: 10px;
        }
        
        .visa-app-meta {
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            color: var(--gray-500);
        }
        
        .visa-doc-status {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed var(--gray-200);
        }
        
        .docs-pending {
            font-size: 11px;
            color: var(--warning);
            font-weight: 600;
        }
        
        .visa-appointment {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 8px 0;
            padding: 8px 10px;
            background: rgba(245,158,11,0.1);
            border-radius: 8px;
        }
        
        .appt-date {
            font-size: 12px;
            font-weight: 700;
            color: var(--warning);
        }
        
        .appt-time {
            font-size: 11px;
            color: var(--gray-600);
            font-weight: 600;
        }
        
        .visa-embassy {
            font-size: 11px;
            color: var(--gray-500);
            text-align: center;
        }
        
        .visa-processing-info {
            font-size: 11px;
            color: var(--gray-500);
            margin: 8px 0 6px;
        }
        
        .visa-progress {
            height: 4px;
            background: var(--gray-200);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .visa-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--info), var(--teal));
            border-radius: 2px;
            transition: width 0.5s;
        }
        
        .visa-validity {
            font-size: 11px;
            color: var(--gray-600);
            margin: 8px 0;
            padding: 6px 10px;
            background: rgba(16,185,129,0.1);
            border-radius: 6px;
            text-align: center;
        }
        
        .visa-pickup-btn {
            width: 100%;
            margin-top: 10px;
            padding: 8px;
            background: linear-gradient(135deg, var(--success), #34D399);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 700;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .visa-pickup-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16,185,129,0.4);
        }
        
        .visa-deny-reason {
            font-size: 11px;
            color: var(--danger);
            margin: 8px 0;
            padding: 6px 10px;
            background: rgba(239,68,68,0.1);
            border-radius: 6px;
        }
        
        .visa-reapply-btn {
            width: 100%;
            margin-top: 8px;
            padding: 8px;
            background: linear-gradient(135deg, var(--warning), #FBBF24);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 700;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .visa-reapply-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(245,158,11,0.4);
        }
        
        .country-visa-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        /* Responsive for Visa Pipeline */
        @media (max-width: 1400px) {
            .visa-pipeline {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (max-width: 900px) {
            .visa-pipeline {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 600px) {
            .visa-pipeline {
                grid-template-columns: 1fr;
            }
        }

        /* =====================================================
           DOCUMENT EXPIRY STYLES
           ===================================================== */
        .doc-expiry-stats > div:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.12);
        }
        
        .doc-view-btn {
            padding: 8px 14px;
            background: var(--gray-100);
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            color: var(--gray-600);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .doc-view-btn.active {
            background: var(--navy);
            color: white;
            border-color: var(--navy);
        }
        
        .doc-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 14px 16px;
            background: var(--gray-50);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid transparent;
        }
        
        .doc-item:hover {
            background: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            border-color: var(--gray-200);
        }
        
        .doc-item.expired {
            background: rgba(239,68,68,0.05);
            border-left: 3px solid var(--danger);
        }
        
        .doc-item.urgent {
            background: rgba(245,158,11,0.05);
            border-left: 3px solid var(--warning);
        }
        
        .doc-item.notice {
            background: rgba(251,191,36,0.05);
            border-left: 3px solid #FBBF24;
        }
        
        .doc-item-left {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }
        
        .doc-type-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .doc-info {
            flex: 1;
        }
        
        .doc-seafarer {
            font-weight: 700;
            color: var(--navy);
            font-size: 14px;
        }
        
        .doc-details {
            font-size: 12px;
            color: var(--gray-500);
            margin-top: 2px;
        }
        
        .doc-item-right {
            text-align: right;
        }
        
        .doc-expiry-date {
            font-weight: 700;
            font-size: 13px;
        }
        
        .doc-expiry-date.expired {
            color: var(--danger);
        }
        
        .doc-expiry-date.urgent {
            color: var(--warning);
        }
        
        .doc-expiry-date.notice {
            color: #D97706;
        }
        
        .doc-days-ago, .doc-days-left {
            font-size: 11px;
            color: var(--gray-500);
            margin-top: 2px;
        }
        
        .doc-days-left {
            color: var(--warning);
            font-weight: 600;
        }
        
        .doc-action-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .doc-action-btn.danger {
            background: var(--danger);
            color: white;
        }
        
        .doc-action-btn.warning {
            background: var(--warning);
            color: white;
        }
        
        .doc-action-btn.yellow {
            background: #FBBF24;
            color: white;
        }
        
        .doc-action-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .doc-category-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--gray-100);
        }
        
        .doc-category-row:last-child {
            border-bottom: none;
        }
        
        .cat-badge {
            padding: 2px 8px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
        }
        
        .cat-badge.expired {
            background: rgba(239,68,68,0.1);
            color: var(--danger);
        }
        
        .cat-badge.warning {
            background: rgba(245,158,11,0.1);
            color: var(--warning);
        }
        
        .cat-badge.valid {
            background: rgba(16,185,129,0.1);
            color: var(--success);
        }
        
        .timeline-mini {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .timeline-day {
            display: flex;
            gap: 12px;
            align-items: flex-start;
        }
        
        .timeline-date {
            width: 45px;
            text-align: center;
            background: var(--gray-100);
            border-radius: 8px;
            padding: 6px;
        }
        
        .date-day {
            font-family: 'Montserrat', sans-serif;
            font-size: 18px;
            font-weight: 800;
            color: var(--navy);
        }
        
        .date-month {
            font-size: 10px;
            color: var(--gray-500);
            font-weight: 600;
        }
        
        .timeline-items {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        
        .timeline-item {
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
        }
        
        .timeline-item.danger {
            background: rgba(239,68,68,0.1);
            color: var(--danger);
        }
        
        .timeline-item.warning {
            background: rgba(245,158,11,0.1);
            color: var(--warning);
        }
        
        .timeline-item.info {
            background: rgba(59,130,246,0.1);
            color: var(--info);
        }
        
        .quick-action-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            width: 100%;
            padding: 12px 16px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 10px;
            color: white;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .quick-action-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(4px);
        }
        
        /* =====================================================
           PAYROLL STYLES
           ===================================================== */
        .payroll-summary > div {
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .payroll-summary > div:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .payroll-row {
            transition: all 0.3s;
        }
        
        .payroll-row:hover {
            background: rgba(23,162,184,0.05) !important;
            border-color: var(--teal) !important;
            transform: translateX(4px);
        }
        
        /* =====================================================
           TRAINING STYLES
           ===================================================== */
        .training-summary > div {
            transition: all 0.3s;
        }
        
        .training-summary > div:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .course-card {
            padding: 16px;
            background: var(--gray-50);
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid transparent;
        }
        
        .course-card:hover {
            background: white;
            border-color: var(--purple);
            box-shadow: 0 6px 20px rgba(139,92,246,0.15);
            transform: translateY(-2px);
        }
        
        .enrollment-item:hover {
            background: white !important;
            border-color: var(--purple) !important;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        
        .provider-card {
            transition: all 0.3s;
        }
        
        .provider-card:hover {
            background: white !important;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            transform: translateX(4px);
        }

        .peme-provider-logo {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 16px;
            color: white;
            margin-bottom: 12px;
        }
        
        .peme-provider-name {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--navy);
            font-size: 15px;
            margin-bottom: 4px;
        }
        
        .peme-provider-desc {
            font-size: 12px;
            color: var(--gray-500);
            margin-bottom: 12px;
        }
        
        .peme-provider-packages {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }
        
        .peme-provider-badge {
            padding: 4px 10px;
            background: rgba(23,162,184,0.1);
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
            color: var(--teal);
        }
        
        /* Age-based Package Selection */
        .peme-age-selector {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.1));
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(139, 92, 246, 0.2);
        }
        
        .peme-age-selector h4 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--navy);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .peme-age-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }
        
        .peme-age-option {
            background: white;
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .peme-age-option:hover {
            border-color: #8B5CF6;
        }
        
        .peme-age-option.selected {
            border-color: #8B5CF6;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.05));
        }
        
        .peme-age-option .age-range {
            font-family: 'Montserrat', sans-serif;
            font-size: 20px;
            font-weight: 800;
            color: var(--navy);
        }
        
        .peme-age-option .age-label {
            font-size: 12px;
            color: var(--gray-500);
            margin-top: 4px;
        }
        
        .peme-age-option .recommended-badge {
            display: inline-block;
            margin-top: 8px;
            padding: 4px 10px;
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            border-radius: 20px;
            font-size: 10px;
            font-weight: 700;
            color: white;
        }
        
        /* Custom Package Builder */
        .peme-custom-builder {
            background: white;
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
        }
        
        .peme-tests-category {
            margin-bottom: 32px;
        }
        
        .peme-tests-category-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--gray-100);
        }
        
        .peme-tests-category-title {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--navy);
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .peme-tests-category-badge {
            padding: 6px 14px;
            background: var(--gray-100);
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: var(--gray-600);
        }
        
        .peme-tests-category-badge.required {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }
        
        .peme-select-all {
            font-size: 14px;
            color: var(--teal);
            cursor: pointer;
            font-weight: 600;
        }
        
        .peme-select-all:hover {
            text-decoration: underline;
        }
        
        .peme-tests-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 12px;
        }
        
        .peme-test-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 16px 20px;
            background: var(--gray-50);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        
        .peme-test-item:hover {
            background: var(--gray-100);
        }
        
        .peme-test-item.selected {
            background: rgba(23, 162, 184, 0.08);
            border-color: var(--teal);
        }
        
        .peme-test-checkbox {
            width: 24px;
            height: 24px;
            border-radius: 8px;
            border: 2px solid var(--gray-300);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.2s;
        }
        
        .peme-test-item.selected .peme-test-checkbox {
            background: var(--teal);
            border-color: var(--teal);
        }
        
        .peme-test-checkbox svg {
            width: 14px;
            height: 14px;
            stroke: white;
            stroke-width: 3;
            opacity: 0;
            transition: opacity 0.2s;
        }
        
        .peme-test-item.selected .peme-test-checkbox svg {
            opacity: 1;
        }
        
        .peme-test-info {
            flex: 1;
            min-width: 0;
        }
        
        .peme-test-name {
            font-size: 14px;
            font-weight: 600;
            color: var(--navy);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .peme-test-desc {
            font-size: 12px;
            color: var(--gray-500);
            margin-top: 3px;
        }
        
        .peme-test-cost {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            font-size: 14px;
            color: var(--success);
            white-space: nowrap;
        }
        
        /* Package Summary */
        .peme-package-summary {
            background: linear-gradient(135deg, var(--navy) 0%, var(--teal) 100%);
            border-radius: 16px;
            padding: 20px;
            margin-top: 24px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 16px;
        }
        
        .peme-summary-stats {
            display: flex;
            gap: 32px;
        }
        
        .peme-summary-stat {
            text-align: center;
        }
        
        .peme-summary-stat .value {
            font-family: 'Montserrat', sans-serif;
            font-size: 28px;
            font-weight: 800;
        }
        
        .peme-summary-stat .label {
            font-size: 11px;
            opacity: 0.8;
        }
        
        .peme-summary-actions {
            display: flex;
            gap: 12px;
        }
        
        .peme-summary-btn {
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            border: none;
        }
        
        .peme-summary-btn.secondary {
            background: rgba(255,255,255,0.2);
            color: white;
        }
        
        .peme-summary-btn.secondary:hover {
            background: rgba(255,255,255,0.3);
        }
        
        .peme-summary-btn.primary {
            background: white;
            color: var(--navy);
        }
        
        .peme-summary-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        /* =====================================================
           RESPONSIVE
           ===================================================== */
        @media (max-width: 1400px) {
            .admin-stats-grid { grid-template-columns: repeat(2, 1fr); }
            .peme-pipeline { grid-template-columns: repeat(2, 1fr); }
        }
        
        @media (max-width: 1200px) {
            .content-grid, .admin-content-grid { grid-template-columns: 1fr; }
            .peme-content-grid { grid-template-columns: 1fr; }
            .peme-stats-grid { grid-template-columns: repeat(3, 1fr); }
            .contract-stats-grid { grid-template-columns: repeat(3, 1fr); }
        }
        
        @media (max-width: 1024px) {
            .sidebar { transform: translateX(-100%); }
            .sidebar.open { transform: translateX(0); }
            .main-content { margin-left: 0; }
            .menu-toggle { display: block; }
            .onboarding-sidebar { display: none; }
            .peme-stats-grid { grid-template-columns: repeat(2, 1fr); }
            .contract-stats-grid { grid-template-columns: repeat(2, 1fr); }
            .rfa-stats-row { grid-template-columns: repeat(2, 1fr); }
            .rfa-header { flex-direction: column; align-items: flex-start; }
            .rfa-header > div:last-child { width: 100%; }
        }
        
        @media (max-width: 768px) {
            .header-right .search-box { display: none; }
            .stats-grid { grid-template-columns: 1fr; }
            .admin-stats-grid { grid-template-columns: 1fr; }
            .marketplace-grid { grid-template-columns: 1fr; }
            .form-row { grid-template-columns: 1fr; }
            .welcome-banner { padding: 24px; }
            .welcome-banner h2 { font-size: 22px; }
            .logo-text-3d { font-size: 36px; letter-spacing: 4px; }
            .services-grid { grid-template-columns: 1fr !important; }
            .onboarding-card-header { padding: 24px 20px 0; }
            .onboarding-card-body { padding: 24px 20px; }
            .onboarding-card-footer { padding: 16px 20px; }
            .modal-container { margin: 10px; border-radius: 20px; }
            .modal-header { padding: 20px; }
            .modal-body { padding: 20px; }
            .modal-footer { padding: 16px 20px; flex-direction: column; }
            .modal-footer .btn { width: 100%; justify-content: center; }
            .toast { left: 20px; right: 20px; bottom: 20px; }
            .peme-stats-grid { grid-template-columns: repeat(2, 1fr); }
            .contract-stats-grid { grid-template-columns: repeat(2, 1fr); }
            .peme-pipeline { grid-template-columns: 1fr; min-height: auto; }
            .peme-exam-types { grid-template-columns: 1fr; }
            .time-slots { grid-template-columns: repeat(2, 1fr); }
            .medical-results-grid { grid-template-columns: 1fr; }
        }
        
        @media (max-width: 480px) {
            .peme-stats-grid { grid-template-columns: 1fr; }
            .contract-stats-grid { grid-template-columns: 1fr; }
        }

        /* =====================================================
           ADVANCED REPORTING STYLES
           ===================================================== */
        .reports-dashboard {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 24px;
            min-height: calc(100vh - 180px);
        }
        
        .reports-sidebar {
            background: white;
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            height: fit-content;
            position: sticky;
            top: 24px;
        }
        
        .reports-category {
            margin-bottom: 24px;
        }
        
        .reports-category-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 11px;
            font-weight: 700;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 12px;
            padding-left: 4px;
        }
        
        .report-nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 4px;
            border: none;
            background: transparent;
            width: 100%;
            text-align: left;
            font-family: 'Open Sans', sans-serif;
        }
        
        .report-nav-item:hover {
            background: var(--gray-100);
        }
        
        .report-nav-item.active {
            background: linear-gradient(135deg, rgba(23,162,184,0.1) 0%, rgba(32,201,151,0.1) 100%);
            border-left: 3px solid var(--teal);
        }
        
        .report-nav-item.active .report-nav-icon {
            color: var(--teal);
        }
        
        .report-nav-icon {
            width: 20px;
            height: 20px;
            color: var(--gray-500);
        }
        
        .report-nav-label {
            font-size: 14px;
            font-weight: 500;
            color: var(--gray-700);
        }
        
        .report-nav-item.active .report-nav-label {
            color: var(--navy);
            font-weight: 600;
        }
        
        .report-nav-count {
            margin-left: auto;
            padding: 2px 8px;
            background: var(--gray-200);
            border-radius: 10px;
            font-size: 11px;
            font-weight: 600;
            color: var(--gray-600);
        }
        
        .reports-main {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }
        
        .report-builder-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            overflow: hidden;
        }
        
        .report-builder-header {
            background: linear-gradient(135deg, var(--navy) 0%, var(--teal) 100%);
            padding: 24px 28px;
            color: white;
        }
        
        .report-builder-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 22px;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .report-builder-subtitle {
            font-size: 14px;
            opacity: 0.85;
            margin-top: 4px;
        }
        
        .report-builder-body {
            padding: 28px;
        }
        
        .report-config-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }
        
        .report-config-group label {
            display: block;
            font-size: 12px;
            font-weight: 600;
            color: var(--gray-600);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .report-config-group select,
        .report-config-group input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            font-size: 14px;
            font-family: 'Open Sans', sans-serif;
            transition: all 0.3s;
            background: white;
        }
        
        .report-config-group select:focus,
        .report-config-group input:focus {
            outline: none;
            border-color: var(--teal);
            box-shadow: 0 0 0 4px rgba(23,162,184,0.1);
        }
        
        .report-columns-selector {
            background: var(--gray-50);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
        }
        
        .report-columns-title {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--navy);
            font-size: 14px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .report-columns-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 10px;
        }
        
        .report-column-chip {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 14px;
            background: white;
            border: 2px solid var(--gray-200);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 13px;
        }
        
        .report-column-chip:hover {
            border-color: var(--teal);
        }
        
        .report-column-chip.selected {
            background: linear-gradient(135deg, rgba(23,162,184,0.1) 0%, rgba(32,201,151,0.1) 100%);
            border-color: var(--teal);
        }
        
        .report-column-chip.selected .column-checkbox {
            background: var(--teal);
            border-color: var(--teal);
        }
        
        .column-checkbox {
            width: 18px;
            height: 18px;
            border: 2px solid var(--gray-300);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .column-checkbox svg {
            width: 12px;
            height: 12px;
            stroke: white;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .report-column-chip.selected .column-checkbox svg {
            opacity: 1;
        }
        
        .report-preview {
            background: var(--gray-50);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 24px;
        }
        
        .report-preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }
        
        .report-preview-title {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--navy);
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .report-preview-table {
            width: 100%;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }
        
        .report-preview-table thead {
            background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 100%);
        }
        
        .report-preview-table th {
            padding: 14px 16px;
            text-align: left;
            font-size: 11px;
            font-weight: 700;
            color: white;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .report-preview-table td {
            padding: 14px 16px;
            font-size: 13px;
            color: var(--gray-700);
            border-bottom: 1px solid var(--gray-100);
        }
        
        .report-preview-table tr:hover {
            background: var(--gray-50);
        }
        
        .report-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 20px;
            border-top: 1px solid var(--gray-200);
        }
        
        .report-export-buttons {
            display: flex;
            gap: 12px;
        }
        
        .export-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            font-size: 13px;
        }
        
        .export-btn:hover {
            border-color: var(--teal);
            background: linear-gradient(135deg, rgba(23,162,184,0.05) 0%, rgba(32,201,151,0.05) 100%);
        }
        
        .export-btn.excel { color: #217346; }
        .export-btn.pdf { color: #E44D26; }
        .export-btn.csv { color: var(--info); }
        
        .export-btn.excel:hover { border-color: #217346; }
        .export-btn.pdf:hover { border-color: #E44D26; }
        .export-btn.csv:hover { border-color: var(--info); }
        
        .saved-reports-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 16px;
        }
        
        .saved-report-card {
            background: white;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.06);
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .saved-report-card:hover {
            border-color: var(--teal);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .saved-report-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
            font-size: 24px;
        }
        
        .saved-report-name {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--navy);
            font-size: 15px;
            margin-bottom: 4px;
        }
        
        .saved-report-desc {
            font-size: 12px;
            color: var(--gray-500);
            margin-bottom: 12px;
        }
        
        .saved-report-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 11px;
        }
        
        .schedule-badge {
            padding: 4px 10px;
            background: rgba(139,92,246,0.1);
            color: var(--purple);
            border-radius: 8px;
            font-weight: 600;
        }
        
        .chart-container {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.06);
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .chart-title {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--navy);
            font-size: 16px;
        }
        
        .chart-canvas {
            width: 100%;
            height: 250px;
            background: var(--gray-50);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .chart-bar {
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            height: 100%;
            width: 100%;
            padding: 20px;
        }
        
        .bar-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            flex: 1;
        }
        
        .bar-fill {
            width: 40px;
            border-radius: 8px 8px 0 0;
            transition: height 0.5s ease;
        }
        
        .bar-label {
            font-size: 11px;
            color: var(--gray-500);
            font-weight: 600;
        }
        
        .report-schedule-form {
            background: linear-gradient(135deg, rgba(139,92,246,0.05) 0%, rgba(236,72,153,0.05) 100%);
            border: 2px solid rgba(139,92,246,0.2);
            border-radius: 16px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .schedule-form-title {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--purple);
            font-size: 14px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .schedule-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 10px;
        }
        
        .schedule-option {
            padding: 12px 16px;
            background: white;
            border: 2px solid var(--gray-200);
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 13px;
            font-weight: 600;
        }
        
        .schedule-option:hover {
            border-color: var(--purple);
        }
        
        .schedule-option.selected {
            background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%);
            border-color: transparent;
            color: white;
        }
        
        @media (max-width: 1024px) {
            .reports-dashboard {
                grid-template-columns: 1fr;
            }
            .reports-sidebar {
                position: static;
            }
        }
        
        @media (max-width: 768px) {
            .report-config-row {
                grid-template-columns: 1fr;
            }
            .report-columns-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .report-export-buttons {
                flex-wrap: wrap;
            }
            .saved-reports-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- =====================================================
         INTRO SCREEN
         ===================================================== -->
    <div id="intro-screen">
        <div class="ocean-bg"></div>
        <div class="aurora"></div>
        
        <div class="stars-layer" id="stars"></div>
        
        <div class="waves-container">
            <div class="wave-layer wave-1">
                <svg class="wave-svg" viewBox="0 0 1440 100" preserveAspectRatio="none">
                    <path fill="rgba(10, 61, 98, 0.8)" d="M0,50 C360,100 1080,0 1440,50 L1440,100 L0,100 Z"/>
                </svg>
            </div>
            <div class="wave-layer wave-2">
                <svg class="wave-svg" viewBox="0 0 1440 100" preserveAspectRatio="none">
                    <path fill="rgba(23, 162, 184, 0.4)" d="M0,60 C480,20 960,80 1440,40 L1440,100 L0,100 Z"/>
                </svg>
            </div>
            <div class="wave-layer wave-3">
                <svg class="wave-svg" viewBox="0 0 1440 100" preserveAspectRatio="none">
                    <path fill="rgba(32, 201, 151, 0.3)" d="M0,40 C320,80 1120,20 1440,60 L1440,100 L0,100 Z"/>
                </svg>
            </div>
        </div>
        
        <div class="intro-content">
            <div class="compass-3d-container">
                <div class="compass-glow"></div>
                <div class="compass-3d">
                    <svg class="compass-rose-svg" viewBox="0 0 200 130">
                        <ellipse cx="100" cy="65" rx="95" ry="60" fill="none" stroke="rgba(23,162,184,0.3)" stroke-width="1"/>
                        <ellipse cx="100" cy="65" rx="80" ry="50" fill="none" stroke="rgba(32,201,151,0.2)" stroke-width="1"/>
                        <path d="M100 5 L106 65 L100 58 L94 65 Z" fill="rgba(255,255,255,0.95)"/>
                        <path d="M100 125 L106 65 L100 72 L94 65 Z" fill="rgba(23,162,184,0.8)"/>
                        <path d="M8 65 L100 59 L93 65 L100 71 Z" fill="rgba(32,201,151,0.8)"/>
                        <path d="M192 65 L100 59 L107 65 L100 71 Z" fill="rgba(23,162,184,0.8)"/>
                        <circle cx="100" cy="65" r="8" fill="rgba(255,255,255,0.9)"/>
                        <circle cx="100" cy="65" r="4" fill="rgba(23,162,184,0.8)"/>
                    </svg>
                </div>
            </div>
            
            <div class="brand-container">
                <div class="vision-label">V I S I O N</div>
                <h1 class="logo-text-3d">crossworld</h1>
            </div>
            
            <p class="tagline">Together <span class="highlight">Always</span> Ahead</p>
            
            <button class="enter-button" id="enter-btn">Enter Platform</button>
        </div>
        
        <div class="scroll-indicator">
            <div class="scroll-line"></div>
            <span class="scroll-text">Click to Enter</span>
        </div>
    </div>

    <!-- =====================================================
         MAIN APPLICATION
         ===================================================== -->
    <div id="main-app">
        <div class="mobile-overlay" id="mobile-overlay"></div>
        
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-logo">
                <div class="logo-icon">
                    <svg viewBox="0 0 100 70" fill="none">
                        <ellipse cx="50" cy="35" rx="45" ry="30" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.3)" stroke-width="1"/>
                        <path d="M50 8 L54 35 L50 32 L46 35 Z" fill="white"/>
                        <path d="M50 62 L54 35 L50 38 L46 35 Z" fill="rgba(255,255,255,0.6)"/>
                        <path d="M12 35 L50 31 L47 35 L50 39 Z" fill="rgba(255,255,255,0.7)"/>
                        <path d="M88 35 L50 31 L53 35 L50 39 Z" fill="rgba(255,255,255,0.7)"/>
                        <circle cx="50" cy="35" r="5" fill="white"/>
                    </svg>
                </div>
                <div class="logo-info">
                    <h1>CROSSWORLD</h1>
                    <p>Digital Platform</p>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <span class="nav-section-title">Main</span>
                
                <button class="nav-item active" data-page="dashboard">
                    <svg viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                    <span>Dashboard</span>
                </button>
                
                <button class="nav-item" data-page="marketplace">
                    <svg viewBox="0 0 24 24"><circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/></svg>
                    <span>Marketplace</span>
                </button>
                
                <button class="nav-item" data-page="vessels">
                    <svg viewBox="0 0 24 24"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76"/></svg>
                    <span>My Vessels</span>
                </button>
                
                <button class="nav-item" data-page="crew">
                    <svg viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                    <span>Crew</span>
                </button>
                
                <span class="nav-section-title">Portals</span>
                
                <button class="nav-item" data-page="seafarer">
                    <svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="5"/><path d="M20 21a8 8 0 1 0-16 0"/></svg>
                    <span>Seafarer Portal</span>
                </button>
                
                <button class="nav-item" data-page="seafarer-register">
                    <svg viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>
                    <span>Seafarer Registration</span>
                    <span class="nav-badge" style="background: var(--purple);">New</span>
                </button>
                
                <button class="nav-item" data-page="onboarding">
                    <svg viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>
                    <span>Onboarding</span>
                    <span class="nav-badge">New</span>
                </button>
                
                <span class="nav-section-title">Crew Employment</span>
                
                <button class="nav-item" data-page="rfa-rfc">
                    <svg viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/><path d="M9 14l2 2 4-4"/></svg>
                    <span>RFA / RFC</span>
                    <span class="nav-badge" style="background: var(--danger);">New</span>
                </button>
                
                <button class="nav-item" data-page="deployment">
                    <svg viewBox="0 0 24 24"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                    <span>Deployment</span>
                </button>
                
                <button class="nav-item" data-page="contracts">
                    <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
                    <span>Contracts</span>
                </button>
                
                <button class="nav-item" data-page="sign-off">
                    <svg viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                    <span>Sign-Off</span>
                </button>
                
                <button class="nav-item" data-page="peme">
                    <svg viewBox="0 0 24 24"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                    <span>PEME Clinic</span>
                    <span class="nav-badge" style="background: var(--danger);">New</span>
                </button>
                
                <span class="nav-section-title">Admin</span>
                
                <button class="nav-item" data-page="admin">
                    <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
                    <span>Admin Panel</span>
                </button>
                
                <button class="nav-item" data-page="crew-database">
                    <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/></svg>
                    <span>Crew Database</span>
                    <span class="nav-badge" style="background: var(--success);">847</span>
                </button>
                
                <button class="nav-item" data-page="documents">
                    <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                    <span>Documents</span>
                    <span class="nav-badge">12</span>
                </button>
                
                <button class="nav-item" data-page="flag-state">
                    <svg viewBox="0 0 24 24"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" y1="22" x2="4" y2="15"/></svg>
                    <span>Flag State</span>
                    <span class="nav-badge" style="background: var(--purple);">New</span>
                </button>
                
                <button class="nav-item" data-page="crew-visa">
                    <svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="16" rx="2"/><line x1="3" y1="10" x2="21" y2="10"/><circle cx="8" cy="15" r="1"/><circle cx="12" cy="15" r="1"/></svg>
                    <span>Crew Visa</span>
                    <span class="nav-badge" style="background: var(--teal);">New</span>
                </button>
                
                <button class="nav-item" data-page="doc-expiry">
                    <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                    <span>Doc Expiry</span>
                    <span class="nav-badge" style="background: var(--danger);">23</span>
                </button>
                
                <button class="nav-item" data-page="payroll">
                    <svg viewBox="0 0 24 24"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                    <span>Payroll</span>
                    <span class="nav-badge" style="background: var(--success);">New</span>
                </button>
                
                <button class="nav-item" data-page="training">
                    <svg viewBox="0 0 24 24"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                    <span>Training</span>
                    <span class="nav-badge" style="background: var(--purple);">New</span>
                </button>
                
                <button class="nav-item" data-page="reports">
                    <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><line x1="10" y1="9" x2="8" y2="9"/></svg>
                    <span>Reports</span>
                    <span class="nav-badge" style="background: var(--teal);">New</span>
                </button>
            </nav>
            
            <div class="sidebar-user">
                <div class="user-avatar">DS</div>
                <div class="user-info">
                    <p>Diana Shipping</p>
                    <p>12 Vessels Active</p>
                </div>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            <header class="header">
                <div class="header-left">
                    <button class="menu-toggle" id="menu-toggle">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/>
                        </svg>
                    </button>
                    <h2 class="page-title" id="page-title">Dashboard</h2>
                </div>
                <div class="header-right">
                    <div class="search-box">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/>
                        </svg>
                        <input type="text" placeholder="Search vessels, crew, documents...">
                    </div>
                    <button class="notification-btn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                        </svg>
                        <span class="notification-badge"></span>
                    </button>
                </div>
            </header>
            
            <div class="page-content">
                <!-- DASHBOARD PAGE -->
                <div class="page active" id="page-dashboard">
                    <div class="welcome-banner">
                        <h2>Welcome back, Diana Shipping! </h2>
                        <p>Together Always Ahead  Here's your fleet overview for today.</p>
                        <div class="welcome-banner-btns">
                            <button class="btn btn-white" onclick="openVesselModal()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
                                </svg>
                                Add New Vessel
                            </button>
                            <button class="btn btn-ghost" onclick="navigateTo('marketplace')">Browse Services</button>
                        </div>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div>
                                    <p class="stat-label">Active Vessels</p>
                                    <h3 class="stat-value">12</h3>
                                </div>
                                <div class="stat-icon" style="background: rgba(10, 61, 98, 0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="#0A3D62"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg></div>
                            </div>
                            <span class="stat-change positive"> +2 this month</span>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div>
                                    <p class="stat-label">Total Crew</p>
                                    <h3 class="stat-value">264</h3>
                                </div>
                                <div class="stat-icon" style="background: rgba(23, 162, 184, 0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="#17A2B8"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg></div>
                            </div>
                            <span class="stat-change positive"> 98% retention</span>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div>
                                    <p class="stat-label">Pending Documents</p>
                                    <h3 class="stat-value">8</h3>
                                </div>
                                <div class="stat-icon" style="background: rgba(245, 158, 11, 0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="#F59E0B"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/></svg></div>
                            </div>
                            <span class="stat-change negative">3 expiring soon</span>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-header">
                                <div>
                                    <p class="stat-label">Monthly Spend</p>
                                    <h3 class="stat-value">$847K</h3>
                                </div>
                                <div class="stat-icon" style="background: rgba(16, 185, 129, 0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="#10B981"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg></div>
                            </div>
                            <span class="stat-change positive"> -5% vs budget</span>
                        </div>
                    </div>
                    
                    <div class="content-grid">
                        <div class="content-card">
                            <div class="content-card-header"><h3 class="content-card-title">Recent Activity</h3></div>
                            <div class="content-card-body"><p style="color: var(--gray-500);">Activity feed coming soon...</p></div>
                        </div>
                        <div class="content-card">
                            <div class="content-card-header"><h3 class="content-card-title">Quick Actions</h3></div>
                            <div class="content-card-body">
                                <button class="btn btn-primary" style="width: 100%; margin-bottom: 10px; justify-content: center;" onclick="navigateTo('onboarding')">Start Onboarding </button>
                                <button class="btn btn-ghost" style="width: 100%; background: var(--gray-100); color: var(--navy); justify-content: center;" onclick="navigateTo('seafarer')">View Seafarer Portal</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- MARKETPLACE PAGE -->
                <div class="page" id="page-marketplace">
                    <div style="margin-bottom: 24px;"><h2 style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 700; color: var(--navy); margin-bottom: 4px;">Service Marketplace</h2><p style="color: var(--gray-500);">Build your perfect maritime service package</p></div>
                    <div class="marketplace-grid">
                        <div class="service-card"><span class="service-badge popular"> Popular</span><div class="service-header"><div class="service-icon" style="background: rgba(10, 61, 98, 0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="#0A3D62" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg></div><div><h3 class="service-title">Crew Management</h3><p class="service-category">Core Services</p></div></div><div class="service-body"><p class="service-description">Full lifecycle crew management with 24/7 support.</p><div class="feature-item"><svg viewBox="0 0 24 24" fill="none" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>Recruitment & Selection</div><div class="feature-item"><svg viewBox="0 0 24 24" fill="none" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>24/7 Support</div></div><div class="service-footer"><div class="service-price"><span class="amount">$85</span><span class="unit">per seafarer/month</span></div><button class="add-btn add"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>Add</button></div></div>
                        <div class="service-card"><div class="service-header"><div class="service-icon" style="background: rgba(139, 92, 246, 0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="#8B5CF6" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg></div><div><h3 class="service-title">Training Programs</h3><p class="service-category">Training</p></div></div><div class="service-body"><p class="service-description">Comprehensive maritime training and certification.</p><div class="feature-item"><svg viewBox="0 0 24 24" fill="none" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>STCW Compliance</div></div><div class="service-footer"><div class="service-price"><span class="amount">$45</span><span class="unit">per seafarer/month</span></div><button class="add-btn add"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>Add</button></div></div>
                        <div class="service-card"><span class="service-badge new">New</span><div class="service-header"><div class="service-icon" style="background: rgba(23, 162, 184, 0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="#17A2B8" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg></div><div><h3 class="service-title">Ship Management</h3><p class="service-category">Technical</p></div></div><div class="service-body"><p class="service-description">Technical and operational vessel management.</p><div class="feature-item"><svg viewBox="0 0 24 24" fill="none" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>Technical Maintenance</div></div><div class="service-footer"><div class="service-price"><span class="amount">$1,500</span><span class="unit">per vessel/month</span></div><button class="add-btn add"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>Add</button></div></div>
                        <div class="service-card"><div class="service-header"><div class="service-icon" style="background: rgba(236, 72, 153, 0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="#EC4899" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg></div><div><h3 class="service-title">Medical & Insurance</h3><p class="service-category">Medical</p></div></div><div class="service-body"><p class="service-description">Complete health coverage and P&I consultancy.</p><div class="feature-item"><svg viewBox="0 0 24 24" fill="none" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>Pre-employment Screening</div></div><div class="service-footer"><div class="service-price"><span class="amount">$35</span><span class="unit">per seafarer/month</span></div><button class="add-btn add"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>Add</button></div></div>
                    </div>
                </div>

                <!-- VESSELS PAGE -->
                <div class="page" id="page-vessels">
                    <div class="welcome-banner" style="background: linear-gradient(135deg, #1A5276 0%, #17A2B8 100%);"><h2>Fleet Management</h2><p>Manage your 12 active vessels and their crew assignments.</p></div>
                    <div class="stats-grid"><div class="stat-card"><p class="stat-label">Bulk Carriers</p><h3 class="stat-value">7</h3></div><div class="stat-card"><p class="stat-label">Tankers</p><h3 class="stat-value">3</h3></div><div class="stat-card"><p class="stat-label">Container Ships</p><h3 class="stat-value">2</h3></div></div>
                </div>

                <!-- CREW PAGE -->
                <div class="page" id="page-crew">
                    <div class="welcome-banner" style="background: linear-gradient(135deg, #0A3D62 0%, #20C997 100%);"><h2>Crew Management</h2><p>264 active seafarers across your fleet.</p></div>
                    <div class="stats-grid"><div class="stat-card"><p class="stat-label">Officers</p><h3 class="stat-value">84</h3></div><div class="stat-card"><p class="stat-label">Ratings</p><h3 class="stat-value">180</h3></div><div class="stat-card"><p class="stat-label">On Leave</p><h3 class="stat-value">22</h3></div></div>
                </div>

                <!-- RFA/RFC MANAGEMENT PAGE -->
                <div class="page" id="page-rfa-rfc">
                    <div class="rfa-header">
                        <div class="rfa-header-left">
                            <h2> RFA / RFC Management</h2>
                            <p>Request for Availability & Request for Crew  Rotation Plan Pipeline</p>
                        </div>
                        <div style="display: flex; gap: 12px;">
                            <button class="btn btn-ghost" style="background: var(--gray-100); color: var(--navy);">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>
                                Filters
                            </button>
                            <button class="btn btn-primary" onclick="openRfaModal()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                                New RFA/RFC
                            </button>
                        </div>
                    </div>
                    
                    <!-- Stats Row -->
                    <div class="rfa-stats-row">
                        <div class="rfa-stat-card">
                            <div class="rfa-stat-icon" style="background: rgba(245,158,11,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#F59E0B"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                            </div>
                            <div class="rfa-stat-value">12</div>
                            <div class="rfa-stat-label">Pending RFA</div>
                        </div>
                        <div class="rfa-stat-card">
                            <div class="rfa-stat-icon" style="background: rgba(59,130,246,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#3B82F6"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                            </div>
                            <div class="rfa-stat-value">8</div>
                            <div class="rfa-stat-label">Available Crew</div>
                        </div>
                        <div class="rfa-stat-card">
                            <div class="rfa-stat-icon" style="background: rgba(139,92,246,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#8B5CF6"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><polyline points="17 11 19 13 23 9"/></svg>
                            </div>
                            <div class="rfa-stat-value">5</div>
                            <div class="rfa-stat-label">Proposed</div>
                        </div>
                        <div class="rfa-stat-card">
                            <div class="rfa-stat-icon" style="background: rgba(16,185,129,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#10B981"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                            </div>
                            <div class="rfa-stat-value">3</div>
                            <div class="rfa-stat-label">Approved</div>
                        </div>
                        <div class="rfa-stat-card">
                            <div class="rfa-stat-icon" style="background: rgba(10,61,98,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#0A3D62"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76"/></svg>
                            </div>
                            <div class="rfa-stat-value">47</div>
                            <div class="rfa-stat-label">Deployed (MTD)</div>
                        </div>
                    </div>
                    
                    <!-- Pipeline Kanban -->
                    <div style="overflow-x: auto;">
                        <div class="pipeline-container">
                            <!-- Pending RFA Column -->
                        <div class="pipeline-column pending">
                            <div class="pipeline-column-header">
                                <span class="pipeline-column-title">
                                    <span style="width: 8px; height: 8px; background: var(--warning); border-radius: 50%;"></span>
                                    Pending RFA
                                </span>
                                <span class="pipeline-column-count">4</span>
                            </div>
                            <div class="pipeline-cards">
                                <div class="rfa-card" onclick="openRfaDetailModal('RFA-2026-0847')">
                                    <div class="rfa-card-header">
                                        <span class="rfa-card-id">RFA-2026-0847</span>
                                        <span class="rfa-card-priority urgent">Urgent</span>
                                    </div>
                                    <div class="rfa-card-position">Chief Officer</div>
                                    <div class="rfa-card-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                                        MV Diana Pioneer
                                    </div>
                                    <div class="rfa-card-date">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                                        Join: Mar 15, 2026
                                    </div>
                                </div>
                                <div class="rfa-card" onclick="openRfaDetailModal('RFA-2026-0846')">
                                    <div class="rfa-card-header">
                                        <span class="rfa-card-id">RFA-2026-0846</span>
                                        <span class="rfa-card-priority high">High</span>
                                    </div>
                                    <div class="rfa-card-position">2nd Engineer</div>
                                    <div class="rfa-card-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                                        MV Centrofin Glory
                                    </div>
                                    <div class="rfa-card-date">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                                        Join: Mar 20, 2026
                                    </div>
                                </div>
                                <div class="rfa-card" onclick="openRfaDetailModal('RFA-2026-0845')">
                                    <div class="rfa-card-header">
                                        <span class="rfa-card-id">RFA-2026-0845</span>
                                        <span class="rfa-card-priority normal">Normal</span>
                                    </div>
                                    <div class="rfa-card-position">Bosun</div>
                                    <div class="rfa-card-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                                        MV Pioneer Spirit
                                    </div>
                                    <div class="rfa-card-date">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                                        Join: Apr 01, 2026
                                    </div>
                                </div>
                                <div class="rfa-card" onclick="openRfaDetailModal('RFA-2026-0844')">
                                    <div class="rfa-card-header">
                                        <span class="rfa-card-id">RFA-2026-0844</span>
                                        <span class="rfa-card-priority normal">Normal</span>
                                    </div>
                                    <div class="rfa-card-position">AB Seaman</div>
                                    <div class="rfa-card-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                                        MV Diana Voyager
                                    </div>
                                    <div class="rfa-card-date">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                                        Join: Apr 05, 2026
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Available Crew Column -->
                        <div class="pipeline-column available">
                            <div class="pipeline-column-header">
                                <span class="pipeline-column-title">
                                    <span style="width: 8px; height: 8px; background: var(--info); border-radius: 50%;"></span>
                                    Available Crew
                                </span>
                                <span class="pipeline-column-count">3</span>
                            </div>
                            <div class="pipeline-cards">
                                <div class="rfa-card">
                                    <div class="rfa-card-header">
                                        <span class="rfa-card-id">RFC-2026-0521</span>
                                        <span class="rfa-card-priority high">Match</span>
                                    </div>
                                    <div class="rfa-card-position">Chief Officer</div>
                                    <div class="rfa-card-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                                        For: MV Diana Pioneer
                                    </div>
                                    <div class="rfa-card-crew">
                                        <div class="rfa-card-crew-avatar">JR</div>
                                        <div class="rfa-card-crew-info">
                                            <div class="rfa-card-crew-name">Juan Reyes</div>
                                            <div class="rfa-card-crew-meta">8 yrs exp  Bulk Carrier</div>
                                        </div>
                                        <span class="rfa-card-ai-score">AI 94</span>
                                    </div>
                                </div>
                                <div class="rfa-card">
                                    <div class="rfa-card-header">
                                        <span class="rfa-card-id">RFC-2026-0520</span>
                                        <span class="rfa-card-priority normal">Match</span>
                                    </div>
                                    <div class="rfa-card-position">2nd Engineer</div>
                                    <div class="rfa-card-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                                        For: MV Centrofin Glory
                                    </div>
                                    <div class="rfa-card-crew">
                                        <div class="rfa-card-crew-avatar">MS</div>
                                        <div class="rfa-card-crew-info">
                                            <div class="rfa-card-crew-name">Mario Santos</div>
                                            <div class="rfa-card-crew-meta">12 yrs exp  Tanker</div>
                                        </div>
                                        <span class="rfa-card-ai-score">AI 91</span>
                                    </div>
                                </div>
                                <div class="rfa-card">
                                    <div class="rfa-card-header">
                                        <span class="rfa-card-id">RFC-2026-0519</span>
                                        <span class="rfa-card-priority normal">Match</span>
                                    </div>
                                    <div class="rfa-card-position">Bosun</div>
                                    <div class="rfa-card-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                                        For: MV Pioneer Spirit
                                    </div>
                                    <div class="rfa-card-crew">
                                        <div class="rfa-card-crew-avatar">RC</div>
                                        <div class="rfa-card-crew-info">
                                            <div class="rfa-card-crew-name">Roberto Cruz</div>
                                            <div class="rfa-card-crew-meta">15 yrs exp  Bulk</div>
                                        </div>
                                        <span class="rfa-card-ai-score">AI 88</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Proposed to Principal Column -->
                        <div class="pipeline-column proposed">
                            <div class="pipeline-column-header">
                                <span class="pipeline-column-title">
                                    <span style="width: 8px; height: 8px; background: var(--purple); border-radius: 50%;"></span>
                                    Proposed
                                </span>
                                <span class="pipeline-column-count">2</span>
                            </div>
                            <div class="pipeline-cards">
                                <div class="rfa-card">
                                    <div class="rfa-card-header">
                                        <span class="rfa-card-id">RFC-2026-0518</span>
                                        <span class="rfa-card-priority" style="background: rgba(139,92,246,0.1); color: var(--purple);">Waiting</span>
                                    </div>
                                    <div class="rfa-card-position">Chief Engineer</div>
                                    <div class="rfa-card-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                                        MV Centrofin Star
                                    </div>
                                    <div class="rfa-card-crew">
                                        <div class="rfa-card-crew-avatar">EG</div>
                                        <div class="rfa-card-crew-info">
                                            <div class="rfa-card-crew-name">Eduardo Garcia</div>
                                            <div class="rfa-card-crew-meta">Proposed: Feb 08</div>
                                        </div>
                                        <span class="rfa-card-ai-score">AI 96</span>
                                    </div>
                                </div>
                                <div class="rfa-card">
                                    <div class="rfa-card-header">
                                        <span class="rfa-card-id">RFC-2026-0517</span>
                                        <span class="rfa-card-priority" style="background: rgba(139,92,246,0.1); color: var(--purple);">Waiting</span>
                                    </div>
                                    <div class="rfa-card-position">Master</div>
                                    <div class="rfa-card-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                                        MV Diana Excellence
                                    </div>
                                    <div class="rfa-card-crew">
                                        <div class="rfa-card-crew-avatar">AR</div>
                                        <div class="rfa-card-crew-info">
                                            <div class="rfa-card-crew-name">Antonio Ramirez</div>
                                            <div class="rfa-card-crew-meta">Proposed: Feb 07</div>
                                        </div>
                                        <span class="rfa-card-ai-score">AI 98</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Approved Column -->
                        <div class="pipeline-column approved">
                            <div class="pipeline-column-header">
                                <span class="pipeline-column-title">
                                    <span style="width: 8px; height: 8px; background: var(--success); border-radius: 50%;"></span>
                                    Approved
                                </span>
                                <span class="pipeline-column-count">2</span>
                            </div>
                            <div class="pipeline-cards">
                                <div class="rfa-card">
                                    <div class="rfa-card-header">
                                        <span class="rfa-card-id">RFC-2026-0516</span>
                                        <span class="rfa-card-priority" style="background: rgba(16,185,129,0.1); color: var(--success);"> Approved</span>
                                    </div>
                                    <div class="rfa-card-position">3rd Officer</div>
                                    <div class="rfa-card-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                                        MV Pioneer Glory
                                    </div>
                                    <div class="rfa-card-crew">
                                        <div class="rfa-card-crew-avatar">JM</div>
                                        <div class="rfa-card-crew-info">
                                            <div class="rfa-card-crew-name">Jose Martinez</div>
                                            <div class="rfa-card-crew-meta">Ready for PEME</div>
                                        </div>
                                        <span class="rfa-card-ai-score">AI 89</span>
                                    </div>
                                </div>
                                <div class="rfa-card">
                                    <div class="rfa-card-header">
                                        <span class="rfa-card-id">RFC-2026-0515</span>
                                        <span class="rfa-card-priority" style="background: rgba(16,185,129,0.1); color: var(--success);"> Approved</span>
                                    </div>
                                    <div class="rfa-card-position">Electrician</div>
                                    <div class="rfa-card-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                                        MV Centrofin Pride
                                    </div>
                                    <div class="rfa-card-crew">
                                        <div class="rfa-card-crew-avatar">PL</div>
                                        <div class="rfa-card-crew-info">
                                            <div class="rfa-card-crew-name">Pedro Lopez</div>
                                            <div class="rfa-card-crew-meta">PEME Scheduled</div>
                                        </div>
                                        <span class="rfa-card-ai-score">AI 92</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Ready for Deployment Column -->
                        <div class="pipeline-column deployed">
                            <div class="pipeline-column-header">
                                <span class="pipeline-column-title">
                                    <span style="width: 8px; height: 8px; background: var(--navy); border-radius: 50%;"></span>
                                    Ready to Deploy
                                </span>
                                <span class="pipeline-column-count">1</span>
                            </div>
                            <div class="pipeline-cards">
                                <div class="rfa-card" style="border-color: var(--navy); border-width: 2px;">
                                    <div class="rfa-card-header">
                                        <span class="rfa-card-id">RFC-2026-0514</span>
                                        <span class="rfa-card-priority" style="background: rgba(10,61,98,0.1); color: var(--navy);"> Ready</span>
                                    </div>
                                    <div class="rfa-card-position">2nd Officer</div>
                                    <div class="rfa-card-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                                        MV Diana Navigator
                                    </div>
                                    <div class="rfa-card-crew">
                                        <div class="rfa-card-crew-avatar" style="background: linear-gradient(135deg, var(--success) 0%, var(--teal) 100%);">ML</div>
                                        <div class="rfa-card-crew-info">
                                            <div class="rfa-card-crew-name">Miguel Luna</div>
                                            <div class="rfa-card-crew-meta">Embark: Feb 15</div>
                                        </div>
                                        <span class="rfa-card-ai-score">AI 95</span>
                                    </div>
                                    <div style="margin-top: 12px; padding-top: 12px; border-top: 1px dashed var(--gray-200);">
                                        <div style="display: flex; gap: 8px;">
                                            <span style="font-size: 10px; padding: 4px 8px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 4px;"> PEME</span>
                                            <span style="font-size: 10px; padding: 4px 8px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 4px;"> Visa</span>
                                            <span style="font-size: 10px; padding: 4px 8px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 4px;"> Contract</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                </div>

                <!-- DEPLOYMENT PAGE -->
                <div class="page" id="page-deployment">
                    <div class="rfa-header">
                        <div class="rfa-header-left">
                            <h2> Crew Deployment Pipeline</h2>
                            <p>Track approved crew from PEME to Embarkation  Real-time status monitoring</p>
                        </div>
                        <div style="display: flex; gap: 12px;">
                            <div class="pulse-live">
                                <span class="pulse-dot"></span>
                                Live Tracking
                            </div>
                            <button class="btn btn-primary" onclick="openDeploymentModal()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                                Add to Pipeline
                            </button>
                        </div>
                    </div>
                    
                    <!-- Deployment Stats -->
                    <div class="rfa-stats-row">
                        <div class="rfa-stat-card">
                            <div class="rfa-stat-icon" style="background: rgba(236,72,153,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#EC4899"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                            </div>
                            <div class="rfa-stat-value">8</div>
                            <div class="rfa-stat-label">Pending PEME</div>
                        </div>
                        <div class="rfa-stat-card">
                            <div class="rfa-stat-icon" style="background: rgba(139,92,246,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#8B5CF6"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                            </div>
                            <div class="rfa-stat-value">5</div>
                            <div class="rfa-stat-label">Processing Docs</div>
                        </div>
                        <div class="rfa-stat-card">
                            <div class="rfa-stat-icon" style="background: rgba(59,130,246,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#3B82F6"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/></svg>
                            </div>
                            <div class="rfa-stat-value">3</div>
                            <div class="rfa-stat-label">Briefing Scheduled</div>
                        </div>
                        <div class="rfa-stat-card">
                            <div class="rfa-stat-icon" style="background: rgba(16,185,129,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#10B981"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                            </div>
                            <div class="rfa-stat-value">4</div>
                            <div class="rfa-stat-label">Ready to Embark</div>
                        </div>
                        <div class="rfa-stat-card">
                            <div class="rfa-stat-icon" style="background: rgba(10,61,98,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#0A3D62"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76"/></svg>
                            </div>
                            <div class="rfa-stat-value">127</div>
                            <div class="rfa-stat-label">Deployed (YTD)</div>
                        </div>
                    </div>
                    
                    <!-- Deployment Pipeline Kanban -->
                    <div style="overflow-x: auto;">
                        <div class="pipeline-container">
                            <!-- PEME Column -->
                        <div class="pipeline-column" style="border-top: 3px solid #EC4899;">
                            <div class="pipeline-column-header">
                                <span class="pipeline-column-title">
                                    <span style="width: 8px; height: 8px; background: #EC4899; border-radius: 50%;"></span>
                                     PEME
                                </span>
                                <span class="pipeline-column-count" style="background: rgba(236,72,153,0.2); color: #EC4899;">4</span>
                            </div>
                            <div class="pipeline-cards">
                                <div class="deployment-card" onclick="openDeploymentDetailModal('DEP-001')">
                                    <div class="deployment-card-header">
                                        <div class="deployment-crew-avatar">JM</div>
                                        <div class="deployment-crew-info">
                                            <div class="deployment-crew-name">Jose Martinez</div>
                                            <div class="deployment-crew-position">3rd Officer</div>
                                        </div>
                                        <span class="deployment-ai-score">AI 89</span>
                                    </div>
                                    <div class="deployment-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Pioneer Glory
                                    </div>
                                    <div class="deployment-status-row">
                                        <span class="deployment-status scheduled"> PEME: Feb 12</span>
                                    </div>
                                    <div class="deployment-checklist">
                                        <div class="checklist-item pending">
                                            <span class="checklist-icon"></span>
                                            Medical Examination
                                        </div>
                                        <div class="checklist-item pending">
                                            <span class="checklist-icon"></span>
                                            Drug & Alcohol Test
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="deployment-card" onclick="openDeploymentDetailModal('DEP-002')">
                                    <div class="deployment-card-header">
                                        <div class="deployment-crew-avatar" style="background: linear-gradient(135deg, #8B5CF6, #EC4899);">PL</div>
                                        <div class="deployment-crew-info">
                                            <div class="deployment-crew-name">Pedro Lopez</div>
                                            <div class="deployment-crew-position">Electrician</div>
                                        </div>
                                        <span class="deployment-ai-score">AI 92</span>
                                    </div>
                                    <div class="deployment-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Centrofin Pride
                                    </div>
                                    <div class="deployment-status-row">
                                        <span class="deployment-status in-progress"> In Progress</span>
                                    </div>
                                    <div class="deployment-checklist">
                                        <div class="checklist-item completed">
                                            <span class="checklist-icon"></span>
                                            Medical Examination
                                        </div>
                                        <div class="checklist-item pending">
                                            <span class="checklist-icon"></span>
                                            Drug & Alcohol Test
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="deployment-card" onclick="openDeploymentDetailModal('DEP-003')">
                                    <div class="deployment-card-header">
                                        <div class="deployment-crew-avatar" style="background: linear-gradient(135deg, #F59E0B, #EF4444);">RG</div>
                                        <div class="deployment-crew-info">
                                            <div class="deployment-crew-name">Ramon Garcia</div>
                                            <div class="deployment-crew-position">AB Seaman</div>
                                        </div>
                                        <span class="deployment-ai-score">AI 85</span>
                                    </div>
                                    <div class="deployment-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Diana Voyager
                                    </div>
                                    <div class="deployment-status-row">
                                        <span class="deployment-status scheduled"> PEME: Feb 14</span>
                                    </div>
                                    <div class="deployment-checklist">
                                        <div class="checklist-item pending">
                                            <span class="checklist-icon"></span>
                                            Medical Examination
                                        </div>
                                        <div class="checklist-item pending">
                                            <span class="checklist-icon"></span>
                                            Drug & Alcohol Test
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="deployment-card" onclick="openDeploymentDetailModal('DEP-004')">
                                    <div class="deployment-card-header">
                                        <div class="deployment-crew-avatar" style="background: linear-gradient(135deg, #10B981, #17A2B8);">AS</div>
                                        <div class="deployment-crew-info">
                                            <div class="deployment-crew-name">Antonio Santos</div>
                                            <div class="deployment-crew-position">Oiler</div>
                                        </div>
                                        <span class="deployment-ai-score">AI 87</span>
                                    </div>
                                    <div class="deployment-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Pioneer Spirit
                                    </div>
                                    <div class="deployment-status-row">
                                        <span class="deployment-status waiting"> Awaiting Clinic</span>
                                    </div>
                                    <div class="deployment-checklist">
                                        <div class="checklist-item pending">
                                            <span class="checklist-icon"></span>
                                            Clinic Assignment
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Documents Column -->
                        <div class="pipeline-column" style="border-top: 3px solid #8B5CF6;">
                            <div class="pipeline-column-header">
                                <span class="pipeline-column-title">
                                    <span style="width: 8px; height: 8px; background: #8B5CF6; border-radius: 50%;"></span>
                                     Documents
                                </span>
                                <span class="pipeline-column-count" style="background: rgba(139,92,246,0.2); color: #8B5CF6;">3</span>
                            </div>
                            <div class="pipeline-cards">
                                <div class="deployment-card" onclick="openDeploymentDetailModal('DEP-005')">
                                    <div class="deployment-card-header">
                                        <div class="deployment-crew-avatar" style="background: linear-gradient(135deg, #3B82F6, #8B5CF6);">MC</div>
                                        <div class="deployment-crew-info">
                                            <div class="deployment-crew-name">Miguel Cruz</div>
                                            <div class="deployment-crew-position">2nd Engineer</div>
                                        </div>
                                        <span class="deployment-ai-score">AI 91</span>
                                    </div>
                                    <div class="deployment-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Centrofin Glory
                                    </div>
                                    <div class="deployment-status-row">
                                        <span class="deployment-status in-progress"> Processing</span>
                                    </div>
                                    <div class="deployment-checklist">
                                        <div class="checklist-item completed">
                                            <span class="checklist-icon"></span>
                                            PEME - Fit to Work
                                        </div>
                                        <div class="checklist-item completed">
                                            <span class="checklist-icon"></span>
                                            POEA Contract
                                        </div>
                                        <div class="checklist-item in-progress">
                                            <span class="checklist-icon"></span>
                                            Flag State License
                                        </div>
                                        <div class="checklist-item pending">
                                            <span class="checklist-icon"></span>
                                            Visa Application
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="deployment-card" onclick="openDeploymentDetailModal('DEP-006')">
                                    <div class="deployment-card-header">
                                        <div class="deployment-crew-avatar" style="background: linear-gradient(135deg, #0A3D62, #17A2B8);">JR</div>
                                        <div class="deployment-crew-info">
                                            <div class="deployment-crew-name">Juan Reyes</div>
                                            <div class="deployment-crew-position">Chief Officer</div>
                                        </div>
                                        <span class="deployment-ai-score">AI 94</span>
                                    </div>
                                    <div class="deployment-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Diana Pioneer
                                    </div>
                                    <div class="deployment-status-row">
                                        <span class="deployment-status in-progress"> Visa Pending</span>
                                    </div>
                                    <div class="deployment-checklist">
                                        <div class="checklist-item completed">
                                            <span class="checklist-icon"></span>
                                            PEME - Fit to Work
                                        </div>
                                        <div class="checklist-item completed">
                                            <span class="checklist-icon"></span>
                                            POEA Contract
                                        </div>
                                        <div class="checklist-item completed">
                                            <span class="checklist-icon"></span>
                                            Flag State License
                                        </div>
                                        <div class="checklist-item in-progress">
                                            <span class="checklist-icon"></span>
                                            Visa Application
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="deployment-card" onclick="openDeploymentDetailModal('DEP-007')">
                                    <div class="deployment-card-header">
                                        <div class="deployment-crew-avatar" style="background: linear-gradient(135deg, #D4A84B, #F59E0B);">EG</div>
                                        <div class="deployment-crew-info">
                                            <div class="deployment-crew-name">Eduardo Garcia</div>
                                            <div class="deployment-crew-position">Chief Engineer</div>
                                        </div>
                                        <span class="deployment-ai-score">AI 96</span>
                                    </div>
                                    <div class="deployment-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Centrofin Star
                                    </div>
                                    <div class="deployment-status-row">
                                        <span class="deployment-status completed"> Docs Complete</span>
                                    </div>
                                    <div class="deployment-checklist">
                                        <div class="checklist-item completed">
                                            <span class="checklist-icon"></span>
                                            PEME - Fit to Work
                                        </div>
                                        <div class="checklist-item completed">
                                            <span class="checklist-icon"></span>
                                            POEA Contract
                                        </div>
                                        <div class="checklist-item completed">
                                            <span class="checklist-icon"></span>
                                            Flag State License
                                        </div>
                                        <div class="checklist-item completed">
                                            <span class="checklist-icon"></span>
                                            Visa Approved
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Briefing Column -->
                        <div class="pipeline-column" style="border-top: 3px solid #3B82F6;">
                            <div class="pipeline-column-header">
                                <span class="pipeline-column-title">
                                    <span style="width: 8px; height: 8px; background: #3B82F6; border-radius: 50%;"></span>
                                     Briefing
                                </span>
                                <span class="pipeline-column-count" style="background: rgba(59,130,246,0.2); color: #3B82F6;">2</span>
                            </div>
                            <div class="pipeline-cards">
                                <div class="deployment-card" onclick="openDeploymentDetailModal('DEP-008')">
                                    <div class="deployment-card-header">
                                        <div class="deployment-crew-avatar" style="background: linear-gradient(135deg, #EC4899, #8B5CF6);">AR</div>
                                        <div class="deployment-crew-info">
                                            <div class="deployment-crew-name">Antonio Ramirez</div>
                                            <div class="deployment-crew-position">Master</div>
                                        </div>
                                        <span class="deployment-ai-score">AI 98</span>
                                    </div>
                                    <div class="deployment-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Diana Excellence
                                    </div>
                                    <div class="deployment-status-row">
                                        <span class="deployment-status scheduled"> Initial: Feb 13</span>
                                    </div>
                                    <div class="deployment-checklist">
                                        <div class="checklist-item completed">
                                            <span class="checklist-icon"></span>
                                            All Documents Ready
                                        </div>
                                        <div class="checklist-item scheduled">
                                            <span class="checklist-icon"></span>
                                            Initial Briefing
                                        </div>
                                        <div class="checklist-item pending">
                                            <span class="checklist-icon"></span>
                                            Final Briefing
                                        </div>
                                        <div class="checklist-item pending">
                                            <span class="checklist-icon"></span>
                                            Allotment Setup
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="deployment-card" onclick="openDeploymentDetailModal('DEP-009')">
                                    <div class="deployment-card-header">
                                        <div class="deployment-crew-avatar" style="background: linear-gradient(135deg, #17A2B8, #10B981);">RC</div>
                                        <div class="deployment-crew-info">
                                            <div class="deployment-crew-name">Roberto Cruz</div>
                                            <div class="deployment-crew-position">Bosun</div>
                                        </div>
                                        <span class="deployment-ai-score">AI 88</span>
                                    </div>
                                    <div class="deployment-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Pioneer Spirit
                                    </div>
                                    <div class="deployment-status-row">
                                        <span class="deployment-status in-progress"> Briefing Today</span>
                                    </div>
                                    <div class="deployment-checklist">
                                        <div class="checklist-item completed">
                                            <span class="checklist-icon"></span>
                                            All Documents Ready
                                        </div>
                                        <div class="checklist-item completed">
                                            <span class="checklist-icon"></span>
                                            Initial Briefing
                                        </div>
                                        <div class="checklist-item in-progress">
                                            <span class="checklist-icon"></span>
                                            Final Briefing
                                        </div>
                                        <div class="checklist-item pending">
                                            <span class="checklist-icon"></span>
                                            Allotment Setup
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Ready to Embark Column -->
                        <div class="pipeline-column" style="border-top: 3px solid #10B981;">
                            <div class="pipeline-column-header">
                                <span class="pipeline-column-title">
                                    <span style="width: 8px; height: 8px; background: #10B981; border-radius: 50%;"></span>
                                     Ready to Embark
                                </span>
                                <span class="pipeline-column-count" style="background: rgba(16,185,129,0.2); color: #10B981;">3</span>
                            </div>
                            <div class="pipeline-cards">
                                <div class="deployment-card ready-card" onclick="openDeploymentDetailModal('DEP-010')">
                                    <div class="deployment-card-header">
                                        <div class="deployment-crew-avatar" style="background: linear-gradient(135deg, #10B981, #17A2B8);">ML</div>
                                        <div class="deployment-crew-info">
                                            <div class="deployment-crew-name">Miguel Luna</div>
                                            <div class="deployment-crew-position">2nd Officer</div>
                                        </div>
                                        <span class="deployment-ai-score">AI 95</span>
                                    </div>
                                    <div class="deployment-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Diana Navigator
                                    </div>
                                    <div class="deployment-embark-info">
                                        <div class="embark-date">
                                            <span class="embark-label">Embarkation</span>
                                            <span class="embark-value">Feb 15, 2026</span>
                                        </div>
                                        <div class="embark-port">
                                            <span class="embark-label">Port</span>
                                            <span class="embark-value">Manila, PH</span>
                                        </div>
                                    </div>
                                    <div class="deployment-complete-badges">
                                        <span class="complete-badge"> PEME</span>
                                        <span class="complete-badge"> Docs</span>
                                        <span class="complete-badge"> Briefed</span>
                                        <span class="complete-badge"> Allotment</span>
                                    </div>
                                    <button class="btn btn-success embark-btn" onclick="event.stopPropagation(); confirmEmbarkation('DEP-010')">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                                        Confirm Embarkation
                                    </button>
                                </div>
                                
                                <div class="deployment-card ready-card" onclick="openDeploymentDetailModal('DEP-011')">
                                    <div class="deployment-card-header">
                                        <div class="deployment-crew-avatar" style="background: linear-gradient(135deg, #0A3D62, #1A5276);">FS</div>
                                        <div class="deployment-crew-info">
                                            <div class="deployment-crew-name">Fernando Silva</div>
                                            <div class="deployment-crew-position">3rd Engineer</div>
                                        </div>
                                        <span class="deployment-ai-score">AI 90</span>
                                    </div>
                                    <div class="deployment-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Centrofin Glory
                                    </div>
                                    <div class="deployment-embark-info">
                                        <div class="embark-date">
                                            <span class="embark-label">Embarkation</span>
                                            <span class="embark-value">Feb 16, 2026</span>
                                        </div>
                                        <div class="embark-port">
                                            <span class="embark-label">Port</span>
                                            <span class="embark-value">Singapore</span>
                                        </div>
                                    </div>
                                    <div class="deployment-complete-badges">
                                        <span class="complete-badge"> PEME</span>
                                        <span class="complete-badge"> Docs</span>
                                        <span class="complete-badge"> Briefed</span>
                                        <span class="complete-badge"> Allotment</span>
                                    </div>
                                    <button class="btn btn-success embark-btn" onclick="event.stopPropagation(); confirmEmbarkation('DEP-011')">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                                        Confirm Embarkation
                                    </button>
                                </div>
                                
                                <div class="deployment-card ready-card" onclick="openDeploymentDetailModal('DEP-012')">
                                    <div class="deployment-card-header">
                                        <div class="deployment-crew-avatar" style="background: linear-gradient(135deg, #D4A84B, #B45309);">CT</div>
                                        <div class="deployment-crew-info">
                                            <div class="deployment-crew-name">Carlos Torres</div>
                                            <div class="deployment-crew-position">Cook</div>
                                        </div>
                                        <span class="deployment-ai-score">AI 86</span>
                                    </div>
                                    <div class="deployment-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Pioneer Glory
                                    </div>
                                    <div class="deployment-embark-info">
                                        <div class="embark-date">
                                            <span class="embark-label">Embarkation</span>
                                            <span class="embark-value">Feb 18, 2026</span>
                                        </div>
                                        <div class="embark-port">
                                            <span class="embark-label">Port</span>
                                            <span class="embark-value">Cebu, PH</span>
                                        </div>
                                    </div>
                                    <div class="deployment-complete-badges">
                                        <span class="complete-badge"> PEME</span>
                                        <span class="complete-badge"> Docs</span>
                                        <span class="complete-badge"> Briefed</span>
                                        <span class="complete-badge"> Allotment</span>
                                    </div>
                                    <button class="btn btn-success embark-btn" onclick="event.stopPropagation(); confirmEmbarkation('DEP-012')">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                                        Confirm Embarkation
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                </div>

                <!-- CONTRACTS PAGE -->
                <div class="page" id="page-contracts">
                    <div class="rfa-header">
                        <div class="rfa-header-left">
                            <h2> Contract Management</h2>
                            <p>Extensions, renewals, and POEA processing  Expiry alerts at 30/60/90 days</p>
                        </div>
                        <div style="display: flex; gap: 12px;">
                            <button class="btn btn-ghost" style="background: var(--gray-100); color: var(--navy);">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>
                                Filters
                            </button>
                            <button class="btn btn-primary" onclick="openContractModal()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="12" y1="18" x2="12" y2="12"/><line x1="9" y1="15" x2="15" y2="15"/></svg>
                                New Extension Request
                            </button>
                        </div>
                    </div>
                    
                    <!-- Contract Alert Stats -->
                    <div class="contract-stats-grid">
                        <div class="rfa-stat-card" style="border-left: 4px solid var(--danger);">
                            <div class="rfa-stat-icon" style="background: rgba(239,68,68,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#EF4444"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                            </div>
                            <div class="rfa-stat-value" style="color: var(--danger);">5</div>
                            <div class="rfa-stat-label">Expiring 30 days</div>
                        </div>
                        <div class="rfa-stat-card" style="border-left: 4px solid var(--warning);">
                            <div class="rfa-stat-icon" style="background: rgba(245,158,11,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#F59E0B"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                            </div>
                            <div class="rfa-stat-value" style="color: var(--warning);">12</div>
                            <div class="rfa-stat-label">Expiring 60 days</div>
                        </div>
                        <div class="rfa-stat-card" style="border-left: 4px solid var(--info);">
                            <div class="rfa-stat-icon" style="background: rgba(59,130,246,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#3B82F6"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/></svg>
                            </div>
                            <div class="rfa-stat-value">18</div>
                            <div class="rfa-stat-label">Expiring 90 days</div>
                        </div>
                        <div class="rfa-stat-card" style="border-left: 4px solid var(--purple);">
                            <div class="rfa-stat-icon" style="background: rgba(139,92,246,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#8B5CF6"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                            </div>
                            <div class="rfa-stat-value">8</div>
                            <div class="rfa-stat-label">Pending Extensions</div>
                        </div>
                        <div class="rfa-stat-card" style="border-left: 4px solid var(--success);">
                            <div class="rfa-stat-icon" style="background: rgba(16,185,129,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#10B981"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                            </div>
                            <div class="rfa-stat-value">847</div>
                            <div class="rfa-stat-label">Active Contracts</div>
                        </div>
                    </div>
                    
                    <!-- Contract Expiry Table -->
                    <div class="content-card" style="margin-bottom: 24px;">
                        <div class="content-card-header" style="display: flex; justify-content: space-between; align-items: center;">
                            <h3 class="content-card-title"> Contracts Requiring Action</h3>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-ghost" style="padding: 8px 16px; font-size: 12px; background: rgba(239,68,68,0.1); color: var(--danger);">30 Days (5)</button>
                                <button class="btn btn-ghost" style="padding: 8px 16px; font-size: 12px; background: rgba(245,158,11,0.1); color: var(--warning);">60 Days (12)</button>
                                <button class="btn btn-ghost" style="padding: 8px 16px; font-size: 12px;">90 Days (18)</button>
                            </div>
                        </div>
                        <div class="content-card-body" style="padding: 0; overflow-x: auto;">
                            <table class="data-table" style="">
                                <thead>
                                    <tr>
                                        <th>Seafarer</th>
                                        <th>Position</th>
                                        <th>Vessel</th>
                                        <th>Contract End</th>
                                        <th>Days Left</th>
                                        <th>Status</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr onclick="openContractDetailModal('CTR-001')">
                                        <td>
                                            <div class="client-cell">
                                                <div class="client-avatar-sm" style="background: linear-gradient(135deg, var(--danger), #991B1B);">JD</div>
                                                <div class="client-info-sm">
                                                    <h4>Juan Dela Cruz</h4>
                                                    <p>ID: SF-2024-0847</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td>Chief Officer</td>
                                        <td>MV Diana Pioneer</td>
                                        <td>Mar 12, 2026</td>
                                        <td><span class="expiry-badge critical">30 days</span></td>
                                        <td><span class="status-badge status-pending">Pending Decision</span></td>
                                        <td>
                                            <button class="action-btn" title="Extend"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg></button>
                                            <button class="action-btn" title="Replace"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg></button>
                                        </td>
                                    </tr>
                                    <tr onclick="openContractDetailModal('CTR-002')">
                                        <td>
                                            <div class="client-cell">
                                                <div class="client-avatar-sm" style="background: linear-gradient(135deg, var(--danger), #991B1B);">MS</div>
                                                <div class="client-info-sm">
                                                    <h4>Mario Santos</h4>
                                                    <p>ID: SF-2024-0523</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td>2nd Engineer</td>
                                        <td>MV Centrofin Glory</td>
                                        <td>Mar 08, 2026</td>
                                        <td><span class="expiry-badge critical">26 days</span></td>
                                        <td><span class="status-badge status-review">Under Review</span></td>
                                        <td>
                                            <button class="action-btn" title="Extend"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg></button>
                                            <button class="action-btn" title="Replace"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg></button>
                                        </td>
                                    </tr>
                                    <tr onclick="openContractDetailModal('CTR-003')">
                                        <td>
                                            <div class="client-cell">
                                                <div class="client-avatar-sm" style="background: linear-gradient(135deg, var(--danger), #991B1B);">PL</div>
                                                <div class="client-info-sm">
                                                    <h4>Pedro Lopez</h4>
                                                    <p>ID: SF-2024-0891</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td>Electrician</td>
                                        <td>MV Pioneer Spirit</td>
                                        <td>Mar 05, 2026</td>
                                        <td><span class="expiry-badge critical">23 days</span></td>
                                        <td><span class="status-badge status-active">Extension Approved</span></td>
                                        <td>
                                            <button class="action-btn" title="View"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg></button>
                                            <button class="action-btn" title="Process POEA"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg></button>
                                        </td>
                                    </tr>
                                    <tr onclick="openContractDetailModal('CTR-004')">
                                        <td>
                                            <div class="client-cell">
                                                <div class="client-avatar-sm" style="background: linear-gradient(135deg, var(--warning), #B45309);">RG</div>
                                                <div class="client-info-sm">
                                                    <h4>Ramon Garcia</h4>
                                                    <p>ID: SF-2024-0445</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td>AB Seaman</td>
                                        <td>MV Diana Voyager</td>
                                        <td>Apr 02, 2026</td>
                                        <td><span class="expiry-badge warning">51 days</span></td>
                                        <td><span class="status-badge status-pending">Pending Decision</span></td>
                                        <td>
                                            <button class="action-btn" title="Extend"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg></button>
                                            <button class="action-btn" title="Replace"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg></button>
                                        </td>
                                    </tr>
                                    <tr onclick="openContractDetailModal('CTR-005')">
                                        <td>
                                            <div class="client-cell">
                                                <div class="client-avatar-sm" style="background: linear-gradient(135deg, var(--warning), #B45309);">EG</div>
                                                <div class="client-info-sm">
                                                    <h4>Eduardo Garcia</h4>
                                                    <p>ID: SF-2024-0312</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td>Chief Engineer</td>
                                        <td>MV Centrofin Star</td>
                                        <td>Apr 15, 2026</td>
                                        <td><span class="expiry-badge warning">64 days</span></td>
                                        <td><span class="status-badge status-pending">Pending Decision</span></td>
                                        <td>
                                            <button class="action-btn" title="Extend"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg></button>
                                            <button class="action-btn" title="Replace"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Extension Processing Pipeline -->
                    <div class="content-card">
                        <div class="content-card-header">
                            <h3 class="content-card-title"> Extension Processing Pipeline</h3>
                        </div>
                        <div class="content-card-body" style="overflow-x: auto;">
                            <div class="pipeline-container" style="min-height: 300px;">
                                <!-- Pending Principal Column -->
                                <div class="pipeline-column" style="border-top: 3px solid var(--warning);">
                                    <div class="pipeline-column-header">
                                        <span class="pipeline-column-title">
                                            <span style="width: 8px; height: 8px; background: var(--warning); border-radius: 50%;"></span>
                                            Pending Principal
                                        </span>
                                        <span class="pipeline-column-count" style="background: rgba(245,158,11,0.2); color: var(--warning);">3</span>
                                    </div>
                                    <div class="pipeline-cards">
                                        <div class="contract-card">
                                            <div class="contract-card-crew">JD</div>
                                            <div class="contract-card-info">
                                                <div class="contract-card-name">Juan Dela Cruz</div>
                                                <div class="contract-card-detail">Chief Officer  +3 months</div>
                                            </div>
                                            <div class="contract-card-date">Sent: Feb 08</div>
                                        </div>
                                        <div class="contract-card">
                                            <div class="contract-card-crew" style="background: linear-gradient(135deg, var(--purple), var(--pink));">MS</div>
                                            <div class="contract-card-info">
                                                <div class="contract-card-name">Mario Santos</div>
                                                <div class="contract-card-detail">2nd Engineer  +2 months</div>
                                            </div>
                                            <div class="contract-card-date">Sent: Feb 07</div>
                                        </div>
                                        <div class="contract-card">
                                            <div class="contract-card-crew" style="background: linear-gradient(135deg, var(--gold), #B45309);">AR</div>
                                            <div class="contract-card-info">
                                                <div class="contract-card-name">Antonio Ramirez</div>
                                                <div class="contract-card-detail">Master  +4 months</div>
                                            </div>
                                            <div class="contract-card-date">Sent: Feb 06</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Approved Column -->
                                <div class="pipeline-column" style="border-top: 3px solid var(--success);">
                                    <div class="pipeline-column-header">
                                        <span class="pipeline-column-title">
                                            <span style="width: 8px; height: 8px; background: var(--success); border-radius: 50%;"></span>
                                            Approved
                                        </span>
                                        <span class="pipeline-column-count" style="background: rgba(16,185,129,0.2); color: var(--success);">2</span>
                                    </div>
                                    <div class="pipeline-cards">
                                        <div class="contract-card" style="border-color: var(--success);">
                                            <div class="contract-card-crew" style="background: linear-gradient(135deg, var(--success), var(--teal));">PL</div>
                                            <div class="contract-card-info">
                                                <div class="contract-card-name">Pedro Lopez</div>
                                                <div class="contract-card-detail">Electrician  +3 months</div>
                                            </div>
                                            <div class="contract-card-date" style="color: var(--success);"> Approved Feb 09</div>
                                        </div>
                                        <div class="contract-card" style="border-color: var(--success);">
                                            <div class="contract-card-crew" style="background: linear-gradient(135deg, var(--info), var(--purple));">RC</div>
                                            <div class="contract-card-info">
                                                <div class="contract-card-name">Roberto Cruz</div>
                                                <div class="contract-card-detail">Bosun  +2 months</div>
                                            </div>
                                            <div class="contract-card-date" style="color: var(--success);"> Approved Feb 08</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- POEA Processing Column -->
                                <div class="pipeline-column" style="border-top: 3px solid var(--purple);">
                                    <div class="pipeline-column-header">
                                        <span class="pipeline-column-title">
                                            <span style="width: 8px; height: 8px; background: var(--purple); border-radius: 50%;"></span>
                                            POEA Processing
                                        </span>
                                        <span class="pipeline-column-count" style="background: rgba(139,92,246,0.2); color: var(--purple);">2</span>
                                    </div>
                                    <div class="pipeline-cards">
                                        <div class="contract-card">
                                            <div class="contract-card-crew" style="background: linear-gradient(135deg, var(--navy), var(--teal));">ML</div>
                                            <div class="contract-card-info">
                                                <div class="contract-card-name">Miguel Luna</div>
                                                <div class="contract-card-detail">2nd Officer  +3 months</div>
                                            </div>
                                            <div class="contract-card-date" style="color: var(--purple);"> At POEA</div>
                                        </div>
                                        <div class="contract-card">
                                            <div class="contract-card-crew" style="background: linear-gradient(135deg, var(--pink), var(--danger));">FS</div>
                                            <div class="contract-card-info">
                                                <div class="contract-card-name">Fernando Silva</div>
                                                <div class="contract-card-detail">3rd Engineer  +2 months</div>
                                            </div>
                                            <div class="contract-card-date" style="color: var(--purple);"> Document Check</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Completed Column -->
                                <div class="pipeline-column" style="border-top: 3px solid var(--navy);">
                                    <div class="pipeline-column-header">
                                        <span class="pipeline-column-title">
                                            <span style="width: 8px; height: 8px; background: var(--navy); border-radius: 50%;"></span>
                                            Completed
                                        </span>
                                        <span class="pipeline-column-count" style="background: rgba(10,61,98,0.2); color: var(--navy);">1</span>
                                    </div>
                                    <div class="pipeline-cards">
                                        <div class="contract-card" style="border-color: var(--navy); background: rgba(10,61,98,0.03);">
                                            <div class="contract-card-crew" style="background: linear-gradient(135deg, var(--navy), var(--navy-light));">CT</div>
                                            <div class="contract-card-info">
                                                <div class="contract-card-name">Carlos Torres</div>
                                                <div class="contract-card-detail">Cook  +3 months</div>
                                            </div>
                                            <div class="contract-card-date" style="color: var(--navy);"> Extended to Aug 2026</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SIGN-OFF PAGE -->
                <div class="page" id="page-sign-off">
                    <div class="rfa-header">
                        <div class="rfa-header-left">
                            <h2> Sign-Off Management</h2>
                            <p>Exit interviews, debriefing, rehireable status  Document renewal tracking</p>
                        </div>
                        <div style="display: flex; gap: 12px;">
                            <button class="btn btn-ghost" style="background: var(--gray-100); color: var(--navy);">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>
                                Filters
                            </button>
                            <button class="btn btn-primary" onclick="openSignOffModal()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                                Record Sign-Off
                            </button>
                        </div>
                    </div>
                    
                    <!-- Sign-Off Stats -->
                    <div class="rfa-stats-row">
                        <div class="rfa-stat-card">
                            <div class="rfa-stat-icon" style="background: rgba(245,158,11,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#F59E0B"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                            </div>
                            <div class="rfa-stat-value">6</div>
                            <div class="rfa-stat-label">Pending Sign-Offs</div>
                        </div>
                        <div class="rfa-stat-card">
                            <div class="rfa-stat-icon" style="background: rgba(59,130,246,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#3B82F6"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
                            </div>
                            <div class="rfa-stat-value">4</div>
                            <div class="rfa-stat-label">Exit Interview Pending</div>
                        </div>
                        <div class="rfa-stat-card">
                            <div class="rfa-stat-icon" style="background: rgba(139,92,246,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#8B5CF6"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                            </div>
                            <div class="rfa-stat-value">3</div>
                            <div class="rfa-stat-label">Debriefing Required</div>
                        </div>
                        <div class="rfa-stat-card">
                            <div class="rfa-stat-icon" style="background: rgba(16,185,129,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#10B981"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                            </div>
                            <div class="rfa-stat-value">89%</div>
                            <div class="rfa-stat-label">Rehireable Rate</div>
                        </div>
                        <div class="rfa-stat-card">
                            <div class="rfa-stat-icon" style="background: rgba(10,61,98,0.1);">
                                <svg viewBox="0 0 24 24" fill="none" stroke="#0A3D62"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/></svg>
                            </div>
                            <div class="rfa-stat-value">142</div>
                            <div class="rfa-stat-label">Sign-Offs (YTD)</div>
                        </div>
                    </div>
                    
                    <!-- Sign-Off Pipeline -->
                    <div style="overflow-x: auto; margin-bottom: 24px;">
                        <div class="pipeline-container">
                            <!-- Disembarked Column -->
                        <div class="pipeline-column" style="border-top: 3px solid var(--warning);">
                            <div class="pipeline-column-header">
                                <span class="pipeline-column-title">
                                    <span style="width: 8px; height: 8px; background: var(--warning); border-radius: 50%;"></span>
                                     Disembarked
                                </span>
                                <span class="pipeline-column-count" style="background: rgba(245,158,11,0.2); color: var(--warning);">3</span>
                            </div>
                            <div class="pipeline-cards">
                                <div class="signoff-card" onclick="openSignOffDetailModal('SO-001')">
                                    <div class="signoff-card-header">
                                        <div class="signoff-crew-avatar">JR</div>
                                        <div class="signoff-crew-info">
                                            <div class="signoff-crew-name">Jose Reyes</div>
                                            <div class="signoff-crew-position">Chief Officer</div>
                                        </div>
                                    </div>
                                    <div class="signoff-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Diana Pioneer
                                    </div>
                                    <div class="signoff-detail-row">
                                        <span class="signoff-label">Disembarked:</span>
                                        <span class="signoff-value">Feb 08, 2026</span>
                                    </div>
                                    <div class="signoff-detail-row">
                                        <span class="signoff-label">Reason:</span>
                                        <span class="signoff-value signoff-reason finished">Contract Finished</span>
                                    </div>
                                    <div class="signoff-tasks">
                                        <span class="signoff-task pending"> Exit Interview</span>
                                        <span class="signoff-task pending"> Debriefing</span>
                                    </div>
                                </div>
                                
                                <div class="signoff-card" onclick="openSignOffDetailModal('SO-002')">
                                    <div class="signoff-card-header">
                                        <div class="signoff-crew-avatar" style="background: linear-gradient(135deg, var(--purple), var(--pink));">MC</div>
                                        <div class="signoff-crew-info">
                                            <div class="signoff-crew-name">Manuel Cruz</div>
                                            <div class="signoff-crew-position">3rd Engineer</div>
                                        </div>
                                    </div>
                                    <div class="signoff-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Centrofin Glory
                                    </div>
                                    <div class="signoff-detail-row">
                                        <span class="signoff-label">Disembarked:</span>
                                        <span class="signoff-value">Feb 07, 2026</span>
                                    </div>
                                    <div class="signoff-detail-row">
                                        <span class="signoff-label">Reason:</span>
                                        <span class="signoff-value signoff-reason medical">Medical</span>
                                    </div>
                                    <div class="signoff-tasks">
                                        <span class="signoff-task pending"> Exit Interview</span>
                                        <span class="signoff-task pending"> Medical Report</span>
                                    </div>
                                </div>
                                
                                <div class="signoff-card" onclick="openSignOffDetailModal('SO-003')">
                                    <div class="signoff-card-header">
                                        <div class="signoff-crew-avatar" style="background: linear-gradient(135deg, var(--danger), #991B1B);">AL</div>
                                        <div class="signoff-crew-info">
                                            <div class="signoff-crew-name">Antonio Lim</div>
                                            <div class="signoff-crew-position">AB Seaman</div>
                                        </div>
                                    </div>
                                    <div class="signoff-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Pioneer Spirit
                                    </div>
                                    <div class="signoff-detail-row">
                                        <span class="signoff-label">Disembarked:</span>
                                        <span class="signoff-value">Feb 06, 2026</span>
                                    </div>
                                    <div class="signoff-detail-row">
                                        <span class="signoff-label">Reason:</span>
                                        <span class="signoff-value signoff-reason resignation">Resignation</span>
                                    </div>
                                    <div class="signoff-tasks">
                                        <span class="signoff-task pending"> Exit Interview</span>
                                        <span class="signoff-task pending"> Clearance</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Exit Interview Column -->
                        <div class="pipeline-column" style="border-top: 3px solid var(--info);">
                            <div class="pipeline-column-header">
                                <span class="pipeline-column-title">
                                    <span style="width: 8px; height: 8px; background: var(--info); border-radius: 50%;"></span>
                                     Exit Interview
                                </span>
                                <span class="pipeline-column-count" style="background: rgba(59,130,246,0.2); color: var(--info);">2</span>
                            </div>
                            <div class="pipeline-cards">
                                <div class="signoff-card" onclick="openSignOffDetailModal('SO-004')">
                                    <div class="signoff-card-header">
                                        <div class="signoff-crew-avatar" style="background: linear-gradient(135deg, var(--teal), var(--success));">PS</div>
                                        <div class="signoff-crew-info">
                                            <div class="signoff-crew-name">Pedro Santos</div>
                                            <div class="signoff-crew-position">Bosun</div>
                                        </div>
                                    </div>
                                    <div class="signoff-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Diana Voyager
                                    </div>
                                    <div class="signoff-detail-row">
                                        <span class="signoff-label">Interview:</span>
                                        <span class="signoff-value" style="color: var(--info);"> Feb 11, 2026</span>
                                    </div>
                                    <div class="signoff-detail-row">
                                        <span class="signoff-label">Reason:</span>
                                        <span class="signoff-value signoff-reason finished">Contract Finished</span>
                                    </div>
                                    <div class="signoff-tasks">
                                        <span class="signoff-task scheduled"> Interview Scheduled</span>
                                    </div>
                                </div>
                                
                                <div class="signoff-card" onclick="openSignOffDetailModal('SO-005')">
                                    <div class="signoff-card-header">
                                        <div class="signoff-crew-avatar" style="background: linear-gradient(135deg, var(--gold), #B45309);">RD</div>
                                        <div class="signoff-crew-info">
                                            <div class="signoff-crew-name">Ramon Diaz</div>
                                            <div class="signoff-crew-position">Cook</div>
                                        </div>
                                    </div>
                                    <div class="signoff-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Centrofin Star
                                    </div>
                                    <div class="signoff-detail-row">
                                        <span class="signoff-label">Interview:</span>
                                        <span class="signoff-value" style="color: var(--info);"> Feb 12, 2026</span>
                                    </div>
                                    <div class="signoff-detail-row">
                                        <span class="signoff-label">Reason:</span>
                                        <span class="signoff-value signoff-reason finished">Contract Finished</span>
                                    </div>
                                    <div class="signoff-tasks">
                                        <span class="signoff-task scheduled"> Interview Scheduled</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Debriefing Column -->
                        <div class="pipeline-column" style="border-top: 3px solid var(--purple);">
                            <div class="pipeline-column-header">
                                <span class="pipeline-column-title">
                                    <span style="width: 8px; height: 8px; background: var(--purple); border-radius: 50%;"></span>
                                     Debriefing
                                </span>
                                <span class="pipeline-column-count" style="background: rgba(139,92,246,0.2); color: var(--purple);">2</span>
                            </div>
                            <div class="pipeline-cards">
                                <div class="signoff-card" onclick="openSignOffDetailModal('SO-006')">
                                    <div class="signoff-card-header">
                                        <div class="signoff-crew-avatar" style="background: linear-gradient(135deg, var(--navy), var(--teal));">EG</div>
                                        <div class="signoff-crew-info">
                                            <div class="signoff-crew-name">Eduardo Garcia</div>
                                            <div class="signoff-crew-position">2nd Officer</div>
                                        </div>
                                    </div>
                                    <div class="signoff-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Pioneer Glory
                                    </div>
                                    <div class="signoff-interview-result">
                                        <span class="interview-score good"> Positive Feedback</span>
                                    </div>
                                    <div class="signoff-tasks">
                                        <span class="signoff-task completed"> Exit Interview</span>
                                        <span class="signoff-task in-progress"> Debriefing</span>
                                    </div>
                                </div>
                                
                                <div class="signoff-card" onclick="openSignOffDetailModal('SO-007')">
                                    <div class="signoff-card-header">
                                        <div class="signoff-crew-avatar" style="background: linear-gradient(135deg, var(--pink), var(--purple));">ML</div>
                                        <div class="signoff-crew-info">
                                            <div class="signoff-crew-name">Miguel Luna</div>
                                            <div class="signoff-crew-position">Electrician</div>
                                        </div>
                                    </div>
                                    <div class="signoff-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Diana Navigator
                                    </div>
                                    <div class="signoff-interview-result">
                                        <span class="interview-score good"> Positive Feedback</span>
                                    </div>
                                    <div class="signoff-tasks">
                                        <span class="signoff-task completed"> Exit Interview</span>
                                        <span class="signoff-task in-progress"> Document Check</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Completed Column -->
                        <div class="pipeline-column" style="border-top: 3px solid var(--success);">
                            <div class="pipeline-column-header">
                                <span class="pipeline-column-title">
                                    <span style="width: 8px; height: 8px; background: var(--success); border-radius: 50%;"></span>
                                     Completed
                                </span>
                                <span class="pipeline-column-count" style="background: rgba(16,185,129,0.2); color: var(--success);">2</span>
                            </div>
                            <div class="pipeline-cards">
                                <div class="signoff-card completed-card" onclick="openSignOffDetailModal('SO-008')">
                                    <div class="signoff-card-header">
                                        <div class="signoff-crew-avatar" style="background: linear-gradient(135deg, var(--success), var(--teal));">FS</div>
                                        <div class="signoff-crew-info">
                                            <div class="signoff-crew-name">Fernando Silva</div>
                                            <div class="signoff-crew-position">3rd Engineer</div>
                                        </div>
                                        <span class="rehireable-badge yes"> Rehireable</span>
                                    </div>
                                    <div class="signoff-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Centrofin Pride
                                    </div>
                                    <div class="signoff-complete-info">
                                        <div class="complete-row">
                                            <span>Status:</span>
                                            <span style="color: var(--success); font-weight: 600;">Available for New Assignment</span>
                                        </div>
                                        <div class="complete-row">
                                            <span>Next Available:</span>
                                            <span style="font-weight: 600;">Mar 01, 2026</span>
                                        </div>
                                    </div>
                                    <button class="btn btn-outline signoff-action-btn" onclick="event.stopPropagation(); createRfcFromSignOff('FS')">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                                        Create RFC
                                    </button>
                                </div>
                                
                                <div class="signoff-card completed-card" onclick="openSignOffDetailModal('SO-009')">
                                    <div class="signoff-card-header">
                                        <div class="signoff-crew-avatar" style="background: linear-gradient(135deg, var(--success), var(--teal));">CT</div>
                                        <div class="signoff-crew-info">
                                            <div class="signoff-crew-name">Carlos Torres</div>
                                            <div class="signoff-crew-position">Oiler</div>
                                        </div>
                                        <span class="rehireable-badge yes"> Rehireable</span>
                                    </div>
                                    <div class="signoff-vessel">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2"/></svg>
                                        MV Diana Excellence
                                    </div>
                                    <div class="signoff-complete-info">
                                        <div class="complete-row">
                                            <span>Status:</span>
                                            <span style="color: var(--success); font-weight: 600;">Available for New Assignment</span>
                                        </div>
                                        <div class="complete-row">
                                            <span>Next Available:</span>
                                            <span style="font-weight: 600;">Feb 25, 2026</span>
                                        </div>
                                    </div>
                                    <button class="btn btn-outline signoff-action-btn" onclick="event.stopPropagation(); createRfcFromSignOff('CT')">
                                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                                        Create RFC
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                    
                    <!-- Document Renewal Alerts -->
                    <div class="content-card">
                        <div class="content-card-header">
                            <h3 class="content-card-title"> Document Renewal Required (Recently Signed-Off)</h3>
                        </div>
                        <div class="content-card-body" style="padding: 0; overflow-x: auto;">
                            <table class="data-table" style="min-width: 700px;">
                                <thead>
                                    <tr>
                                        <th>Seafarer</th>
                                        <th>Document</th>
                                        <th>Expiry Date</th>
                                        <th>Days Left</th>
                                        <th>Status</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <div class="client-cell">
                                                <div class="client-avatar-sm" style="background: linear-gradient(135deg, var(--success), var(--teal));">FS</div>
                                                <div class="client-info-sm">
                                                    <h4>Fernando Silva</h4>
                                                    <p>3rd Engineer</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td>STCW Certificate</td>
                                        <td>Apr 15, 2026</td>
                                        <td><span class="expiry-badge warning">64 days</span></td>
                                        <td><span class="status-badge status-pending">Needs Renewal</span></td>
                                        <td>
                                            <button class="action-btn" title="Notify"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg></button>
                                            <button class="action-btn" title="Schedule"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/></svg></button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="client-cell">
                                                <div class="client-avatar-sm" style="background: linear-gradient(135deg, var(--success), var(--teal));">CT</div>
                                                <div class="client-info-sm">
                                                    <h4>Carlos Torres</h4>
                                                    <p>Oiler</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td>Medical Certificate</td>
                                        <td>Mar 20, 2026</td>
                                        <td><span class="expiry-badge critical">38 days</span></td>
                                        <td><span class="status-badge status-review">Scheduled</span></td>
                                        <td>
                                            <button class="action-btn" title="View"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg></button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="client-cell">
                                                <div class="client-avatar-sm" style="background: linear-gradient(135deg, var(--navy), var(--teal));">EG</div>
                                                <div class="client-info-sm">
                                                    <h4>Eduardo Garcia</h4>
                                                    <p>2nd Officer</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td>Passport</td>
                                        <td>Jun 30, 2026</td>
                                        <td><span class="expiry-badge" style="background: rgba(107,114,128,0.1); color: var(--gray-600);">140 days</span></td>
                                        <td><span class="status-badge status-active">Valid</span></td>
                                        <td>
                                            <button class="action-btn" title="View"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- SEAFARER PORTAL PAGE -->
                <div class="page" id="page-seafarer">
                    <div class="seafarer-container">
                        <div class="seafarer-header">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <svg width="36" height="26" viewBox="0 0 100 70" fill="none">
                                        <ellipse cx="50" cy="35" rx="45" ry="30" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.3)"/>
                                        <path d="M50 8 L54 35 L50 32 L46 35 Z" fill="white"/>
                                        <circle cx="50" cy="35" r="5" fill="white"/>
                                    </svg>
                                    <span style="font-family: 'Montserrat', sans-serif; font-size: 16px; font-weight: 700; color: white;">CROSSWORLD</span>
                                </div>
                                <button class="seafarer-notif-btn" style="width: 40px; height: 40px; border-radius: 12px; background: rgba(255,255,255,0.15); border: none; position: relative; cursor: pointer;">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
                                    <span style="position: absolute; top: 8px; right: 8px; width: 8px; height: 8px; background: #EF4444; border-radius: 50%;"></span>
                                </button>
                            </div>
                            
                            <div class="seafarer-user-card">
                                <div class="seafarer-avatar">JD</div>
                                <div class="seafarer-info">
                                    <h3>Juan Dela Cruz</h3>
                                    <p>Chief Officer  MV CROSSWORLD PIONEER</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Main Content - Switchable Sections -->
                        <div id="seafarer-main-content">
                            <!-- Home Section -->
                            <div class="seafarer-section active" id="seafarer-home">
                                <div class="status-pipeline">
                                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 14px;">Embarkation Status</h4>
                                    <div class="pipeline-steps">
                                        <div class="pipeline-step"><div class="step-circle completed"><svg viewBox="0 0 24 24" fill="none" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div><span class="step-label">Documents</span></div>
                                        <div class="pipeline-step"><div class="step-circle completed"><svg viewBox="0 0 24 24" fill="none" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div><span class="step-label">Training</span></div>
                                        <div class="pipeline-step"><div class="step-circle current"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg></div><span class="step-label">Medical</span></div>
                                        <div class="pipeline-step"><div class="step-circle"><svg viewBox="0 0 24 24" fill="none" stroke="#9CA3AF" stroke-width="2"><circle cx="12" cy="12" r="10"/></svg></div><span class="step-label">Ready</span></div>
                                    </div>
                                </div>
                                
                                <div class="quick-actions">
                                    <div class="quick-action" onclick="showSeafarerSection('upload')">
                                        <div class="quick-action-icon" style="background: linear-gradient(135deg, #3B82F6, #60A5FA);"><svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg></div>
                                        <h4>Upload Document</h4>
                                        <p>Add new certificate</p>
                                    </div>
                                    <div class="quick-action" onclick="showSeafarerSection('documents')">
                                        <div class="quick-action-icon" style="background: linear-gradient(135deg, #10B981, #34D399);"><svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/></svg></div>
                                        <h4>My Documents</h4>
                                        <p style="color: var(--warning);">2 Expiring</p>
                                    </div>
                                    <div class="quick-action" onclick="showSeafarerSection('training')">
                                        <div class="quick-action-icon" style="background: linear-gradient(135deg, #8B5CF6, #A78BFA);"><svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg></div>
                                        <h4>Training</h4>
                                        <p>Book courses</p>
                                    </div>
                                    <div class="quick-action" onclick="showSeafarerSection('contract')">
                                        <div class="quick-action-icon" style="background: linear-gradient(135deg, #EC4899, #F472B6);"><svg viewBox="0 0 24 24" fill="none" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg></div>
                                        <h4>Contract & Pay</h4>
                                        <p>View details</p>
                                    </div>
                                </div>
                                
                                <div style="padding: 0 20px 20px;">
                                    <div class="content-card">
                                        <div class="content-card-header"><h3 class="content-card-title">Current Contract</h3></div>
                                        <div class="content-card-body" style="background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 100%); color: white; border-radius: 0 0 16px 16px;">
                                            <p style="font-size: 12px; opacity: 0.7; margin-bottom: 4px;">VESSEL</p>
                                            <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; margin-bottom: 16px;">MV CROSSWORLD PIONEER</h4>
                                            <div style="display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 12px;"><span style="opacity: 0.7;">Contract Duration</span><span style="font-weight: 600;">9 months</span></div>
                                            <div style="display: flex; justify-content: space-between; font-size: 13px;"><span style="opacity: 0.7;">Monthly Salary</span><span style="font-weight: 600;">$6,500</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Upload Document Section -->
                            <div class="seafarer-section" id="seafarer-upload">
                                <div style="padding: 20px;">
                                    <button onclick="showSeafarerSection('home')" style="background: none; border: none; color: var(--teal); font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px; margin-bottom: 20px;">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                                        Back to Home
                                    </button>
                                    
                                    <h2 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 8px;">Upload Document</h2>
                                    <p style="color: var(--gray-500); margin-bottom: 24px;">Add a new certificate or document to your profile</p>
                                    
                                    <div class="content-card" style="margin-bottom: 20px;">
                                        <div class="content-card-body">
                                            <div class="form-group" style="margin-bottom: 16px;">
                                                <label>Document Type <span style="color: var(--danger);">*</span></label>
                                                <select id="upload-doc-type" style="width: 100%; padding: 14px 16px; border: 2px solid var(--gray-200); border-radius: 12px; font-size: 15px;">
                                                    <option value="">Select document type...</option>
                                                    <option value="stcw">STCW Certificate</option>
                                                    <option value="medical">Medical Certificate</option>
                                                    <option value="passport">Passport</option>
                                                    <option value="seaman">Seaman's Book</option>
                                                    <option value="goc">GOC Certificate</option>
                                                    <option value="basic-safety">Basic Safety Training</option>
                                                    <option value="other">Other</option>
                                                </select>
                                            </div>
                                            
                                            <div class="form-group" style="margin-bottom: 16px;">
                                                <label>Expiry Date</label>
                                                <input type="date" id="upload-expiry" style="width: 100%; padding: 14px 16px; border: 2px solid var(--gray-200); border-radius: 12px; font-size: 15px;">
                                            </div>
                                            
                                            <div class="upload-zone" onclick="document.getElementById('file-input').click()" style="border: 2px dashed var(--gray-300); border-radius: 16px; padding: 40px 20px; text-align: center; cursor: pointer; transition: all 0.2s; background: var(--gray-50);">
                                                <input type="file" id="file-input" style="display: none;" accept=".pdf,.jpg,.jpeg,.png">
                                                <div style="width: 60px; height: 60px; background: linear-gradient(135deg, var(--teal), var(--teal-light)); border-radius: 16px; margin: 0 auto 16px; display: flex; align-items: center; justify-content: center;">
                                                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                                                </div>
                                                <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 8px;">Tap to upload</h4>
                                                <p style="color: var(--gray-500); font-size: 13px;">PDF, JPG or PNG  Max 10MB</p>
                                            </div>
                                            
                                            <button class="btn btn-primary" style="width: 100%; justify-content: center; margin-top: 20px;" onclick="uploadDocument()">
                                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                                                Upload Document
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- My Documents Section -->
                            <div class="seafarer-section" id="seafarer-documents">
                                <div style="padding: 20px;">
                                    <button onclick="showSeafarerSection('home')" style="background: none; border: none; color: var(--teal); font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px; margin-bottom: 20px;">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                                        Back to Home
                                    </button>
                                    
                                    <h2 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 8px;">My Documents</h2>
                                    <p style="color: var(--gray-500); margin-bottom: 24px;">Manage your certificates and documents</p>
                                    
                                    <!-- Document Cards -->
                                    <div class="doc-card" style="background: white; border-radius: 16px; padding: 16px; margin-bottom: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.06); display: flex; align-items: center; gap: 14px;">
                                        <div style="width: 50px; height: 50px; background: rgba(16, 185, 129, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#10B981" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                                        </div>
                                        <div style="flex: 1;">
                                            <h4 style="font-weight: 600; color: var(--navy); margin-bottom: 4px;">STCW Certificate</h4>
                                            <p style="font-size: 12px; color: var(--gray-500);">Expires: Dec 15, 2026</p>
                                        </div>
                                        <span style="padding: 4px 10px; background: rgba(16, 185, 129, 0.1); color: var(--success); font-size: 11px; font-weight: 600; border-radius: 20px;">VALID</span>
                                    </div>
                                    
                                    <div class="doc-card" style="background: white; border-radius: 16px; padding: 16px; margin-bottom: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.06); display: flex; align-items: center; gap: 14px; border-left: 4px solid var(--warning);">
                                        <div style="width: 50px; height: 50px; background: rgba(245, 158, 11, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#F59E0B" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                                        </div>
                                        <div style="flex: 1;">
                                            <h4 style="font-weight: 600; color: var(--navy); margin-bottom: 4px;">Medical Certificate</h4>
                                            <p style="font-size: 12px; color: var(--warning);">Expires: Mar 20, 2026</p>
                                        </div>
                                        <span style="padding: 4px 10px; background: rgba(245, 158, 11, 0.1); color: var(--warning); font-size: 11px; font-weight: 600; border-radius: 20px;">EXPIRING</span>
                                    </div>
                                    
                                    <div class="doc-card" style="background: white; border-radius: 16px; padding: 16px; margin-bottom: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.06); display: flex; align-items: center; gap: 14px;">
                                        <div style="width: 50px; height: 50px; background: rgba(59, 130, 246, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#3B82F6" stroke-width="2"><rect x="3" y="4" width="18" height="16" rx="2"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                                        </div>
                                        <div style="flex: 1;">
                                            <h4 style="font-weight: 600; color: var(--navy); margin-bottom: 4px;">Passport</h4>
                                            <p style="font-size: 12px; color: var(--gray-500);">Expires: Aug 10, 2028</p>
                                        </div>
                                        <span style="padding: 4px 10px; background: rgba(16, 185, 129, 0.1); color: var(--success); font-size: 11px; font-weight: 600; border-radius: 20px;">VALID</span>
                                    </div>
                                    
                                    <div class="doc-card" style="background: white; border-radius: 16px; padding: 16px; margin-bottom: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.06); display: flex; align-items: center; gap: 14px;">
                                        <div style="width: 50px; height: 50px; background: rgba(139, 92, 246, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#8B5CF6" stroke-width="2"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>
                                        </div>
                                        <div style="flex: 1;">
                                            <h4 style="font-weight: 600; color: var(--navy); margin-bottom: 4px;">Seaman's Book</h4>
                                            <p style="font-size: 12px; color: var(--gray-500);">Expires: Jan 05, 2029</p>
                                        </div>
                                        <span style="padding: 4px 10px; background: rgba(16, 185, 129, 0.1); color: var(--success); font-size: 11px; font-weight: 600; border-radius: 20px;">VALID</span>
                                    </div>
                                    
                                    <div class="doc-card" style="background: white; border-radius: 16px; padding: 16px; margin-bottom: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.06); display: flex; align-items: center; gap: 14px; border-left: 4px solid var(--warning);">
                                        <div style="width: 50px; height: 50px; background: rgba(245, 158, 11, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#F59E0B" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                                        </div>
                                        <div style="flex: 1;">
                                            <h4 style="font-weight: 600; color: var(--navy); margin-bottom: 4px;">Basic Safety Training</h4>
                                            <p style="font-size: 12px; color: var(--warning);">Expires: Apr 01, 2026</p>
                                        </div>
                                        <span style="padding: 4px 10px; background: rgba(245, 158, 11, 0.1); color: var(--warning); font-size: 11px; font-weight: 600; border-radius: 20px;">EXPIRING</span>
                                    </div>
                                    
                                    <div class="doc-card" style="background: white; border-radius: 16px; padding: 16px; margin-bottom: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.06); display: flex; align-items: center; gap: 14px;">
                                        <div style="width: 50px; height: 50px; background: rgba(23, 162, 184, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#17A2B8" stroke-width="2"><circle cx="12" cy="12" r="10"/><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"/></svg>
                                        </div>
                                        <div style="flex: 1;">
                                            <h4 style="font-weight: 600; color: var(--navy); margin-bottom: 4px;">GOC Certificate</h4>
                                            <p style="font-size: 12px; color: var(--gray-500);">Expires: Nov 30, 2027</p>
                                        </div>
                                        <span style="padding: 4px 10px; background: rgba(16, 185, 129, 0.1); color: var(--success); font-size: 11px; font-weight: 600; border-radius: 20px;">VALID</span>
                                    </div>
                                    
                                    <button class="btn btn-teal" style="width: 100%; justify-content: center; margin-top: 16px;" onclick="showSeafarerSection('upload')">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                                        Upload New Document
                                    </button>
                                </div>
                            </div>

                            <!-- Training Section -->
                            <div class="seafarer-section" id="seafarer-training">
                                <div style="padding: 20px;">
                                    <button onclick="showSeafarerSection('home')" style="background: none; border: none; color: var(--teal); font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px; margin-bottom: 20px;">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                                        Back to Home
                                    </button>
                                    
                                    <h2 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 8px;">Training Programs</h2>
                                    <p style="color: var(--gray-500); margin-bottom: 24px;">Book courses and manage your certifications</p>
                                    
                                    <!-- Mandatory Courses -->
                                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 14px; margin-bottom: 12px; display: flex; align-items: center; gap: 8px;">
                                        <span style="width: 8px; height: 8px; background: var(--danger); border-radius: 50%;"></span>
                                        Mandatory Courses
                                    </h4>
                                    
                                    <div class="training-card" style="background: white; border-radius: 16px; padding: 16px; margin-bottom: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.06);">
                                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
                                            <div>
                                                <h4 style="font-weight: 600; color: var(--navy); margin-bottom: 4px;">STCW Refresher Course</h4>
                                                <p style="font-size: 12px; color: var(--gray-500);">5 Days  Crossworld Training Center</p>
                                            </div>
                                            <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">$450</span>
                                        </div>
                                        <div style="display: flex; gap: 8px;">
                                            <span style="padding: 4px 10px; background: rgba(239, 68, 68, 0.1); color: var(--danger); font-size: 11px; font-weight: 600; border-radius: 20px;">Required</span>
                                            <span style="padding: 4px 10px; background: rgba(59, 130, 246, 0.1); color: var(--info); font-size: 11px; font-weight: 600; border-radius: 20px;">Mar 15-19</span>
                                        </div>
                                        <button class="btn btn-primary" style="width: 100%; justify-content: center; margin-top: 12px; padding: 12px;" onclick="bookCourse('STCW Refresher Course')">Book Now</button>
                                    </div>
                                    
                                    <div class="training-card" style="background: white; border-radius: 16px; padding: 16px; margin-bottom: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.06);">
                                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
                                            <div>
                                                <h4 style="font-weight: 600; color: var(--navy); margin-bottom: 4px;">Medical First Aid (MFA)</h4>
                                                <p style="font-size: 12px; color: var(--gray-500);">3 Days  Crossworld Training Center</p>
                                            </div>
                                            <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">$280</span>
                                        </div>
                                        <div style="display: flex; gap: 8px;">
                                            <span style="padding: 4px 10px; background: rgba(239, 68, 68, 0.1); color: var(--danger); font-size: 11px; font-weight: 600; border-radius: 20px;">Required</span>
                                            <span style="padding: 4px 10px; background: rgba(59, 130, 246, 0.1); color: var(--info); font-size: 11px; font-weight: 600; border-radius: 20px;">Mar 22-24</span>
                                        </div>
                                        <button class="btn btn-primary" style="width: 100%; justify-content: center; margin-top: 12px; padding: 12px;" onclick="bookCourse('Medical First Aid')">Book Now</button>
                                    </div>
                                    
                                    <!-- Optional Courses -->
                                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 14px; margin: 24px 0 12px; display: flex; align-items: center; gap: 8px;">
                                        <span style="width: 8px; height: 8px; background: var(--teal); border-radius: 50%;"></span>
                                        Optional Courses
                                    </h4>
                                    
                                    <div class="training-card" style="background: white; border-radius: 16px; padding: 16px; margin-bottom: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.06);">
                                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
                                            <div>
                                                <h4 style="font-weight: 600; color: var(--navy); margin-bottom: 4px;">Bridge Team Management</h4>
                                                <p style="font-size: 12px; color: var(--gray-500);">3 Days  Online + Simulator</p>
                                            </div>
                                            <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">$350</span>
                                        </div>
                                        <button class="btn" style="width: 100%; justify-content: center; margin-top: 8px; padding: 12px; background: var(--gray-100); color: var(--navy);" onclick="bookCourse('Bridge Team Management')">View Details</button>
                                    </div>
                                    
                                    <div class="training-card" style="background: white; border-radius: 16px; padding: 16px; margin-bottom: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.06);">
                                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
                                            <div>
                                                <h4 style="font-weight: 600; color: var(--navy); margin-bottom: 4px;">ECDIS Type Specific</h4>
                                                <p style="font-size: 12px; color: var(--gray-500);">2 Days  Crossworld Training Center</p>
                                            </div>
                                            <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">$220</span>
                                        </div>
                                        <button class="btn" style="width: 100%; justify-content: center; margin-top: 8px; padding: 12px; background: var(--gray-100); color: var(--navy);" onclick="bookCourse('ECDIS Type Specific')">View Details</button>
                                    </div>
                                    
                                    <!-- Completed -->
                                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 14px; margin: 24px 0 12px; display: flex; align-items: center; gap: 8px;">
                                        <span style="width: 8px; height: 8px; background: var(--success); border-radius: 50%;"></span>
                                        Completed Training
                                    </h4>
                                    
                                    <div class="training-card" style="background: var(--gray-50); border-radius: 16px; padding: 16px; margin-bottom: 12px;">
                                        <div style="display: flex; justify-content: space-between; align-items: center;">
                                            <div>
                                                <h4 style="font-weight: 600; color: var(--navy); margin-bottom: 4px;">Basic Safety Training</h4>
                                                <p style="font-size: 12px; color: var(--gray-500);">Completed: Jan 15, 2024</p>
                                            </div>
                                            <div style="width: 36px; height: 36px; background: var(--success); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Contract & Pay Section -->
                            <div class="seafarer-section" id="seafarer-contract">
                                <div style="padding: 20px;">
                                    <button onclick="showSeafarerSection('home')" style="background: none; border: none; color: var(--teal); font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px; margin-bottom: 20px;">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                                        Back to Home
                                    </button>
                                    
                                    <h2 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 8px;">Contract & Pay</h2>
                                    <p style="color: var(--gray-500); margin-bottom: 24px;">View your contract details and payment history</p>
                                    
                                    <!-- Contract Card -->
                                    <div style="background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 100%); border-radius: 20px; padding: 24px; margin-bottom: 20px; color: white;">
                                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
                                            <div>
                                                <p style="font-size: 11px; opacity: 0.7; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 4px;">Current Vessel</p>
                                                <h3 style="font-family: 'Montserrat', sans-serif; font-weight: 800; font-size: 20px;">MV CROSSWORLD PIONEER</h3>
                                            </div>
                                            <span style="padding: 6px 12px; background: rgba(16, 185, 129, 0.3); border-radius: 20px; font-size: 11px; font-weight: 600;">ACTIVE</span>
                                        </div>
                                        
                                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px;">
                                            <div>
                                                <p style="font-size: 11px; opacity: 0.7;">Position</p>
                                                <p style="font-weight: 600;">Chief Officer</p>
                                            </div>
                                            <div>
                                                <p style="font-size: 11px; opacity: 0.7;">Contract Duration</p>
                                                <p style="font-weight: 600;">9 Months</p>
                                            </div>
                                            <div>
                                                <p style="font-size: 11px; opacity: 0.7;">Start Date</p>
                                                <p style="font-weight: 600;">Jan 15, 2026</p>
                                            </div>
                                            <div>
                                                <p style="font-size: 11px; opacity: 0.7;">End Date</p>
                                                <p style="font-weight: 600;">Oct 15, 2026</p>
                                            </div>
                                        </div>
                                        
                                        <!-- Progress Bar -->
                                        <div style="margin-top: 20px;">
                                            <div style="display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 8px;">
                                                <span style="opacity: 0.7;">Contract Progress</span>
                                                <span style="font-weight: 600;">1 of 9 months</span>
                                            </div>
                                            <div style="height: 8px; background: rgba(255,255,255,0.2); border-radius: 10px; overflow: hidden;">
                                                <div style="width: 11%; height: 100%; background: linear-gradient(90deg, var(--teal-light), var(--gold)); border-radius: 10px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Salary Breakdown -->
                                    <div class="content-card" style="margin-bottom: 20px;">
                                        <div class="content-card-header">
                                            <h3 class="content-card-title">Monthly Salary Breakdown</h3>
                                        </div>
                                        <div class="content-card-body">
                                            <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--gray-100);">
                                                <span style="color: var(--gray-600);">Basic Salary</span>
                                                <span style="font-weight: 600; color: var(--navy);">$5,200</span>
                                            </div>
                                            <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--gray-100);">
                                                <span style="color: var(--gray-600);">Leave Pay</span>
                                                <span style="font-weight: 600; color: var(--navy);">$650</span>
                                            </div>
                                            <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--gray-100);">
                                                <span style="color: var(--gray-600);">Subsistence Allowance</span>
                                                <span style="font-weight: 600; color: var(--navy);">$400</span>
                                            </div>
                                            <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--gray-100);">
                                                <span style="color: var(--gray-600);">Fixed Overtime</span>
                                                <span style="font-weight: 600; color: var(--navy);">$250</span>
                                            </div>
                                            <div style="display: flex; justify-content: space-between; padding: 16px 0; background: var(--gray-50); margin: 12px -24px -20px; padding: 16px 24px; border-radius: 0 0 16px 16px;">
                                                <span style="font-weight: 700; color: var(--navy);">Total Gross</span>
                                                <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 20px;">$6,500</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Allotment -->
                                    <div class="content-card" style="margin-bottom: 20px;">
                                        <div class="content-card-header">
                                            <h3 class="content-card-title">Allotment Details</h3>
                                        </div>
                                        <div class="content-card-body">
                                            <div style="display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--gray-100);">
                                                <div>
                                                    <p style="font-weight: 600; color: var(--navy);">Home Allotment</p>
                                                    <p style="font-size: 12px; color: var(--gray-500);">BDO Account ****4521</p>
                                                </div>
                                                <span style="font-weight: 600; color: var(--success);">$4,500</span>
                                            </div>
                                            <div style="display: flex; justify-content: space-between; padding: 12px 0;">
                                                <div>
                                                    <p style="font-weight: 600; color: var(--navy);">On Board Balance</p>
                                                    <p style="font-size: 12px; color: var(--gray-500);">Available for withdrawal</p>
                                                </div>
                                                <span style="font-weight: 600; color: var(--navy);">$2,000</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Payment History -->
                                    <div class="content-card">
                                        <div class="content-card-header">
                                            <h3 class="content-card-title">Recent Payments</h3>
                                        </div>
                                        <div class="content-card-body" style="padding: 0;">
                                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 16px 24px; border-bottom: 1px solid var(--gray-100);">
                                                <div style="display: flex; align-items: center; gap: 12px;">
                                                    <div style="width: 40px; height: 40px; background: rgba(16, 185, 129, 0.1); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#10B981" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                                                    </div>
                                                    <div>
                                                        <p style="font-weight: 600; color: var(--navy);">January 2026</p>
                                                        <p style="font-size: 12px; color: var(--gray-500);">Paid Feb 5, 2026</p>
                                                    </div>
                                                </div>
                                                <span style="font-weight: 700; color: var(--success);">$6,500</span>
                                            </div>
                                            <div style="padding: 16px 24px; text-align: center; color: var(--gray-400); font-size: 13px;">
                                                More payment history coming soon...
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SEAFARER REGISTRATION PAGE -->
                <div class="page" id="page-seafarer-register">
                    <div class="reg-container">
                        <!-- Header with Progress -->
                        <div class="reg-header">
                            <h2> Seafarer Registration</h2>
                            <p>Join the Crossworld network and connect with top shipping companies</p>
                            
                            <div class="reg-progress">
                                <div class="reg-progress-step">
                                    <div class="reg-progress-circle active" id="reg-circle-1">1</div>
                                </div>
                                <div class="reg-progress-line" id="reg-line-1"></div>
                                <div class="reg-progress-step">
                                    <div class="reg-progress-circle" id="reg-circle-2">2</div>
                                </div>
                                <div class="reg-progress-line" id="reg-line-2"></div>
                                <div class="reg-progress-step">
                                    <div class="reg-progress-circle" id="reg-circle-3">3</div>
                                </div>
                                <div class="reg-progress-line" id="reg-line-3"></div>
                                <div class="reg-progress-step">
                                    <div class="reg-progress-circle" id="reg-circle-4">4</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Step 1: Account Setup -->
                        <div class="reg-card reg-step-content active" id="reg-step-1">
                            <div class="reg-card-header">
                                <h3> Account Setup</h3>
                                <p>Create your login credentials to access the Crossworld platform</p>
                            </div>
                            <div class="reg-card-body">
                                <div class="form-group">
                                    <label>Username <span>*</span></label>
                                    <input type="text" id="reg-username" placeholder="Choose a unique username">
                                </div>
                                <div class="form-group">
                                    <label>Email Address <span>*</span></label>
                                    <input type="email" id="reg-email" placeholder="your.email@example.com">
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Password <span>*</span></label>
                                        <input type="password" id="reg-password" placeholder="Create a strong password">
                                    </div>
                                    <div class="form-group">
                                        <label>Confirm Password <span>*</span></label>
                                        <input type="password" id="reg-password-confirm" placeholder="Confirm your password">
                                    </div>
                                </div>
                            </div>
                            <div class="reg-card-footer">
                                <div></div>
                                <button class="btn btn-primary" onclick="goToRegStep(2)">
                                    Continue
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Step 2: Personal Details -->
                        <div class="reg-card reg-step-content" id="reg-step-2">
                            <div class="reg-card-header">
                                <h3> Personal Details</h3>
                                <p>Tell us about yourself</p>
                            </div>
                            <div class="reg-card-body">
                                <!-- Photo Upload -->
                                <div class="photo-upload-box" id="photo-upload-box" onclick="document.getElementById('reg-photo-input').click()">
                                    <input type="file" id="reg-photo-input" accept="image/*" style="display: none;" onchange="previewRegPhoto(this)">
                                    <svg viewBox="0 0 24 24" fill="none" stroke-width="1.5"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                                    <span>Upload Photo</span>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>First Name <span>*</span></label>
                                        <input type="text" id="reg-firstname" placeholder="Juan">
                                    </div>
                                    <div class="form-group">
                                        <label>Last Name <span>*</span></label>
                                        <input type="text" id="reg-lastname" placeholder="Dela Cruz">
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Date of Birth <span>*</span></label>
                                        <input type="date" id="reg-dob">
                                    </div>
                                    <div class="form-group">
                                        <label>Nationality <span>*</span></label>
                                        <select id="reg-nationality">
                                            <option value="">Select nationality...</option>
                                            <option value="PH"> Filipino</option>
                                            <option value="IN"> Indian</option>
                                            <option value="ID"> Indonesian</option>
                                            <option value="UA"> Ukrainian</option>
                                            <option value="RU"> Russian</option>
                                            <option value="GR"> Greek</option>
                                            <option value="CN"> Chinese</option>
                                            <option value="MM"> Myanmar</option>
                                            <option value="VN"> Vietnamese</option>
                                            <option value="BD"> Bangladeshi</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Phone Number <span>*</span></label>
                                        <input type="tel" id="reg-phone" placeholder="+63 917 123 4567">
                                    </div>
                                    <div class="form-group">
                                        <label>Address</label>
                                        <input type="text" id="reg-address" placeholder="City, Province">
                                    </div>
                                </div>
                                
                                <!-- Social Media Links -->
                                <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 14px; margin: 24px 0 16px;">
                                     Social Media (Optional)
                                </h4>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label style="display: flex; align-items: center; gap: 8px;">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#0A66C2"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                                            LinkedIn Profile
                                        </label>
                                        <input type="url" id="reg-linkedin" placeholder="https://linkedin.com/in/yourprofile">
                                    </div>
                                    <div class="form-group">
                                        <label style="display: flex; align-items: center; gap: 8px;">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#1877F2"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                                            Facebook Profile
                                        </label>
                                        <input type="url" id="reg-facebook" placeholder="https://facebook.com/yourprofile">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label style="display: flex; align-items: center; gap: 8px;">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="#25D366"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                                            WhatsApp Number
                                        </label>
                                        <input type="tel" id="reg-whatsapp" placeholder="+63 917 123 4567">
                                    </div>
                                    <div class="form-group">
                                        <label style="display: flex; align-items: center; gap: 8px;">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1DA1F2" stroke-width="2"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/></svg>
                                            Twitter/X
                                        </label>
                                        <input type="url" id="reg-twitter" placeholder="https://twitter.com/yourhandle">
                                    </div>
                                </div>
                            </div>
                            <div class="reg-card-footer">
                                <button class="btn btn-ghost" onclick="goToRegStep(1)" style="background: var(--gray-200); color: var(--navy);">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                                    Back
                                </button>
                                <button class="btn btn-primary" onclick="goToRegStep(3)">
                                    Continue
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Step 3: Professional Info -->
                        <div class="reg-card reg-step-content" id="reg-step-3">
                            <div class="reg-card-header">
                                <h3> Professional Information</h3>
                                <p>Your maritime qualifications and experience</p>
                            </div>
                            <div class="reg-card-body">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Department <span>*</span></label>
                                        <select id="reg-department">
                                            <option value="">Select department...</option>
                                            <option value="deck"> Deck Department</option>
                                            <option value="engine"> Engine Department</option>
                                            <option value="electrical"> Electrical Department</option>
                                            <option value="catering"> Catering/Hotel</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Current Rank <span>*</span></label>
                                        <select id="reg-rank">
                                            <option value="">Select rank...</option>
                                            <optgroup label="Deck Officers">
                                                <option value="master">Master / Captain</option>
                                                <option value="chief-officer">Chief Officer</option>
                                                <option value="2nd-officer">2nd Officer</option>
                                                <option value="3rd-officer">3rd Officer</option>
                                                <option value="deck-cadet">Deck Cadet</option>
                                            </optgroup>
                                            <optgroup label="Engine Officers">
                                                <option value="chief-engineer">Chief Engineer</option>
                                                <option value="2nd-engineer">2nd Engineer</option>
                                                <option value="3rd-engineer">3rd Engineer</option>
                                                <option value="4th-engineer">4th Engineer</option>
                                                <option value="engine-cadet">Engine Cadet</option>
                                            </optgroup>
                                            <optgroup label="Electrical">
                                                <option value="eto">Electro-Technical Officer</option>
                                                <option value="electrician">Electrician</option>
                                            </optgroup>
                                            <optgroup label="Ratings - Deck">
                                                <option value="bosun">Bosun</option>
                                                <option value="ab">Able Seaman (AB)</option>
                                                <option value="os">Ordinary Seaman (OS)</option>
                                            </optgroup>
                                            <optgroup label="Ratings - Engine">
                                                <option value="fitter">Fitter</option>
                                                <option value="oiler">Oiler</option>
                                                <option value="wiper">Wiper</option>
                                            </optgroup>
                                            <optgroup label="Catering">
                                                <option value="chief-cook">Chief Cook</option>
                                                <option value="messman">Messman</option>
                                            </optgroup>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Years of Experience <span>*</span></label>
                                        <select id="reg-experience">
                                            <option value="">Select...</option>
                                            <option value="0-1">Less than 1 year</option>
                                            <option value="1-3">1-3 years</option>
                                            <option value="3-5">3-5 years</option>
                                            <option value="5-10">5-10 years</option>
                                            <option value="10-15">10-15 years</option>
                                            <option value="15+">15+ years</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Vessel Type Experience <span>*</span></label>
                                        <select id="reg-vessel-exp">
                                            <option value="">Select...</option>
                                            <option value="bulk"> Bulk Carrier</option>
                                            <option value="tanker"> Tanker (Oil/Chemical)</option>
                                            <option value="container"> Container Ship</option>
                                            <option value="lng"> LNG/LPG Carrier</option>
                                            <option value="cruise"> Cruise/Passenger</option>
                                            <option value="offshore"> Offshore/Supply</option>
                                            <option value="roro"> Ro-Ro / Car Carrier</option>
                                            <option value="general"> General Cargo</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Expected Salary (USD/month)</label>
                                        <input type="text" id="reg-salary" placeholder="e.g. 6,500">
                                    </div>
                                    <div class="form-group">
                                        <label>Availability <span>*</span></label>
                                        <select id="reg-availability">
                                            <option value="immediate"> Immediately Available</option>
                                            <option value="1-month"> Available in 1 month</option>
                                            <option value="2-months"> Available in 2 months</option>
                                            <option value="3-months"> Available in 3+ months</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label>Key Skills (comma separated)</label>
                                    <input type="text" id="reg-skills" placeholder="e.g. ECDIS, Cargo Operations, Bridge Watchkeeping, ISM/ISPS">
                                </div>
                                
                                <div class="form-group">
                                    <label>Brief Summary</label>
                                    <textarea id="reg-summary" rows="3" placeholder="Write a brief professional summary about yourself..." style="width: 100%; padding: 14px 16px; border: 2px solid var(--gray-200); border-radius: 12px; font-size: 14px; font-family: 'Open Sans', sans-serif; resize: vertical;"></textarea>
                                </div>
                            </div>
                            <div class="reg-card-footer">
                                <button class="btn btn-ghost" onclick="goToRegStep(2)" style="background: var(--gray-200); color: var(--navy);">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                                    Back
                                </button>
                                <button class="btn btn-primary" onclick="goToRegStep(4)">
                                    Continue
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Step 4: CV Upload -->
                        <div class="reg-card reg-step-content" id="reg-step-4">
                            <div class="reg-card-header">
                                <h3> Upload Your CV</h3>
                                <p>Our AI will analyze your CV and generate your professional score</p>
                            </div>
                            <div class="reg-card-body">
                                <div class="cv-upload-box" id="cv-upload-box" onclick="document.getElementById('reg-cv-input').click()">
                                    <input type="file" id="reg-cv-input" accept=".pdf,.doc,.docx" style="display: none;" onchange="handleRegCVUpload(this)">
                                    <div class="cv-upload-icon">
                                        <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                                    </div>
                                    <h4>Tap to upload your CV</h4>
                                    <p>PDF, DOC, or DOCX  Max 5MB</p>
                                </div>
                                
                                <div id="cv-file-preview" style="display: none;"></div>
                                
                                <div class="ai-info-box">
                                    <h4>
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#8B5CF6" stroke-width="2"><path d="M12 2a10 10 0 1 0 10 10H12V2z"/><path d="M12 2a10 10 0 0 1 10 10"/></svg>
                                        AI-Powered Analysis
                                    </h4>
                                    <p>Your CV will be analyzed by our AI to extract skills, experience, and certifications. This generates your professional score that helps shipping companies find the best match for their positions. Higher scores mean more visibility to potential employers!</p>
                                </div>
                            </div>
                            <div class="reg-card-footer">
                                <button class="btn btn-ghost" onclick="goToRegStep(3)" style="background: var(--gray-200); color: var(--navy);">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                                    Back
                                </button>
                                <button class="btn btn-teal" onclick="completeSeafarerRegistration()">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                                    Complete Registration
                                </button>
                            </div>
                        </div>
                        
                        <!-- AI Analyzing State -->
                        <div class="reg-card reg-step-content" id="reg-step-analyzing">
                            <div class="ai-analyzing">
                                <div class="ai-spinner"></div>
                                <h3 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 8px;">Analyzing Your Profile...</h3>
                                <p style="color: var(--gray-500);">Our AI is evaluating your CV, experience, and qualifications</p>
                            </div>
                        </div>
                        
                        <!-- Success State -->
                        <div class="reg-card reg-step-content" id="reg-step-success">
                            <div class="reg-success">
                                <div class="success-icon">
                                    <svg viewBox="0 0 24 24" fill="none"><polyline points="20 6 9 17 4 12"/></svg>
                                </div>
                                <h2 style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); margin-bottom: 8px;">Registration Complete!</h2>
                                <p style="color: var(--gray-500); margin-bottom: 24px;">Welcome to the Crossworld network</p>
                                
                                <div class="score-reveal">
                                    <div class="label">Your AI-Generated Score</div>
                                    <div class="score" id="final-ai-score">87</div>
                                    <div class="subtitle">Very Good Profile!</div>
                                </div>
                                
                                <div style="background: var(--gray-50); border-radius: 16px; padding: 20px; margin-bottom: 24px; text-align: left;">
                                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;">What happens next?</h4>
                                    <div style="display: flex; align-items: flex-start; gap: 12px; margin-bottom: 12px;">
                                        <div style="width: 24px; height: 24px; background: rgba(16, 185, 129, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#10B981" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                                        </div>
                                        <div>
                                            <p style="font-weight: 600; color: var(--navy); margin-bottom: 2px;">Profile Review</p>
                                            <p style="font-size: 13px; color: var(--gray-500);">Our team will verify your documents within 24 hours</p>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: flex-start; gap: 12px; margin-bottom: 12px;">
                                        <div style="width: 24px; height: 24px; background: rgba(23, 162, 184, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                            <span style="font-size: 10px; font-weight: 700; color: var(--teal);">2</span>
                                        </div>
                                        <div>
                                            <p style="font-weight: 600; color: var(--navy); margin-bottom: 2px;">Get Matched</p>
                                            <p style="font-size: 13px; color: var(--gray-500);">Shipping companies will see your profile based on your score</p>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: flex-start; gap: 12px;">
                                        <div style="width: 24px; height: 24px; background: rgba(212, 168, 75, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                            <span style="font-size: 10px; font-weight: 700; color: var(--gold);">3</span>
                                        </div>
                                        <div>
                                            <p style="font-weight: 600; color: var(--navy); margin-bottom: 2px;">Start Your Journey</p>
                                            <p style="font-size: 13px; color: var(--gray-500);">Accept contracts and embark on your next voyage</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <div style="display: flex; gap: 12px; justify-content: center;">
                                    <button class="btn btn-outline" onclick="navigateTo('crew-database')">
                                        View Crew Database
                                    </button>
                                    <button class="btn btn-primary" onclick="navigateTo('seafarer')">
                                        Go to My Portal
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ONBOARDING PAGE -->
                <div class="page" id="page-onboarding">
                    <div class="onboarding-container">
                        <div class="onboarding-sidebar">
                            <h3 style="font-family: 'Montserrat', sans-serif; font-size: 18px; font-weight: 700; color: var(--navy); margin-bottom: 24px;">Getting Started</h3>
                            <div class="onboarding-steps" id="onboarding-steps">
                                <div class="onboarding-step-item" data-step="1">
                                    <div class="step-number active">1</div>
                                    <div class="step-content"><h4>Company Details</h4><p>Basic information</p></div>
                                </div>
                                <div class="onboarding-step-item" data-step="2">
                                    <div class="step-number pending">2</div>
                                    <div class="step-content"><h4>Add Vessels</h4><p>Register your fleet</p></div>
                                </div>
                                <div class="onboarding-step-item" data-step="3">
                                    <div class="step-number pending">3</div>
                                    <div class="step-content"><h4>Select Services</h4><p>Choose packages</p></div>
                                </div>
                                <div class="onboarding-step-item" data-step="4">
                                    <div class="step-number pending">4</div>
                                    <div class="step-content"><h4>Review & Confirm</h4><p>Complete setup</p></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="onboarding-main">
                            <!-- Step 1: Company Details -->
                            <div class="onboarding-card onboarding-step-content active" id="onboarding-step-1">
                                <div class="onboarding-card-header">
                                    <h2>Welcome to Crossworld! </h2>
                                    <p>Let's get started by setting up your company profile.</p>
                                </div>
                                <div class="onboarding-card-body">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label>Company Name <span>*</span></label>
                                            <input type="text" id="company-name" placeholder="e.g. Diana Shipping Inc." />
                                        </div>
                                        <div class="form-group">
                                            <label>Country <span>*</span></label>
                                            <select id="company-country">
                                                <option value="">Select country...</option>
                                                <option value="GR"> Greece</option>
                                                <option value="CY"> Cyprus</option>
                                                <option value="MT"> Malta</option>
                                                <option value="NO"> Norway</option>
                                                <option value="DK"> Denmark</option>
                                                <option value="GB"> United Kingdom</option>
                                                <option value="SG"> Singapore</option>
                                                <option value="HK"> Hong Kong</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label>Contact Person <span>*</span></label>
                                            <input type="text" id="contact-person" placeholder="Full name" />
                                        </div>
                                        <div class="form-group">
                                            <label>Job Title</label>
                                            <input type="text" id="job-title" placeholder="e.g. Fleet Manager" />
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label>Email Address <span>*</span></label>
                                            <input type="email" id="company-email" placeholder="you@company.com" />
                                        </div>
                                        <div class="form-group">
                                            <label>Phone Number</label>
                                            <input type="tel" id="company-phone" placeholder="+30 210 XXX XXXX" />
                                        </div>
                                    </div>
                                </div>
                                <div class="onboarding-card-footer">
                                    <div></div>
                                    <button class="btn btn-primary" onclick="goToStep(2)">
                                        Continue
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Step 2: Add Vessels -->
                            <div class="onboarding-card onboarding-step-content" id="onboarding-step-2">
                                <div class="onboarding-card-header">
                                    <h2>Add Your Fleet </h2>
                                    <p>Register the vessels you want to manage through Crossworld.</p>
                                </div>
                                <div class="onboarding-card-body">
                                    <div id="vessel-list"></div>
                                    
                                    <div class="add-vessel-form" id="add-vessel-form" style="background: var(--gray-50); border-radius: 16px; padding: 24px; margin-top: 16px;">
                                        <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;">
                                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 8px;">
                                                <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
                                            </svg>
                                            Add New Vessel
                                        </h4>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Vessel Name <span>*</span></label>
                                                <input type="text" id="vessel-name" placeholder="e.g. MV DIANA PIONEER" />
                                            </div>
                                            <div class="form-group">
                                                <label>IMO Number <span>*</span></label>
                                                <input type="text" id="vessel-imo" placeholder="e.g. 9123456" />
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Vessel Type <span>*</span></label>
                                                <select id="vessel-type">
                                                    <option value="">Select type...</option>
                                                    <option value="bulk">Bulk Carrier</option>
                                                    <option value="tanker">Tanker</option>
                                                    <option value="container">Container Ship</option>
                                                    <option value="lng">LNG Carrier</option>
                                                    <option value="cruise">Cruise Ship</option>
                                                    <option value="roro">Ro-Ro</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label>Flag State <span>*</span></label>
                                                <select id="vessel-flag">
                                                    <option value="">Select flag...</option>
                                                    <option value="GR"> Greece</option>
                                                    <option value="MT"> Malta</option>
                                                    <option value="CY"> Cyprus</option>
                                                    <option value="PA"> Panama</option>
                                                    <option value="LR"> Liberia</option>
                                                    <option value="MH"> Marshall Islands</option>
                                                    <option value="BS"> Bahamas</option>
                                                    <option value="SG"> Singapore</option>
                                                </select>
                                            </div>
                                        </div>
                                        <button class="btn btn-teal" onclick="addVessel()" style="margin-top: 8px;">
                                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                                <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
                                            </svg>
                                            Add Vessel
                                        </button>
                                    </div>
                                </div>
                                <div class="onboarding-card-footer">
                                    <button class="btn btn-ghost" onclick="goToStep(1)" style="background: var(--gray-200); color: var(--navy);">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                                        Back
                                    </button>
                                    <button class="btn btn-primary" onclick="goToStep(3)">
                                        Continue
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Step 3: Select Services -->
                            <div class="onboarding-card onboarding-step-content" id="onboarding-step-3">
                                <div class="onboarding-card-header">
                                    <h2>Select Services </h2>
                                    <p>Choose the services you need for your fleet operations.</p>
                                </div>
                                <div class="onboarding-card-body">
                                    <div class="services-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px;">
                                        <label class="service-option" style="display: flex; align-items: flex-start; gap: 16px; padding: 20px; background: white; border: 2px solid var(--gray-200); border-radius: 16px; cursor: pointer; transition: all 0.2s;">
                                            <input type="checkbox" name="service" value="crew" style="width: 20px; height: 20px; margin-top: 4px; accent-color: var(--teal);">
                                            <div style="flex: 1;">
                                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                                    <div style="width: 40px; height: 40px; background: rgba(10, 61, 98, 0.1); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#0A3D62" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg>
                                                    </div>
                                                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy);">Crew Management</h4>
                                                </div>
                                                <p style="font-size: 13px; color: var(--gray-500); margin-bottom: 8px;">Full lifecycle crew management with 24/7 support</p>
                                                <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">$85<span style="font-weight: 400; font-size: 12px; color: var(--gray-500);">/seafarer/mo</span></span>
                                            </div>
                                        </label>

                                        <label class="service-option" style="display: flex; align-items: flex-start; gap: 16px; padding: 20px; background: white; border: 2px solid var(--gray-200); border-radius: 16px; cursor: pointer; transition: all 0.2s;">
                                            <input type="checkbox" name="service" value="training" style="width: 20px; height: 20px; margin-top: 4px; accent-color: var(--teal);">
                                            <div style="flex: 1;">
                                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                                    <div style="width: 40px; height: 40px; background: rgba(139, 92, 246, 0.1); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#8B5CF6" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                                                    </div>
                                                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy);">Training Programs</h4>
                                                </div>
                                                <p style="font-size: 13px; color: var(--gray-500); margin-bottom: 8px;">STCW compliance and certification training</p>
                                                <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">$45<span style="font-weight: 400; font-size: 12px; color: var(--gray-500);">/seafarer/mo</span></span>
                                            </div>
                                        </label>

                                        <label class="service-option" style="display: flex; align-items: flex-start; gap: 16px; padding: 20px; background: white; border: 2px solid var(--gray-200); border-radius: 16px; cursor: pointer; transition: all 0.2s;">
                                            <input type="checkbox" name="service" value="medical" style="width: 20px; height: 20px; margin-top: 4px; accent-color: var(--teal);">
                                            <div style="flex: 1;">
                                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                                    <div style="width: 40px; height: 40px; background: rgba(236, 72, 153, 0.1); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#EC4899" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                                                    </div>
                                                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy);">Medical & Insurance</h4>
                                                </div>
                                                <p style="font-size: 13px; color: var(--gray-500); margin-bottom: 8px;">PEME, health monitoring, P&I consultancy</p>
                                                <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">$35<span style="font-weight: 400; font-size: 12px; color: var(--gray-500);">/seafarer/mo</span></span>
                                            </div>
                                        </label>

                                        <label class="service-option" style="display: flex; align-items: flex-start; gap: 16px; padding: 20px; background: white; border: 2px solid var(--gray-200); border-radius: 16px; cursor: pointer; transition: all 0.2s;">
                                            <input type="checkbox" name="service" value="ship" style="width: 20px; height: 20px; margin-top: 4px; accent-color: var(--teal);">
                                            <div style="flex: 1;">
                                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                                    <div style="width: 40px; height: 40px; background: rgba(23, 162, 184, 0.1); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#17A2B8" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4"/></svg>
                                                    </div>
                                                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy);">Ship Management</h4>
                                                </div>
                                                <p style="font-size: 13px; color: var(--gray-500); margin-bottom: 8px;">Technical & operational management</p>
                                                <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">$1,500<span style="font-weight: 400; font-size: 12px; color: var(--gray-500);">/vessel/mo</span></span>
                                            </div>
                                        </label>

                                        <label class="service-option" style="display: flex; align-items: flex-start; gap: 16px; padding: 20px; background: white; border: 2px solid var(--gray-200); border-radius: 16px; cursor: pointer; transition: all 0.2s;">
                                            <input type="checkbox" name="service" value="consultancy" style="width: 20px; height: 20px; margin-top: 4px; accent-color: var(--teal);">
                                            <div style="flex: 1;">
                                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                                    <div style="width: 40px; height: 40px; background: rgba(212, 168, 75, 0.1); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#D4A84B" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
                                                    </div>
                                                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy);">Maritime Consultancy</h4>
                                                </div>
                                                <p style="font-size: 13px; color: var(--gray-500); margin-bottom: 8px;">Expert regulatory & compliance advice</p>
                                                <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">$2,000<span style="font-weight: 400; font-size: 12px; color: var(--gray-500);">/month</span></span>
                                            </div>
                                        </label>

                                        <label class="service-option" style="display: flex; align-items: flex-start; gap: 16px; padding: 20px; background: white; border: 2px solid var(--gray-200); border-radius: 16px; cursor: pointer; transition: all 0.2s;">
                                            <input type="checkbox" name="service" value="analytics" style="width: 20px; height: 20px; margin-top: 4px; accent-color: var(--teal);">
                                            <div style="flex: 1;">
                                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                                    <div style="width: 40px; height: 40px; background: rgba(16, 185, 129, 0.1); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#10B981" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
                                                    </div>
                                                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy);">Advanced Analytics</h4>
                                                </div>
                                                <p style="font-size: 13px; color: var(--gray-500); margin-bottom: 8px;">Real-time dashboards & reporting</p>
                                                <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">$250<span style="font-weight: 400; font-size: 12px; color: var(--gray-500);">/company/mo</span></span>
                                            </div>
                                        </label>
                                    </div>
                                </div>
                                <div class="onboarding-card-footer">
                                    <button class="btn btn-ghost" onclick="goToStep(2)" style="background: var(--gray-200); color: var(--navy);">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                                        Back
                                    </button>
                                    <button class="btn btn-primary" onclick="goToStep(4)">
                                        Continue
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Step 4: Review & Confirm -->
                            <div class="onboarding-card onboarding-step-content" id="onboarding-step-4">
                                <div class="onboarding-card-header">
                                    <h2>Review & Confirm </h2>
                                    <p>Please review your information before completing setup.</p>
                                </div>
                                <div class="onboarding-card-body">
                                    <!-- Company Summary -->
                                    <div style="background: var(--gray-50); border-radius: 16px; padding: 24px; margin-bottom: 20px;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                            <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); display: flex; align-items: center; gap: 10px;">
                                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--navy)" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></svg>
                                                Company Details
                                            </h4>
                                            <button onclick="goToStep(1)" style="background: none; border: none; color: var(--teal); font-weight: 600; cursor: pointer; font-size: 13px;">Edit</button>
                                        </div>
                                        <div id="review-company" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; font-size: 14px;">
                                            <!-- Filled by JS -->
                                        </div>
                                    </div>

                                    <!-- Fleet Summary -->
                                    <div style="background: var(--gray-50); border-radius: 16px; padding: 24px; margin-bottom: 20px;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                            <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); display: flex; align-items: center; gap: 10px;">
                                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--navy)" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                                                Fleet (<span id="review-vessel-count">0</span> vessels)
                                            </h4>
                                            <button onclick="goToStep(2)" style="background: none; border: none; color: var(--teal); font-weight: 600; cursor: pointer; font-size: 13px;">Edit</button>
                                        </div>
                                        <div id="review-vessels" style="font-size: 14px;">
                                            <!-- Filled by JS -->
                                        </div>
                                    </div>

                                    <!-- Services Summary -->
                                    <div style="background: var(--gray-50); border-radius: 16px; padding: 24px; margin-bottom: 20px;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                            <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); display: flex; align-items: center; gap: 10px;">
                                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--navy)" stroke-width="2"><circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/></svg>
                                                Selected Services
                                            </h4>
                                            <button onclick="goToStep(3)" style="background: none; border: none; color: var(--teal); font-weight: 600; cursor: pointer; font-size: 13px;">Edit</button>
                                        </div>
                                        <div id="review-services" style="font-size: 14px;">
                                            <!-- Filled by JS -->
                                        </div>
                                    </div>

                                    <!-- What's Next -->
                                    <div style="background: linear-gradient(135deg, rgba(23, 162, 184, 0.1), rgba(32, 201, 151, 0.1)); border-radius: 16px; padding: 24px; border: 1px solid rgba(23, 162, 184, 0.2);">
                                        <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 12px;"> What happens next?</h4>
                                        <ul style="list-style: none; font-size: 14px; color: var(--gray-600);">
                                            <li style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--success)" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                                                Your account will be created immediately
                                            </li>
                                            <li style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--success)" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                                                A dedicated account manager will contact you within 24 hours
                                            </li>
                                            <li style="display: flex; align-items: center; gap: 10px;">
                                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--success)" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                                                You'll receive credentials to access all selected services
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="onboarding-card-footer">
                                    <button class="btn btn-ghost" onclick="goToStep(3)" style="background: var(--gray-200); color: var(--navy);">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
                                        Back
                                    </button>
                                    <button class="btn btn-teal" onclick="completeOnboarding()" style="padding: 14px 32px;">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                                        Complete Setup
                                    </button>
                                </div>
                            </div>

                            <!-- Success Screen -->
                            <div class="onboarding-card onboarding-step-content" id="onboarding-success" style="text-align: center;">
                                <div class="onboarding-card-body" style="padding: 60px 40px;">
                                    <div style="width: 100px; height: 100px; background: linear-gradient(135deg, var(--success), var(--teal-light)); border-radius: 50%; margin: 0 auto 32px; display: flex; align-items: center; justify-content: center; animation: scaleIn 0.5s ease;">
                                        <svg width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                                    </div>
                                    <h2 style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 800; color: var(--navy); margin-bottom: 16px;">Welcome Aboard! </h2>
                                    <p style="color: var(--gray-500); font-size: 16px; margin-bottom: 32px; max-width: 400px; margin-left: auto; margin-right: auto;">Your Crossworld account has been created successfully. Get ready to streamline your maritime operations!</p>
                                    
                                    <div style="background: var(--gray-50); border-radius: 16px; padding: 24px; margin-bottom: 32px; display: inline-block;">
                                        <p style="font-size: 13px; color: var(--gray-500); margin-bottom: 8px;">Your Account ID</p>
                                        <p style="font-family: 'Montserrat', sans-serif; font-size: 24px; font-weight: 800; color: var(--navy);" id="account-id">CW-2026-00158</p>
                                    </div>
                                    
                                    <div>
                                        <button class="btn btn-primary" onclick="navigateTo('dashboard')" style="padding: 16px 40px;">
                                            Go to Dashboard
                                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ADMIN PANEL PAGE -->
                <div class="page" id="page-admin">
                    <!-- CEO Header -->
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 28px;">
                        <div>
                            <h2 style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 800; color: var(--navy); display: flex; align-items: center; gap: 12px;">
                                 CEO Analytics Dashboard
                            </h2>
                            <p style="color: var(--gray-500); margin-top: 4px;">Real-time business intelligence  Last updated: Just now</p>
                        </div>
                        <div style="display: flex; gap: 12px; align-items: center;">
                            <div class="pulse-live">
                                <span class="pulse-dot"></span>
                                Live Data
                            </div>
                            <button class="btn btn-primary">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                                Export Report
                            </button>
                        </div>
                    </div>
                    
                    <!-- Top KPI Cards with 3D Effect -->
                    <div class="analytics-grid">
                        <div class="kpi-card-3d navy">
                            <div class="kpi-icon-3d" style="background: linear-gradient(135deg, var(--navy), var(--navy-light));">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                            </div>
                            <div class="kpi-label">Total Revenue</div>
                            <div class="kpi-value-3d">$12.4M</div>
                            <span class="kpi-trend up"> 23% vs last year</span>
                            <svg class="kpi-sparkline" viewBox="0 0 100 30" preserveAspectRatio="none">
                                <path d="M0 25 L20 20 L40 22 L60 15 L80 10 L100 5" fill="none" stroke="var(--navy)" stroke-width="2"/>
                                <path d="M0 25 L20 20 L40 22 L60 15 L80 10 L100 5 L100 30 L0 30 Z" fill="var(--navy)"/>
                            </svg>
                        </div>
                        
                        <div class="kpi-card-3d teal">
                            <div class="kpi-icon-3d" style="background: linear-gradient(135deg, var(--teal), var(--teal-light));">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                            </div>
                            <div class="kpi-label">Active Seafarers</div>
                            <div class="kpi-value-3d">11,247</div>
                            <span class="kpi-trend up"> 847 new this month</span>
                            <svg class="kpi-sparkline" viewBox="0 0 100 30" preserveAspectRatio="none">
                                <path d="M0 20 L25 18 L50 15 L75 10 L100 8" fill="none" stroke="var(--teal)" stroke-width="2"/>
                                <path d="M0 20 L25 18 L50 15 L75 10 L100 8 L100 30 L0 30 Z" fill="var(--teal)"/>
                            </svg>
                        </div>
                        
                        <div class="kpi-card-3d gold">
                            <div class="kpi-icon-3d" style="background: linear-gradient(135deg, var(--gold), #F0C674);">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76"/></svg>
                            </div>
                            <div class="kpi-label">Total Vessels</div>
                            <div class="kpi-value-3d">187</div>
                            <span class="kpi-trend up"> 12 new contracts</span>
                            <svg class="kpi-sparkline" viewBox="0 0 100 30" preserveAspectRatio="none">
                                <path d="M0 22 L20 20 L40 18 L60 15 L80 12 L100 10" fill="none" stroke="var(--gold)" stroke-width="2"/>
                                <path d="M0 22 L20 20 L40 18 L60 15 L80 12 L100 10 L100 30 L0 30 Z" fill="var(--gold)"/>
                            </svg>
                        </div>
                        
                        <div class="kpi-card-3d purple">
                            <div class="kpi-icon-3d" style="background: linear-gradient(135deg, var(--purple), var(--pink));">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                            </div>
                            <div class="kpi-label">Active Clients</div>
                            <div class="kpi-value-3d">34</div>
                            <span class="kpi-trend up"> 3 this month</span>
                            <svg class="kpi-sparkline" viewBox="0 0 100 30" preserveAspectRatio="none">
                                <path d="M0 18 L25 20 L50 16 L75 12 L100 10" fill="none" stroke="var(--purple)" stroke-width="2"/>
                                <path d="M0 18 L25 20 L50 16 L75 12 L100 10 L100 30 L0 30 Z" fill="var(--purple)"/>
                            </svg>
                        </div>
                    </div>
                    
                    <!-- Mini Stats Row -->
                    <div class="stats-row-3d">
                        <div class="mini-stat">
                            <div class="mini-stat-icon" style="background: linear-gradient(135deg, var(--success), var(--teal-light));">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                            </div>
                            <div class="mini-stat-value">98.5%</div>
                            <div class="mini-stat-label">Retention Rate</div>
                        </div>
                        <div class="mini-stat">
                            <div class="mini-stat-icon" style="background: linear-gradient(135deg, var(--info), var(--purple));">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                            </div>
                            <div class="mini-stat-value">4.2</div>
                            <div class="mini-stat-label">Avg Days to Deploy</div>
                        </div>
                        <div class="mini-stat">
                            <div class="mini-stat-icon" style="background: linear-gradient(135deg, var(--gold), #F0C674);">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                            </div>
                            <div class="mini-stat-value">4.8</div>
                            <div class="mini-stat-label">Client Satisfaction</div>
                        </div>
                        <div class="mini-stat">
                            <div class="mini-stat-icon" style="background: linear-gradient(135deg, var(--danger), var(--pink));">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                            </div>
                            <div class="mini-stat-value">156</div>
                            <div class="mini-stat-label">Documents Pending</div>
                        </div>
                        <div class="mini-stat">
                            <div class="mini-stat-icon" style="background: linear-gradient(135deg, var(--navy), var(--teal));">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                            </div>
                            <div class="mini-stat-value">847</div>
                            <div class="mini-stat-label">Trainings Completed</div>
                        </div>
                        <div class="mini-stat">
                            <div class="mini-stat-icon" style="background: linear-gradient(135deg, var(--teal), var(--success));">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                            </div>
                            <div class="mini-stat-value">99.2%</div>
                            <div class="mini-stat-label">Medical Pass Rate</div>
                        </div>
                    </div>
                    
                    <!-- Revenue Chart + Donut -->
                    <div class="analytics-row">
                        <div class="chart-container-3d">
                            <div class="chart-header">
                                <div>
                                    <div class="chart-title">Monthly Revenue Trend</div>
                                    <div class="chart-subtitle">Jan - Dec 2025</div>
                                </div>
                                <div class="chart-legend">
                                    <div class="legend-item"><div class="legend-dot" style="background: var(--teal);"></div> Revenue</div>
                                    <div class="legend-item"><div class="legend-dot" style="background: var(--purple);"></div> Target</div>
                                </div>
                            </div>
                            <div class="bar-chart-3d">
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 120px; --delay: 0.1s;"><span class="bar-value">$780K</span></div>
                                    <div class="bar-label">Jan</div>
                                </div>
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 140px; --delay: 0.2s;"><span class="bar-value">$920K</span></div>
                                    <div class="bar-label">Feb</div>
                                </div>
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 160px; --delay: 0.3s;"><span class="bar-value">$1.1M</span></div>
                                    <div class="bar-label">Mar</div>
                                </div>
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 145px; --delay: 0.4s;"><span class="bar-value">$980K</span></div>
                                    <div class="bar-label">Apr</div>
                                </div>
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 180px; --delay: 0.5s;"><span class="bar-value">$1.2M</span></div>
                                    <div class="bar-label">May</div>
                                </div>
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 200px; --delay: 0.6s;"><span class="bar-value">$1.4M</span></div>
                                    <div class="bar-label">Jun</div>
                                </div>
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 185px; --delay: 0.7s;"><span class="bar-value">$1.3M</span></div>
                                    <div class="bar-label">Jul</div>
                                </div>
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 210px; --delay: 0.8s;"><span class="bar-value">$1.5M</span></div>
                                    <div class="bar-label">Aug</div>
                                </div>
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 195px; --delay: 0.9s;"><span class="bar-value">$1.35M</span></div>
                                    <div class="bar-label">Sep</div>
                                </div>
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 220px; --delay: 1s;"><span class="bar-value">$1.6M</span></div>
                                    <div class="bar-label">Oct</div>
                                </div>
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 205px; --delay: 1.1s;" ><span class="bar-value">$1.45M</span></div>
                                    <div class="bar-label">Nov</div>
                                </div>
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 230px; background: linear-gradient(180deg, var(--gold) 0%, var(--navy) 100%); --delay: 1.2s;"><span class="bar-value">$1.7M</span></div>
                                    <div class="bar-label">Dec</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="chart-container-3d">
                            <div class="chart-header">
                                <div>
                                    <div class="chart-title">Revenue by Service</div>
                                    <div class="chart-subtitle">YTD Distribution</div>
                                </div>
                            </div>
                            <div class="donut-chart-3d">
                                <svg viewBox="0 0 42 42" style="width: 100%; height: 100%;">
                                    <circle cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="var(--gray-200)" stroke-width="3"></circle>
                                    <circle class="donut-ring" cx="21" cy="21" r="15.91549430918954" stroke="var(--navy)" stroke-dasharray="40 60" stroke-dashoffset="25"></circle>
                                    <circle class="donut-ring" cx="21" cy="21" r="15.91549430918954" stroke="var(--teal)" stroke-dasharray="25 75" stroke-dashoffset="85"></circle>
                                    <circle class="donut-ring" cx="21" cy="21" r="15.91549430918954" stroke="var(--purple)" stroke-dasharray="20 80" stroke-dashoffset="60"></circle>
                                    <circle class="donut-ring" cx="21" cy="21" r="15.91549430918954" stroke="var(--gold)" stroke-dasharray="15 85" stroke-dashoffset="40"></circle>
                                </svg>
                                <div class="donut-center">
                                    <div class="donut-value">$12.4M</div>
                                    <div class="donut-label">Total Revenue</div>
                                </div>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-top: 20px;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 12px; height: 12px; background: var(--navy); border-radius: 3px;"></div>
                                    <div>
                                        <div style="font-size: 12px; color: var(--gray-600);">Crew Management</div>
                                        <div style="font-weight: 700; color: var(--navy);">40%  $4.96M</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 12px; height: 12px; background: var(--teal); border-radius: 3px;"></div>
                                    <div>
                                        <div style="font-size: 12px; color: var(--gray-600);">Training</div>
                                        <div style="font-weight: 700; color: var(--navy);">25%  $3.1M</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 12px; height: 12px; background: var(--purple); border-radius: 3px;"></div>
                                    <div>
                                        <div style="font-size: 12px; color: var(--gray-600);">Medical/Insurance</div>
                                        <div style="font-weight: 700; color: var(--navy);">20%  $2.48M</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 12px; height: 12px; background: var(--gold); border-radius: 3px;"></div>
                                    <div>
                                        <div style="font-size: 12px; color: var(--gray-600);">Ship Management</div>
                                        <div style="font-weight: 700; color: var(--navy);">15%  $1.86M</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Circular Progress Charts Row -->
                    <div class="analytics-row three-cols">
                        <div class="chart-container-3d" style="text-align: center;">
                            <div class="chart-header">
                                <div style="text-align: left; width: 100%;">
                                    <div class="chart-title"> Annual Target</div>
                                    <div class="chart-subtitle">Revenue Goal: $15M</div>
                                </div>
                            </div>
                            <div class="gauge-chart" style="margin: 30px auto;">
                                <svg viewBox="0 0 100 60" style="width: 100%; overflow: visible;">
                                    <path class="gauge-bg" d="M10 50 A40 40 0 0 1 90 50" fill="none"/>
                                    <path class="gauge-fill" d="M10 50 A40 40 0 0 1 90 50" fill="none" stroke="url(#gaugeGradient)" stroke-dasharray="125.6" stroke-dashoffset="22"/>
                                    <defs>
                                        <linearGradient id="gaugeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                            <stop offset="0%" style="stop-color:var(--teal)"/>
                                            <stop offset="50%" style="stop-color:var(--success)"/>
                                            <stop offset="100%" style="stop-color:var(--gold)"/>
                                        </linearGradient>
                                    </defs>
                                    <circle cx="50" cy="50" r="5" fill="var(--navy)"/>
                                    <line class="gauge-needle" x1="50" y1="50" x2="50" y2="20" stroke="var(--navy)" stroke-width="3" stroke-linecap="round" style="transform: rotate(55deg);"/>
                                </svg>
                                <div class="gauge-value">83%</div>
                            </div>
                            <div style="font-size: 14px; color: var(--gray-600);">$12.4M of $15M target</div>
                        </div>
                        
                        <div class="chart-container-3d">
                            <div class="chart-header">
                                <div style="width: 100%;">
                                    <div class="chart-title"> Key Metrics</div>
                                    <div class="chart-subtitle">Performance Indicators</div>
                                </div>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; padding: 10px 0;">
                                <div class="circular-progress-3d">
                                    <svg class="progress-ring" width="140" height="140" viewBox="0 0 140 140">
                                        <circle class="progress-ring-bg" cx="70" cy="70" r="50"/>
                                        <circle class="progress-ring-fill" cx="70" cy="70" r="50" stroke="var(--success)" stroke-dasharray="314" stroke-dashoffset="31"/>
                                    </svg>
                                    <div class="progress-center">
                                        <div class="progress-value">90%</div>
                                        <div class="progress-label">Deployment</div>
                                    </div>
                                </div>
                                <div class="circular-progress-3d">
                                    <svg class="progress-ring" width="140" height="140" viewBox="0 0 140 140">
                                        <circle class="progress-ring-bg" cx="70" cy="70" r="50"/>
                                        <circle class="progress-ring-fill" cx="70" cy="70" r="50" stroke="var(--purple)" stroke-dasharray="314" stroke-dashoffset="75"/>
                                    </svg>
                                    <div class="progress-center">
                                        <div class="progress-value">76%</div>
                                        <div class="progress-label">Utilization</div>
                                    </div>
                                </div>
                                <div class="circular-progress-3d">
                                    <svg class="progress-ring" width="140" height="140" viewBox="0 0 140 140">
                                        <circle class="progress-ring-bg" cx="70" cy="70" r="50"/>
                                        <circle class="progress-ring-fill" cx="70" cy="70" r="50" stroke="var(--teal)" stroke-dasharray="314" stroke-dashoffset="47"/>
                                    </svg>
                                    <div class="progress-center">
                                        <div class="progress-value">85%</div>
                                        <div class="progress-label">Efficiency</div>
                                    </div>
                                </div>
                                <div class="circular-progress-3d">
                                    <svg class="progress-ring" width="140" height="140" viewBox="0 0 140 140">
                                        <circle class="progress-ring-bg" cx="70" cy="70" r="50"/>
                                        <circle class="progress-ring-fill" cx="70" cy="70" r="50" stroke="var(--gold)" stroke-dasharray="314" stroke-dashoffset="22"/>
                                    </svg>
                                    <div class="progress-center">
                                        <div class="progress-value">93%</div>
                                        <div class="progress-label">Quality</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="chart-container-3d">
                            <div class="chart-header">
                                <div style="width: 100%;">
                                    <div class="chart-title"> Global Presence</div>
                                    <div class="chart-subtitle">Seafarers by Nationality</div>
                                </div>
                            </div>
                            <div class="world-stats">
                                <div class="country-stat">
                                    <div class="country-flag"></div>
                                    <div class="country-value">8,420</div>
                                    <div class="country-label">Filipino</div>
                                </div>
                                <div class="country-stat">
                                    <div class="country-flag"></div>
                                    <div class="country-value">1,856</div>
                                    <div class="country-label">Indian</div>
                                </div>
                                <div class="country-stat">
                                    <div class="country-flag"></div>
                                    <div class="country-value">623</div>
                                    <div class="country-label">Ukrainian</div>
                                </div>
                                <div class="country-stat">
                                    <div class="country-flag"></div>
                                    <div class="country-value">348</div>
                                    <div class="country-label">Indonesian</div>
                                </div>
                            </div>
                            <div style="margin-top: 20px;">
                                <div style="display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 6px;">
                                    <span style="color: var(--gray-500);">Filipino Dominance</span>
                                    <span style="font-weight: 700; color: var(--navy);">74.8%</span>
                                </div>
                                <div style="height: 12px; background: var(--gray-200); border-radius: 6px; overflow: hidden;">
                                    <div style="width: 74.8%; height: 100%; background: linear-gradient(90deg, var(--teal), var(--teal-light)); border-radius: 6px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Seafarer Pipeline + Top Clients -->
                    <div class="analytics-row two-equal">
                        <div class="chart-container-3d">
                            <div class="chart-header">
                                <div>
                                    <div class="chart-title"> Seafarer Pipeline</div>
                                    <div class="chart-subtitle">Recruitment Funnel</div>
                                </div>
                            </div>
                            <div style="padding: 20px 0;">
                                <div style="margin-bottom: 20px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-weight: 600; color: var(--navy);"> Applications</span>
                                        <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">2,450</span>
                                    </div>
                                    <div style="height: 16px; background: var(--gray-100); border-radius: 8px; overflow: hidden; position: relative;">
                                        <div style="width: 100%; height: 100%; background: linear-gradient(90deg, var(--navy), var(--navy-light)); border-radius: 8px; transform-origin: left; animation: barFill 1s ease-out;"></div>
                                    </div>
                                </div>
                                <div style="margin-bottom: 20px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-weight: 600; color: var(--navy);"> Screened</span>
                                        <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--teal);">1,820</span>
                                    </div>
                                    <div style="height: 16px; background: var(--gray-100); border-radius: 8px; overflow: hidden;">
                                        <div style="width: 74%; height: 100%; background: linear-gradient(90deg, var(--teal), var(--teal-light)); border-radius: 8px;"></div>
                                    </div>
                                </div>
                                <div style="margin-bottom: 20px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-weight: 600; color: var(--navy);"> PEME Passed</span>
                                        <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--purple);">1,456</span>
                                    </div>
                                    <div style="height: 16px; background: var(--gray-100); border-radius: 8px; overflow: hidden;">
                                        <div style="width: 59%; height: 100%; background: linear-gradient(90deg, var(--purple), var(--pink)); border-radius: 8px;"></div>
                                    </div>
                                </div>
                                <div style="margin-bottom: 20px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-weight: 600; color: var(--navy);"> Training Complete</span>
                                        <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--gold);">1,124</span>
                                    </div>
                                    <div style="height: 16px; background: var(--gray-100); border-radius: 8px; overflow: hidden;">
                                        <div style="width: 46%; height: 100%; background: linear-gradient(90deg, var(--gold), #F0C674); border-radius: 8px;"></div>
                                    </div>
                                </div>
                                <div>
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-weight: 600; color: var(--navy);"> Deployed</span>
                                        <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--success);">847</span>
                                    </div>
                                    <div style="height: 16px; background: var(--gray-100); border-radius: 8px; overflow: hidden;">
                                        <div style="width: 35%; height: 100%; background: linear-gradient(90deg, var(--success), var(--teal-light)); border-radius: 8px;"></div>
                                    </div>
                                </div>
                            </div>
                            <div style="text-align: center; padding-top: 16px; border-top: 1px solid var(--gray-200);">
                                <span style="font-size: 14px; color: var(--gray-500);">Conversion Rate: </span>
                                <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; font-size: 20px; color: var(--success);">34.6%</span>
                            </div>
                        </div>
                        
                        <div class="chart-container-3d">
                            <div class="chart-header">
                                <div>
                                    <div class="chart-title"> Top Clients by Revenue</div>
                                    <div class="chart-subtitle">YTD Performance</div>
                                </div>
                            </div>
                            <div style="padding: 10px 0;">
                                <div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: linear-gradient(90deg, rgba(212, 168, 75, 0.1), transparent); border-radius: 12px; margin-bottom: 12px; border-left: 4px solid var(--gold);">
                                    <div style="font-family: 'Montserrat', sans-serif; font-weight: 900; font-size: 24px; color: var(--gold);">1</div>
                                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, var(--navy), var(--navy-light)); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">DS</div>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 700; color: var(--navy);">Diana Shipping Inc.</div>
                                        <div style="font-size: 12px; color: var(--gray-500);">12 vessels  264 crew</div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">$2.4M</div>
                                        <div style="font-size: 11px; color: var(--success);"> 18%</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: rgba(192, 192, 192, 0.1); border-radius: 12px; margin-bottom: 12px; border-left: 4px solid #C0C0C0;">
                                    <div style="font-family: 'Montserrat', sans-serif; font-weight: 900; font-size: 24px; color: #A0A0A0;">2</div>
                                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, var(--purple), var(--pink)); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">CF</div>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 700; color: var(--navy);">Centrofin Management</div>
                                        <div style="font-size: 12px; color: var(--gray-500);">18 vessels  396 crew</div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">$1.9M</div>
                                        <div style="font-size: 11px; color: var(--success);"> 12%</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: rgba(205, 127, 50, 0.1); border-radius: 12px; margin-bottom: 12px; border-left: 4px solid #CD7F32;">
                                    <div style="font-family: 'Montserrat', sans-serif; font-weight: 900; font-size: 24px; color: #CD7F32;">3</div>
                                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, var(--teal), var(--success)); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">PM</div>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 700; color: var(--navy);">Pioneer Marine</div>
                                        <div style="font-size: 12px; color: var(--gray-500);">15 vessels  330 crew</div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">$1.6M</div>
                                        <div style="font-size: 11px; color: var(--success);"> 24%</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--gray-50); border-radius: 12px; margin-bottom: 12px;">
                                    <div style="font-family: 'Montserrat', sans-serif; font-weight: 900; font-size: 24px; color: var(--gray-400);">4</div>
                                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, var(--info), var(--purple)); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">EG</div>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 700; color: var(--navy);">Eagle Bulk Shipping</div>
                                        <div style="font-size: 12px; color: var(--gray-500);">10 vessels  220 crew</div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">$1.2M</div>
                                        <div style="font-size: 11px; color: var(--success);"> 8%</div>
                                    </div>
                                </div>
                                <div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--gray-50); border-radius: 12px;">
                                    <div style="font-family: 'Montserrat', sans-serif; font-weight: 900; font-size: 24px; color: var(--gray-400);">5</div>
                                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, var(--danger), var(--pink)); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">NS</div>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 700; color: var(--navy);">Navios Shipping</div>
                                        <div style="font-size: 12px; color: var(--gray-500);">8 vessels  176 crew</div>
                                    </div>
                                    <div style="text-align: right;">
                                        <div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">$980K</div>
                                        <div style="font-size: 11px; color: var(--danger);"> 3%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- AI Scores Distribution + Activity Heatmap -->
                    <div class="analytics-row two-equal">
                        <div class="chart-container-3d">
                            <div class="chart-header">
                                <div>
                                    <div class="chart-title"> AI Score Distribution</div>
                                    <div class="chart-subtitle">Seafarer Profile Quality</div>
                                </div>
                            </div>
                            <div class="bar-chart-3d" style="height: 220px;">
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 40px; background: linear-gradient(180deg, var(--danger), #991B1B); --delay: 0.1s;"><span class="bar-value">45</span></div>
                                    <div class="bar-label">60-69</div>
                                </div>
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 80px; background: linear-gradient(180deg, var(--warning), #B45309); --delay: 0.2s;"><span class="bar-value">124</span></div>
                                    <div class="bar-label">70-79</div>
                                </div>
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 160px; background: linear-gradient(180deg, var(--teal), var(--navy)); --delay: 0.3s;"><span class="bar-value">356</span></div>
                                    <div class="bar-label">80-89</div>
                                </div>
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 180px; background: linear-gradient(180deg, var(--success), var(--teal)); --delay: 0.4s;"><span class="bar-value">412</span></div>
                                    <div class="bar-label">90-95</div>
                                </div>
                                <div class="bar-group">
                                    <div class="bar-3d" style="height: 100px; background: linear-gradient(180deg, var(--gold), #B45309); --delay: 0.5s;"><span class="bar-value">187</span></div>
                                    <div class="bar-label">96-100</div>
                                </div>
                            </div>
                            <div style="text-align: center; padding-top: 16px; border-top: 1px solid var(--gray-200);">
                                <span style="font-size: 14px; color: var(--gray-500);">Average AI Score: </span>
                                <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; font-size: 24px; color: var(--success);">87.3</span>
                            </div>
                        </div>
                        
                        <div class="chart-container-3d">
                            <div class="chart-header">
                                <div>
                                    <div class="chart-title"> Deployment Activity</div>
                                    <div class="chart-subtitle">Last 8 Weeks Heatmap</div>
                                </div>
                            </div>
                            <div style="padding: 20px 0;">
                                <div style="display: flex; gap: 4px; margin-bottom: 8px; padding-left: 30px;">
                                    <div style="width: calc((100% - 24px) / 7); text-align: center; font-size: 10px; color: var(--gray-500);">Mon</div>
                                    <div style="width: calc((100% - 24px) / 7); text-align: center; font-size: 10px; color: var(--gray-500);">Tue</div>
                                    <div style="width: calc((100% - 24px) / 7); text-align: center; font-size: 10px; color: var(--gray-500);">Wed</div>
                                    <div style="width: calc((100% - 24px) / 7); text-align: center; font-size: 10px; color: var(--gray-500);">Thu</div>
                                    <div style="width: calc((100% - 24px) / 7); text-align: center; font-size: 10px; color: var(--gray-500);">Fri</div>
                                    <div style="width: calc((100% - 24px) / 7); text-align: center; font-size: 10px; color: var(--gray-500);">Sat</div>
                                    <div style="width: calc((100% - 24px) / 7); text-align: center; font-size: 10px; color: var(--gray-500);">Sun</div>
                                </div>
                                <div style="display: flex; flex-direction: column; gap: 4px;">
                                    <div style="display: flex; align-items: center; gap: 4px;">
                                        <div style="width: 26px; font-size: 10px; color: var(--gray-500);">W1</div>
                                        <div class="heatmap-grid" style="flex: 1;">
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.8);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.9);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.7);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 1);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.6);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.3);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.2);"></div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 4px;">
                                        <div style="width: 26px; font-size: 10px; color: var(--gray-500);">W2</div>
                                        <div class="heatmap-grid" style="flex: 1;">
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.6);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.8);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 1);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.9);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.8);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.4);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.1);"></div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 4px;">
                                        <div style="width: 26px; font-size: 10px; color: var(--gray-500);">W3</div>
                                        <div class="heatmap-grid" style="flex: 1;">
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.9);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.7);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.8);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.6);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 1);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.5);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.2);"></div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 4px;">
                                        <div style="width: 26px; font-size: 10px; color: var(--gray-500);">W4</div>
                                        <div class="heatmap-grid" style="flex: 1;">
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.5);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.9);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.7);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 1);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.8);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.3);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.1);"></div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 4px;">
                                        <div style="width: 26px; font-size: 10px; color: var(--gray-500);">W5</div>
                                        <div class="heatmap-grid" style="flex: 1;">
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 1);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.8);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.9);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.7);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.9);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.4);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.2);"></div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 4px;">
                                        <div style="width: 26px; font-size: 10px; color: var(--gray-500);">W6</div>
                                        <div class="heatmap-grid" style="flex: 1;">
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.7);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 1);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.8);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 1);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.6);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.5);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.1);"></div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 4px;">
                                        <div style="width: 26px; font-size: 10px; color: var(--gray-500);">W7</div>
                                        <div class="heatmap-grid" style="flex: 1;">
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.8);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.6);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 1);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.9);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 1);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.3);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.2);"></div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 4px;">
                                        <div style="width: 26px; font-size: 10px; color: var(--gray-500);">W8</div>
                                        <div class="heatmap-grid" style="flex: 1;">
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.9);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 1);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.8);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.7);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 1);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.4);"></div>
                                            <div class="heatmap-cell" style="background: rgba(23, 162, 184, 0.1);"></div>
                                        </div>
                                    </div>
                                </div>
                                <div style="display: flex; justify-content: center; align-items: center; gap: 8px; margin-top: 16px;">
                                    <span style="font-size: 10px; color: var(--gray-500);">Less</span>
                                    <div style="width: 12px; height: 12px; background: rgba(23, 162, 184, 0.2); border-radius: 2px;"></div>
                                    <div style="width: 12px; height: 12px; background: rgba(23, 162, 184, 0.4); border-radius: 2px;"></div>
                                    <div style="width: 12px; height: 12px; background: rgba(23, 162, 184, 0.6); border-radius: 2px;"></div>
                                    <div style="width: 12px; height: 12px; background: rgba(23, 162, 184, 0.8); border-radius: 2px;"></div>
                                    <div style="width: 12px; height: 12px; background: rgba(23, 162, 184, 1); border-radius: 2px;"></div>
                                    <span style="font-size: 10px; color: var(--gray-500);">More</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- =====================================================
                         OPERATIONS KPI DASHBOARD - ALL PIPELINE TRACKERS
                         ===================================================== -->
                    <div style="margin-top: 28px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                            <div>
                                <h3 style="font-family: 'Montserrat', sans-serif; font-size: 24px; font-weight: 800; color: var(--navy); display: flex; align-items: center; gap: 12px;">
                                    <span style="font-size: 28px;"></span> Operations KPI Dashboard
                                </h3>
                                <p style="color: var(--gray-500); margin-top: 4px;">Real-time pipeline tracking across all modules</p>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-ghost" style="font-size: 12px;" onclick="refreshKPIs()"> Refresh</button>
                                <button class="btn btn-primary" style="font-size: 12px;"> Export KPIs</button>
                            </div>
                        </div>
                        
                        <!-- Overall Operations Summary -->
                        <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 16px; margin-bottom: 24px;">
                            <div style="background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 100%); border-radius: 16px; padding: 20px; color: white;">
                                <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px;"> Total Active Cases</div>
                                <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">127</div>
                                <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Across all pipelines</div>
                            </div>
                            <div style="background: linear-gradient(135deg, var(--success) 0%, var(--teal-light) 100%); border-radius: 16px; padding: 20px; color: white;">
                                <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px;"> Completed Today</div>
                                <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">18</div>
                                <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;"> 28% vs yesterday</div>
                            </div>
                            <div style="background: linear-gradient(135deg, var(--warning) 0%, #FBBF24 100%); border-radius: 16px; padding: 20px; color: white;">
                                <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px;"> Bottlenecks</div>
                                <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">5</div>
                                <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Need attention</div>
                            </div>
                            <div style="background: linear-gradient(135deg, var(--danger) 0%, #F87171 100%); border-radius: 16px; padding: 20px; color: white;">
                                <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px;"> Overdue</div>
                                <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">3</div>
                                <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Immediate action</div>
                            </div>
                            <div style="background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%); border-radius: 16px; padding: 20px; color: white;">
                                <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px;"> Avg Process Time</div>
                                <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">4.2d</div>
                                <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;"> 0.5 days improved</div>
                            </div>
                            <div style="background: linear-gradient(135deg, var(--teal) 0%, var(--success) 100%); border-radius: 16px; padding: 20px; color: white;">
                                <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px;"> Efficiency Rate</div>
                                <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">94%</div>
                                <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Target: 90%</div>
                            </div>
                        </div>
                        
                        <!-- Pipeline KPIs Grid -->
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                            
                            <!-- RFA/RFC Pipeline KPIs -->
                            <div class="chart-container-3d">
                                <div class="chart-header">
                                    <div>
                                        <div class="chart-title" style="display: flex; align-items: center; gap: 8px;"> RFA/RFC Pipeline</div>
                                        <div class="chart-subtitle">Request for Availability / Crew</div>
                                    </div>
                                    <div style="display: flex; gap: 8px;">
                                        <span style="padding: 4px 10px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 700;">42 Active</span>
                                        <span style="padding: 4px 10px; background: rgba(23,162,184,0.1); color: var(--teal); border-radius: 8px; font-size: 11px; font-weight: 700;">87% On-Time</span>
                                    </div>
                                </div>
                                <div style="padding: 16px 0;">
                                    <!-- Stage Progress Bars -->
                                    <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 8px; margin-bottom: 20px;">
                                        <div style="text-align: center;">
                                            <div style="height: 60px; background: var(--gray-100); border-radius: 8px; position: relative; overflow: hidden;">
                                                <div style="position: absolute; bottom: 0; width: 100%; height: 85%; background: linear-gradient(180deg, var(--navy), var(--navy-light)); border-radius: 8px;"></div>
                                                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-family: 'Montserrat', sans-serif; font-weight: 800; color: white; font-size: 16px;">8</div>
                                            </div>
                                            <div style="font-size: 10px; color: var(--gray-500); margin-top: 6px;">New</div>
                                        </div>
                                        <div style="text-align: center;">
                                            <div style="height: 60px; background: var(--gray-100); border-radius: 8px; position: relative; overflow: hidden;">
                                                <div style="position: absolute; bottom: 0; width: 100%; height: 70%; background: linear-gradient(180deg, var(--info), #60A5FA); border-radius: 8px;"></div>
                                                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-family: 'Montserrat', sans-serif; font-weight: 800; color: white; font-size: 16px;">6</div>
                                            </div>
                                            <div style="font-size: 10px; color: var(--gray-500); margin-top: 6px;">Doc Check</div>
                                        </div>
                                        <div style="text-align: center;">
                                            <div style="height: 60px; background: var(--gray-100); border-radius: 8px; position: relative; overflow: hidden;">
                                                <div style="position: absolute; bottom: 0; width: 100%; height: 95%; background: linear-gradient(180deg, var(--warning), #FBBF24); border-radius: 8px;"></div>
                                                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-family: 'Montserrat', sans-serif; font-weight: 800; color: white; font-size: 16px;">12</div>
                                            </div>
                                            <div style="font-size: 10px; color: var(--danger); margin-top: 6px; font-weight: 600;"> PEME</div>
                                        </div>
                                        <div style="text-align: center;">
                                            <div style="height: 60px; background: var(--gray-100); border-radius: 8px; position: relative; overflow: hidden;">
                                                <div style="position: absolute; bottom: 0; width: 100%; height: 55%; background: linear-gradient(180deg, var(--purple), var(--pink)); border-radius: 8px;"></div>
                                                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-family: 'Montserrat', sans-serif; font-weight: 800; color: white; font-size: 16px;">5</div>
                                            </div>
                                            <div style="font-size: 10px; color: var(--gray-500); margin-top: 6px;">Training</div>
                                        </div>
                                        <div style="text-align: center;">
                                            <div style="height: 60px; background: var(--gray-100); border-radius: 8px; position: relative; overflow: hidden;">
                                                <div style="position: absolute; bottom: 0; width: 100%; height: 45%; background: linear-gradient(180deg, var(--teal), var(--teal-light)); border-radius: 8px;"></div>
                                                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-family: 'Montserrat', sans-serif; font-weight: 800; color: white; font-size: 16px;">4</div>
                                            </div>
                                            <div style="font-size: 10px; color: var(--gray-500); margin-top: 6px;">Review</div>
                                        </div>
                                        <div style="text-align: center;">
                                            <div style="height: 60px; background: var(--gray-100); border-radius: 8px; position: relative; overflow: hidden;">
                                                <div style="position: absolute; bottom: 0; width: 100%; height: 75%; background: linear-gradient(180deg, var(--success), var(--teal-light)); border-radius: 8px;"></div>
                                                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-family: 'Montserrat', sans-serif; font-weight: 800; color: white; font-size: 16px;">7</div>
                                            </div>
                                            <div style="font-size: 10px; color: var(--gray-500); margin-top: 6px;">Ready</div>
                                        </div>
                                    </div>
                                    <!-- Metrics Row -->
                                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; padding-top: 16px; border-top: 1px solid var(--gray-200);">
                                        <div style="text-align: center;"><div style="font-size: 11px; color: var(--gray-500);">Avg. Time</div><div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">3.2 days</div></div>
                                        <div style="text-align: center;"><div style="font-size: 11px; color: var(--gray-500);">Completion Rate</div><div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--success);">92%</div></div>
                                        <div style="text-align: center;"><div style="font-size: 11px; color: var(--gray-500);">This Week</div><div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--teal);">+28</div></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- PEME Clinic Pipeline KPIs -->
                            <div class="chart-container-3d">
                                <div class="chart-header">
                                    <div>
                                        <div class="chart-title" style="display: flex; align-items: center; gap: 8px;"> PEME Clinic Pipeline</div>
                                        <div class="chart-subtitle">Pre-Employment Medical Examination</div>
                                    </div>
                                    <div style="display: flex; gap: 8px;">
                                        <span style="padding: 4px 10px; background: rgba(139,92,246,0.1); color: var(--purple); border-radius: 8px; font-size: 11px; font-weight: 700;">31 Active</span>
                                        <span style="padding: 4px 10px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 700;">99.2% Pass</span>
                                    </div>
                                </div>
                                <div style="padding: 16px 0;">
                                    <!-- 9-Stage PEME Flow -->
                                    <div style="display: flex; justify-content: space-between; position: relative; margin-bottom: 20px;">
                                        <div style="position: absolute; top: 15px; left: 20px; right: 20px; height: 3px; background: var(--gray-200);"></div>
                                        <div style="text-align: center; position: relative; z-index: 1; flex: 1;">
                                            <div style="width: 32px; height: 32px; margin: 0 auto; background: var(--navy); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 11px; font-weight: 700;">3</div>
                                            <div style="font-size: 9px; color: var(--gray-500); margin-top: 4px;">Check-in</div>
                                        </div>
                                        <div style="text-align: center; position: relative; z-index: 1; flex: 1;">
                                            <div style="width: 32px; height: 32px; margin: 0 auto; background: var(--info); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 11px; font-weight: 700;">2</div>
                                            <div style="font-size: 9px; color: var(--gray-500); margin-top: 4px;">History</div>
                                        </div>
                                        <div style="text-align: center; position: relative; z-index: 1; flex: 1;">
                                            <div style="width: 32px; height: 32px; margin: 0 auto; background: var(--teal); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 11px; font-weight: 700;">4</div>
                                            <div style="font-size: 9px; color: var(--gray-500); margin-top: 4px;">Vitals</div>
                                        </div>
                                        <div style="text-align: center; position: relative; z-index: 1; flex: 1;">
                                            <div style="width: 32px; height: 32px; margin: 0 auto; background: var(--warning); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 11px; font-weight: 700;">6</div>
                                            <div style="font-size: 9px; color: var(--danger); margin-top: 4px; font-weight: 600;"> Lab</div>
                                        </div>
                                        <div style="text-align: center; position: relative; z-index: 1; flex: 1;">
                                            <div style="width: 32px; height: 32px; margin: 0 auto; background: var(--purple); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 11px; font-weight: 700;">5</div>
                                            <div style="font-size: 9px; color: var(--gray-500); margin-top: 4px;">X-Ray</div>
                                        </div>
                                        <div style="text-align: center; position: relative; z-index: 1; flex: 1;">
                                            <div style="width: 32px; height: 32px; margin: 0 auto; background: var(--pink); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 11px; font-weight: 700;">4</div>
                                            <div style="font-size: 9px; color: var(--gray-500); margin-top: 4px;">Physical</div>
                                        </div>
                                        <div style="text-align: center; position: relative; z-index: 1; flex: 1;">
                                            <div style="width: 32px; height: 32px; margin: 0 auto; background: var(--gold); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 11px; font-weight: 700;">3</div>
                                            <div style="font-size: 9px; color: var(--gray-500); margin-top: 4px;">Review</div>
                                        </div>
                                        <div style="text-align: center; position: relative; z-index: 1; flex: 1;">
                                            <div style="width: 32px; height: 32px; margin: 0 auto; background: var(--teal); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 11px; font-weight: 700;">2</div>
                                            <div style="font-size: 9px; color: var(--gray-500); margin-top: 4px;">Cert</div>
                                        </div>
                                        <div style="text-align: center; position: relative; z-index: 1; flex: 1;">
                                            <div style="width: 32px; height: 32px; margin: 0 auto; background: var(--success); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 11px; font-weight: 700;">2</div>
                                            <div style="font-size: 9px; color: var(--gray-500); margin-top: 4px;">Done</div>
                                        </div>
                                    </div>
                                    <!-- Metrics Row -->
                                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; padding-top: 16px; border-top: 1px solid var(--gray-200);">
                                        <div style="text-align: center;"><div style="font-size: 11px; color: var(--gray-500);">Today</div><div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">12</div></div>
                                        <div style="text-align: center;"><div style="font-size: 11px; color: var(--gray-500);">Avg. Time</div><div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--teal);">2.5 hrs</div></div>
                                        <div style="text-align: center;"><div style="font-size: 11px; color: var(--gray-500);">This Week</div><div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--purple);">67</div></div>
                                        <div style="text-align: center;"><div style="font-size: 11px; color: var(--gray-500);">Unfit</div><div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--danger);">2</div></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Flag State Pipeline KPIs -->
                            <div class="chart-container-3d">
                                <div class="chart-header">
                                    <div>
                                        <div class="chart-title" style="display: flex; align-items: center; gap: 8px;"> Flag State Applications</div>
                                        <div class="chart-subtitle">Certificates & Endorsements</div>
                                    </div>
                                    <div style="display: flex; gap: 8px;">
                                        <span style="padding: 4px 10px; background: rgba(139,92,246,0.1); color: var(--purple); border-radius: 8px; font-size: 11px; font-weight: 700;">25 Active</span>
                                        <span style="padding: 4px 10px; background: rgba(212,168,75,0.1); color: var(--gold); border-radius: 8px; font-size: 11px; font-weight: 700;">$4,250 Pending</span>
                                    </div>
                                </div>
                                <div style="padding: 16px 0;">
                                    <!-- 6-Stage Flag Flow -->
                                    <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 8px; margin-bottom: 20px;">
                                        <div style="background: linear-gradient(135deg, rgba(107,114,128,0.1), rgba(107,114,128,0.05)); border-radius: 12px; padding: 12px; text-align: center; border: 1px solid rgba(107,114,128,0.2);">
                                            <div style="font-family: 'Montserrat', sans-serif; font-size: 22px; font-weight: 900; color: var(--gray-600);">4</div>
                                            <div style="font-size: 10px; color: var(--gray-500);"> Docs</div>
                                        </div>
                                        <div style="background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(59,130,246,0.05)); border-radius: 12px; padding: 12px; text-align: center; border: 1px solid rgba(59,130,246,0.2);">
                                            <div style="font-family: 'Montserrat', sans-serif; font-size: 22px; font-weight: 900; color: var(--info);">3</div>
                                            <div style="font-size: 10px; color: var(--gray-500);"> Sent</div>
                                        </div>
                                        <div style="background: linear-gradient(135deg, rgba(245,158,11,0.15), rgba(245,158,11,0.05)); border-radius: 12px; padding: 12px; text-align: center; border: 2px solid var(--warning);">
                                            <div style="font-family: 'Montserrat', sans-serif; font-size: 22px; font-weight: 900; color: var(--warning);">5</div>
                                            <div style="font-size: 10px; color: var(--warning); font-weight: 600;"> Review</div>
                                        </div>
                                        <div style="background: linear-gradient(135deg, rgba(139,92,246,0.1), rgba(139,92,246,0.05)); border-radius: 12px; padding: 12px; text-align: center; border: 1px solid rgba(139,92,246,0.2);">
                                            <div style="font-family: 'Montserrat', sans-serif; font-size: 22px; font-weight: 900; color: var(--purple);">3</div>
                                            <div style="font-size: 10px; color: var(--gray-500);"> Pay</div>
                                        </div>
                                        <div style="background: linear-gradient(135deg, rgba(23,162,184,0.1), rgba(23,162,184,0.05)); border-radius: 12px; padding: 12px; text-align: center; border: 1px solid rgba(23,162,184,0.2);">
                                            <div style="font-family: 'Montserrat', sans-serif; font-size: 22px; font-weight: 900; color: var(--teal);">4</div>
                                            <div style="font-size: 10px; color: var(--gray-500);"> Issued</div>
                                        </div>
                                        <div style="background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(16,185,129,0.05)); border-radius: 12px; padding: 12px; text-align: center; border: 1px solid rgba(16,185,129,0.2);">
                                            <div style="font-family: 'Montserrat', sans-serif; font-size: 22px; font-weight: 900; color: var(--success);">6</div>
                                            <div style="font-size: 10px; color: var(--gray-500);"> Done</div>
                                        </div>
                                    </div>
                                    <!-- Flag Breakdown -->
                                    <div style="display: flex; gap: 8px; flex-wrap: wrap; padding-top: 12px; border-top: 1px solid var(--gray-200);">
                                        <span style="padding: 6px 12px; background: rgba(185,28,28,0.1); border-radius: 8px; font-size: 11px; display: flex; align-items: center; gap: 4px;"><span></span><span style="font-weight: 700;">8</span></span>
                                        <span style="padding: 6px 12px; background: rgba(0,56,147,0.1); border-radius: 8px; font-size: 11px; display: flex; align-items: center; gap: 4px;"><span></span><span style="font-weight: 700;">6</span></span>
                                        <span style="padding: 6px 12px; background: rgba(0,78,152,0.1); border-radius: 8px; font-size: 11px; display: flex; align-items: center; gap: 4px;"><span></span><span style="font-weight: 700;">5</span></span>
                                        <span style="padding: 6px 12px; background: rgba(207,20,43,0.1); border-radius: 8px; font-size: 11px; display: flex; align-items: center; gap: 4px;"><span></span><span style="font-weight: 700;">3</span></span>
                                        <span style="padding: 6px 12px; background: rgba(0,107,56,0.1); border-radius: 8px; font-size: 11px; display: flex; align-items: center; gap: 4px;"><span></span><span style="font-weight: 700;">2</span></span>
                                        <span style="padding: 6px 12px; background: var(--gray-100); border-radius: 8px; font-size: 11px; display: flex; align-items: center; gap: 4px;"><span>Others</span><span style="font-weight: 700;">1</span></span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Crew Visa Pipeline KPIs -->
                            <div class="chart-container-3d">
                                <div class="chart-header">
                                    <div>
                                        <div class="chart-title" style="display: flex; align-items: center; gap: 8px;"> Crew Visa Applications</div>
                                        <div class="chart-subtitle">Embassy & Travel Documents</div>
                                    </div>
                                    <div style="display: flex; gap: 8px;">
                                        <span style="padding: 4px 10px; background: rgba(23,162,184,0.1); color: var(--teal); border-radius: 8px; font-size: 11px; font-weight: 700;">29 Active</span>
                                        <span style="padding: 4px 10px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 700;">97% Approved</span>
                                    </div>
                                </div>
                                <div style="padding: 16px 0;">
                                    <!-- 5-Stage Visa Flow -->
                                    <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; margin-bottom: 20px;">
                                        <div style="background: var(--gray-50); border-radius: 12px; padding: 14px; text-align: center;">
                                            <div style="font-family: 'Montserrat', sans-serif; font-size: 24px; font-weight: 900; color: var(--gray-600);">4</div>
                                            <div style="font-size: 10px; color: var(--gray-500);"> Preparing</div>
                                            <div style="height: 4px; background: var(--gray-200); border-radius: 2px; margin-top: 8px;"><div style="width: 100%; height: 100%; background: var(--gray-500); border-radius: 2px;"></div></div>
                                        </div>
                                        <div style="background: rgba(245,158,11,0.1); border-radius: 12px; padding: 14px; text-align: center; border: 2px solid var(--warning);">
                                            <div style="font-family: 'Montserrat', sans-serif; font-size: 24px; font-weight: 900; color: var(--warning);">3</div>
                                            <div style="font-size: 10px; color: var(--warning); font-weight: 600;"> Embassy</div>
                                            <div style="height: 4px; background: rgba(245,158,11,0.3); border-radius: 2px; margin-top: 8px;"><div style="width: 75%; height: 100%; background: var(--warning); border-radius: 2px;"></div></div>
                                        </div>
                                        <div style="background: rgba(59,130,246,0.1); border-radius: 12px; padding: 14px; text-align: center;">
                                            <div style="font-family: 'Montserrat', sans-serif; font-size: 24px; font-weight: 900; color: var(--info);">5</div>
                                            <div style="font-size: 10px; color: var(--gray-500);"> Processing</div>
                                            <div style="height: 4px; background: rgba(59,130,246,0.3); border-radius: 2px; margin-top: 8px;"><div style="width: 60%; height: 100%; background: var(--info); border-radius: 2px;"></div></div>
                                        </div>
                                        <div style="background: rgba(16,185,129,0.1); border-radius: 12px; padding: 14px; text-align: center;">
                                            <div style="font-family: 'Montserrat', sans-serif; font-size: 24px; font-weight: 900; color: var(--success);">4</div>
                                            <div style="font-size: 10px; color: var(--gray-500);"> Approved</div>
                                            <div style="height: 4px; background: rgba(16,185,129,0.3); border-radius: 2px; margin-top: 8px;"><div style="width: 85%; height: 100%; background: var(--success); border-radius: 2px;"></div></div>
                                        </div>
                                        <div style="background: rgba(23,162,184,0.1); border-radius: 12px; padding: 14px; text-align: center;">
                                            <div style="font-family: 'Montserrat', sans-serif; font-size: 24px; font-weight: 900; color: var(--teal);">13</div>
                                            <div style="font-size: 10px; color: var(--gray-500);"> Complete</div>
                                            <div style="height: 4px; background: rgba(23,162,184,0.3); border-radius: 2px; margin-top: 8px;"><div style="width: 100%; height: 100%; background: var(--teal); border-radius: 2px;"></div></div>
                                        </div>
                                    </div>
                                    <!-- Country Breakdown -->
                                    <div style="display: flex; gap: 8px; flex-wrap: wrap; padding-top: 12px; border-top: 1px solid var(--gray-200);">
                                        <span style="padding: 6px 12px; background: rgba(60,59,110,0.1); border-radius: 8px; font-size: 11px; display: flex; align-items: center; gap: 4px;"><span></span><span style="font-weight: 700;">12</span></span>
                                        <span style="padding: 6px 12px; background: rgba(1,33,105,0.1); border-radius: 8px; font-size: 11px; display: flex; align-items: center; gap: 4px;"><span></span><span style="font-weight: 700;">5</span></span>
                                        <span style="padding: 6px 12px; background: rgba(188,0,45,0.1); border-radius: 8px; font-size: 11px; display: flex; align-items: center; gap: 4px;"><span></span><span style="font-weight: 700;">4</span></span>
                                        <span style="padding: 6px 12px; background: rgba(0,43,127,0.1); border-radius: 8px; font-size: 11px; display: flex; align-items: center; gap: 4px;"><span></span><span style="font-weight: 700;">3</span></span>
                                        <span style="padding: 6px 12px; background: rgba(239,51,64,0.1); border-radius: 8px; font-size: 11px; display: flex; align-items: center; gap: 4px;"><span></span><span style="font-weight: 700;">3</span></span>
                                        <span style="padding: 6px 12px; background: var(--gray-100); border-radius: 8px; font-size: 11px; display: flex; align-items: center; gap: 4px;"><span>Others</span><span style="font-weight: 700;">2</span></span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Deployment Pipeline KPIs -->
                            <div class="chart-container-3d">
                                <div class="chart-header">
                                    <div>
                                        <div class="chart-title" style="display: flex; align-items: center; gap: 8px;"> Deployment Pipeline</div>
                                        <div class="chart-subtitle">Crew Assignment & Embarkation</div>
                                    </div>
                                    <div style="display: flex; gap: 8px;">
                                        <span style="padding: 4px 10px; background: rgba(212,168,75,0.1); color: var(--gold); border-radius: 8px; font-size: 11px; font-weight: 700;">18 Active</span>
                                        <span style="padding: 4px 10px; background: rgba(23,162,184,0.1); color: var(--teal); border-radius: 8px; font-size: 11px; font-weight: 700;">4.2 days avg</span>
                                    </div>
                                </div>
                                <div style="padding: 16px 0;">
                                    <!-- Deployment Funnel -->
                                    <div style="position: relative; padding: 0 20px;">
                                        <div style="display: flex; flex-direction: column; gap: 8px;">
                                            <div style="display: flex; align-items: center; gap: 12px;">
                                                <div style="width: 100%; height: 28px; background: linear-gradient(90deg, var(--navy), var(--navy-light)); border-radius: 6px; display: flex; align-items: center; justify-content: space-between; padding: 0 16px; color: white;">
                                                    <span style="font-size: 12px;"> Candidates</span>
                                                    <span style="font-family: 'Montserrat', sans-serif; font-weight: 800;">156</span>
                                                </div>
                                            </div>
                                            <div style="display: flex; align-items: center; gap: 12px; margin-left: 10%;">
                                                <div style="width: 80%; height: 28px; background: linear-gradient(90deg, var(--info), #60A5FA); border-radius: 6px; display: flex; align-items: center; justify-content: space-between; padding: 0 16px; color: white;">
                                                    <span style="font-size: 12px;"> Approved</span>
                                                    <span style="font-family: 'Montserrat', sans-serif; font-weight: 800;">89</span>
                                                </div>
                                            </div>
                                            <div style="display: flex; align-items: center; gap: 12px; margin-left: 20%;">
                                                <div style="width: 60%; height: 28px; background: linear-gradient(90deg, var(--purple), var(--pink)); border-radius: 6px; display: flex; align-items: center; justify-content: space-between; padding: 0 16px; color: white;">
                                                    <span style="font-size: 12px;"> Contract</span>
                                                    <span style="font-family: 'Montserrat', sans-serif; font-weight: 800;">52</span>
                                                </div>
                                            </div>
                                            <div style="display: flex; align-items: center; gap: 12px; margin-left: 30%;">
                                                <div style="width: 40%; height: 28px; background: linear-gradient(90deg, var(--teal), var(--teal-light)); border-radius: 6px; display: flex; align-items: center; justify-content: space-between; padding: 0 16px; color: white;">
                                                    <span style="font-size: 12px;"> Travel</span>
                                                    <span style="font-family: 'Montserrat', sans-serif; font-weight: 800;">28</span>
                                                </div>
                                            </div>
                                            <div style="display: flex; align-items: center; gap: 12px; margin-left: 40%;">
                                                <div style="width: 30%; height: 28px; background: linear-gradient(90deg, var(--success), var(--teal-light)); border-radius: 6px; display: flex; align-items: center; justify-content: space-between; padding: 0 14px; color: white;">
                                                    <span style="font-size: 11px;"> On Board</span>
                                                    <span style="font-family: 'Montserrat', sans-serif; font-weight: 800;">18</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Conversion -->
                                    <div style="text-align: center; padding-top: 16px; margin-top: 16px; border-top: 1px solid var(--gray-200);">
                                        <span style="font-size: 12px; color: var(--gray-500);">Funnel Conversion: </span>
                                        <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; font-size: 18px; color: var(--success);">11.5%</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Sign-Off / Contract Pipeline KPIs -->
                            <div class="chart-container-3d">
                                <div class="chart-header">
                                    <div>
                                        <div class="chart-title" style="display: flex; align-items: center; gap: 8px;"> Sign-Off & Contracts</div>
                                        <div class="chart-subtitle">Contract Lifecycle Management</div>
                                    </div>
                                    <div style="display: flex; gap: 8px;">
                                        <span style="padding: 4px 10px; background: rgba(239,68,68,0.1); color: var(--danger); border-radius: 8px; font-size: 11px; font-weight: 700;">12 Expiring</span>
                                        <span style="padding: 4px 10px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 700;">847 Active</span>
                                    </div>
                                </div>
                                <div style="padding: 16px 0;">
                                    <!-- Contract Status -->
                                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 20px;">
                                        <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(16,185,129,0.05)); border-radius: 12px; border: 1px solid rgba(16,185,129,0.2);">
                                            <div style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900; color: var(--success);">847</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">Active</div>
                                        </div>
                                        <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(245,158,11,0.05)); border-radius: 12px; border: 1px solid rgba(245,158,11,0.2);">
                                            <div style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900; color: var(--warning);">45</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">30-day Alert</div>
                                        </div>
                                        <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(239,68,68,0.15), rgba(239,68,68,0.05)); border-radius: 12px; border: 2px solid var(--danger);">
                                            <div style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900; color: var(--danger);">12</div>
                                            <div style="font-size: 11px; color: var(--danger); font-weight: 600;"> This Week</div>
                                        </div>
                                        <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(23,162,184,0.1), rgba(23,162,184,0.05)); border-radius: 12px; border: 1px solid rgba(23,162,184,0.2);">
                                            <div style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900; color: var(--teal);">28</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">Sign-Off Queue</div>
                                        </div>
                                    </div>
                                    <!-- Monthly Trend -->
                                    <div style="display: flex; gap: 4px; align-items: flex-end; height: 60px; padding-top: 12px; border-top: 1px solid var(--gray-200);">
                                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                            <div style="width: 100%; height: 45px; background: linear-gradient(180deg, var(--teal), var(--teal-light)); border-radius: 4px 4px 0 0;"></div>
                                            <div style="font-size: 9px; color: var(--gray-500); margin-top: 4px;">Oct</div>
                                        </div>
                                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                            <div style="width: 100%; height: 52px; background: linear-gradient(180deg, var(--teal), var(--teal-light)); border-radius: 4px 4px 0 0;"></div>
                                            <div style="font-size: 9px; color: var(--gray-500); margin-top: 4px;">Nov</div>
                                        </div>
                                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                            <div style="width: 100%; height: 48px; background: linear-gradient(180deg, var(--teal), var(--teal-light)); border-radius: 4px 4px 0 0;"></div>
                                            <div style="font-size: 9px; color: var(--gray-500); margin-top: 4px;">Dec</div>
                                        </div>
                                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                            <div style="width: 100%; height: 58px; background: linear-gradient(180deg, var(--success), var(--teal-light)); border-radius: 4px 4px 0 0;"></div>
                                            <div style="font-size: 9px; color: var(--gray-500); margin-top: 4px;">Jan</div>
                                        </div>
                                        <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                            <div style="width: 100%; height: 60px; background: linear-gradient(180deg, var(--gold), #F0C674); border-radius: 4px 4px 0 0;"></div>
                                            <div style="font-size: 9px; color: var(--teal); margin-top: 4px; font-weight: 600;">Feb</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Document Expiry KPIs -->
                        <div class="chart-container-3d" style="margin-top: 20px;">
                            <div class="chart-header">
                                <div>
                                    <div class="chart-title" style="display: flex; align-items: center; gap: 8px;"> Document Expiry Status</div>
                                    <div class="chart-subtitle">Compliance monitoring across all document types</div>
                                </div>
                                <div style="display: flex; gap: 8px;">
                                    <span style="padding: 4px 10px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 700;">95% Compliant</span>
                                    <button class="btn btn-ghost" style="font-size: 11px;" onclick="showPage('doc-expiry')">View Details </button>
                                </div>
                            </div>
                            <div style="padding: 16px 0;">
                                <!-- Status Summary -->
                                <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; margin-bottom: 20px;">
                                    <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(239,68,68,0.15), rgba(239,68,68,0.05)); border-radius: 12px; border: 2px solid var(--danger);">
                                        <div style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900; color: var(--danger);">8</div>
                                        <div style="font-size: 11px; color: var(--danger); font-weight: 700;"> Expired</div>
                                    </div>
                                    <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(245,158,11,0.05)); border-radius: 12px; border: 1px solid rgba(245,158,11,0.3);">
                                        <div style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900; color: var(--warning);">15</div>
                                        <div style="font-size: 11px; color: var(--gray-500);"> 7 Days</div>
                                    </div>
                                    <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(251,191,36,0.1), rgba(251,191,36,0.05)); border-radius: 12px; border: 1px solid rgba(251,191,36,0.3);">
                                        <div style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900; color: #D97706;">42</div>
                                        <div style="font-size: 11px; color: var(--gray-500);"> 30 Days</div>
                                    </div>
                                    <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(59,130,246,0.05)); border-radius: 12px; border: 1px solid rgba(59,130,246,0.3);">
                                        <div style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900; color: var(--info);">89</div>
                                        <div style="font-size: 11px; color: var(--gray-500);"> 90 Days</div>
                                    </div>
                                    <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(16,185,129,0.05)); border-radius: 12px; border: 1px solid rgba(16,185,129,0.3);">
                                        <div style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900; color: var(--success);">2,847</div>
                                        <div style="font-size: 11px; color: var(--gray-500);"> Valid</div>
                                    </div>
                                </div>
                                <!-- Document Type Breakdown -->
                                <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 8px; padding-top: 16px; border-top: 1px solid var(--gray-200);">
                                    <div style="text-align: center; padding: 10px; background: var(--gray-50); border-radius: 8px;">
                                        <div style="font-size: 18px; margin-bottom: 4px;"></div>
                                        <div style="font-size: 10px; color: var(--gray-500);">Passports</div>
                                        <div style="font-size: 12px; font-weight: 700; color: var(--navy);">847</div>
                                        <div style="font-size: 9px; color: var(--danger);">2 expired</div>
                                    </div>
                                    <div style="text-align: center; padding: 10px; background: var(--gray-50); border-radius: 8px;">
                                        <div style="font-size: 18px; margin-bottom: 4px;"></div>
                                        <div style="font-size: 10px; color: var(--gray-500);">Seaman Books</div>
                                        <div style="font-size: 12px; font-weight: 700; color: var(--navy);">847</div>
                                        <div style="font-size: 9px; color: var(--danger);">1 expired</div>
                                    </div>
                                    <div style="text-align: center; padding: 10px; background: var(--gray-50); border-radius: 8px;">
                                        <div style="font-size: 18px; margin-bottom: 4px;"></div>
                                        <div style="font-size: 10px; color: var(--gray-500);">Medical</div>
                                        <div style="font-size: 12px; font-weight: 700; color: var(--navy);">847</div>
                                        <div style="font-size: 9px; color: var(--danger);">3 expired</div>
                                    </div>
                                    <div style="text-align: center; padding: 10px; background: var(--gray-50); border-radius: 8px;">
                                        <div style="font-size: 18px; margin-bottom: 4px;"></div>
                                        <div style="font-size: 10px; color: var(--gray-500);">STCW</div>
                                        <div style="font-size: 12px; font-weight: 700; color: var(--navy);">1,261</div>
                                        <div style="font-size: 9px; color: var(--danger);">1 expired</div>
                                    </div>
                                    <div style="text-align: center; padding: 10px; background: var(--gray-50); border-radius: 8px;">
                                        <div style="font-size: 18px; margin-bottom: 4px;"></div>
                                        <div style="font-size: 10px; color: var(--gray-500);">Flag Endorse</div>
                                        <div style="font-size: 12px; font-weight: 700; color: var(--navy);">634</div>
                                        <div style="font-size: 9px; color: var(--danger);">1 expired</div>
                                    </div>
                                    <div style="text-align: center; padding: 10px; background: var(--gray-50); border-radius: 8px;">
                                        <div style="font-size: 18px; margin-bottom: 4px;"></div>
                                        <div style="font-size: 10px; color: var(--gray-500);">Visas</div>
                                        <div style="font-size: 12px; font-weight: 700; color: var(--navy);">252</div>
                                        <div style="font-size: 9px; color: var(--success);">0 expired</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Payroll KPIs -->
                        <div class="chart-container-3d" style="margin-top: 20px;">
                            <div class="chart-header">
                                <div>
                                    <div class="chart-title" style="display: flex; align-items: center; gap: 8px;"> Payroll Summary</div>
                                    <div class="chart-subtitle">February 2026 - Monthly Overview</div>
                                </div>
                                <div style="display: flex; gap: 8px;">
                                    <span style="padding: 4px 10px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 700;">92% Paid</span>
                                    <button class="btn btn-ghost" style="font-size: 11px;" onclick="showPage('payroll')">View Details </button>
                                </div>
                            </div>
                            <div style="padding: 16px 0;">
                                <!-- Payroll Summary Cards -->
                                <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; margin-bottom: 20px;">
                                    <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(60,59,110,0.1), rgba(60,59,110,0.05)); border-radius: 12px;">
                                        <div style="font-family: 'Montserrat', sans-serif; font-size: 20px; font-weight: 900; color: var(--navy);">$847K</div>
                                        <div style="font-size: 10px; color: var(--gray-500);"> Gross Pay</div>
                                    </div>
                                    <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(139,92,246,0.1), rgba(139,92,246,0.05)); border-radius: 12px;">
                                        <div style="font-family: 'Montserrat', sans-serif; font-size: 20px; font-weight: 900; color: var(--purple);">$413K</div>
                                        <div style="font-size: 10px; color: var(--gray-500);"> Allotments</div>
                                    </div>
                                    <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(245,158,11,0.05)); border-radius: 12px;">
                                        <div style="font-family: 'Montserrat', sans-serif; font-size: 20px; font-weight: 900; color: var(--warning);">$45K</div>
                                        <div style="font-size: 10px; color: var(--gray-500);"> Advances</div>
                                    </div>
                                    <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(239,68,68,0.1), rgba(239,68,68,0.05)); border-radius: 12px;">
                                        <div style="font-family: 'Montserrat', sans-serif; font-size: 20px; font-weight: 900; color: var(--danger);">$78K</div>
                                        <div style="font-size: 10px; color: var(--gray-500);"> Deductions</div>
                                    </div>
                                    <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(16,185,129,0.15), rgba(16,185,129,0.05)); border-radius: 12px; border: 1px solid var(--success);">
                                        <div style="font-family: 'Montserrat', sans-serif; font-size: 20px; font-weight: 900; color: var(--success);">$311K</div>
                                        <div style="font-size: 10px; color: var(--gray-500);"> Net Pay</div>
                                    </div>
                                </div>
                                <!-- Payment Status -->
                                <div style="display: flex; gap: 16px; padding-top: 16px; border-top: 1px solid var(--gray-200);">
                                    <div style="flex: 1;">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 6px;">
                                            <span style="font-size: 12px; color: var(--gray-500);">Payment Progress</span>
                                            <span style="font-size: 12px; font-weight: 700; color: var(--navy);">782 / 847 crew</span>
                                        </div>
                                        <div style="height: 10px; background: var(--gray-200); border-radius: 5px; overflow: hidden;">
                                            <div style="width: 92%; height: 100%; background: linear-gradient(90deg, var(--success), var(--teal)); border-radius: 5px;"></div>
                                        </div>
                                    </div>
                                    <div style="display: flex; gap: 12px;">
                                        <div style="text-align: center; padding: 8px 16px; background: rgba(16,185,129,0.1); border-radius: 8px;">
                                            <div style="font-size: 18px; font-weight: 800; color: var(--success);">782</div>
                                            <div style="font-size: 9px; color: var(--gray-500);">Paid</div>
                                        </div>
                                        <div style="text-align: center; padding: 8px 16px; background: rgba(245,158,11,0.1); border-radius: 8px;">
                                            <div style="font-size: 18px; font-weight: 800; color: var(--warning);">65</div>
                                            <div style="font-size: 9px; color: var(--gray-500);">Pending</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Training KPIs -->
                        <div class="chart-container-3d" style="margin-top: 20px;">
                            <div class="chart-header">
                                <div>
                                    <div class="chart-title" style="display: flex; align-items: center; gap: 8px;"> Training & Compliance</div>
                                    <div class="chart-subtitle">STCW Certification Status</div>
                                </div>
                                <div style="display: flex; gap: 8px;">
                                    <span style="padding: 4px 10px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 700;">94% STCW Compliant</span>
                                    <button class="btn btn-ghost" style="font-size: 11px;" onclick="showPage('training')">View Details </button>
                                </div>
                            </div>
                            <div style="padding: 16px 0;">
                                <!-- Training Summary -->
                                <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; margin-bottom: 20px;">
                                    <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(139,92,246,0.1), rgba(139,92,246,0.05)); border-radius: 12px;">
                                        <div style="font-family: 'Montserrat', sans-serif; font-size: 22px; font-weight: 900; color: var(--purple);">124</div>
                                        <div style="font-size: 10px; color: var(--gray-500);"> Enrolled</div>
                                    </div>
                                    <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(59,130,246,0.05)); border-radius: 12px;">
                                        <div style="font-family: 'Montserrat', sans-serif; font-size: 22px; font-weight: 900; color: var(--info);">67</div>
                                        <div style="font-size: 10px; color: var(--gray-500);"> In Progress</div>
                                    </div>
                                    <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(16,185,129,0.05)); border-radius: 12px;">
                                        <div style="font-family: 'Montserrat', sans-serif; font-size: 22px; font-weight: 900; color: var(--success);">847</div>
                                        <div style="font-size: 10px; color: var(--gray-500);"> Completed YTD</div>
                                    </div>
                                    <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(245,158,11,0.15), rgba(245,158,11,0.05)); border-radius: 12px; border: 1px solid var(--warning);">
                                        <div style="font-family: 'Montserrat', sans-serif; font-size: 22px; font-weight: 900; color: var(--warning);">38</div>
                                        <div style="font-size: 10px; color: var(--warning);"> Expiring 90d</div>
                                    </div>
                                    <div style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(212,168,75,0.1), rgba(212,168,75,0.05)); border-radius: 12px;">
                                        <div style="font-family: 'Montserrat', sans-serif; font-size: 22px; font-weight: 900; color: var(--gold);">$48K</div>
                                        <div style="font-size: 10px; color: var(--gray-500);"> YTD Cost</div>
                                    </div>
                                </div>
                                <!-- Course Breakdown -->
                                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; padding-top: 16px; border-top: 1px solid var(--gray-200);">
                                    <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: var(--gray-50); border-radius: 8px;">
                                        <span style="font-size: 20px;"></span>
                                        <div>
                                            <div style="font-size: 11px; color: var(--gray-500);">BST</div>
                                            <div style="font-size: 13px; font-weight: 700; color: var(--navy);">847</div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: var(--gray-50); border-radius: 8px;">
                                        <span style="font-size: 20px;"></span>
                                        <div>
                                            <div style="font-size: 11px; color: var(--gray-500);">PSCRB</div>
                                            <div style="font-size: 13px; font-weight: 700; color: var(--navy);">623</div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: var(--gray-50); border-radius: 8px;">
                                        <span style="font-size: 20px;"></span>
                                        <div>
                                            <div style="font-size: 11px; color: var(--gray-500);">AFF</div>
                                            <div style="font-size: 13px; font-weight: 700; color: var(--navy);">534</div>
                                        </div>
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: var(--gray-50); border-radius: 8px;">
                                        <span style="font-size: 20px;"></span>
                                        <div>
                                            <div style="font-size: 11px; color: var(--gray-500);">MFA</div>
                                            <div style="font-size: 13px; font-weight: 700; color: var(--navy);">456</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Bottleneck Alerts -->
                        <div class="chart-container-3d" style="margin-top: 20px;">
                            <div class="chart-header">
                                <div>
                                    <div class="chart-title" style="display: flex; align-items: center; gap: 8px;"> Bottleneck Alerts & Action Items</div>
                                    <div class="chart-subtitle">Processes requiring immediate attention</div>
                                </div>
                                <button class="btn btn-ghost" style="font-size: 12px; background: rgba(239,68,68,0.1); color: var(--danger);">View All Alerts </button>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; padding: 16px 0;">
                                <div style="background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(245,158,11,0.02)); border-radius: 12px; padding: 16px; border-left: 4px solid var(--warning);">
                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                        <span style="font-size: 20px;"></span>
                                        <span style="font-weight: 700; color: var(--navy);">PEME Lab Backlog</span>
                                    </div>
                                    <div style="font-size: 13px; color: var(--gray-600); margin-bottom: 10px;">6 seafarers waiting >2 hours at Lab stage</div>
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span style="font-size: 11px; color: var(--warning); font-weight: 600;">Medium Priority</span>
                                        <button style="padding: 6px 12px; background: var(--warning); color: white; border: none; border-radius: 6px; font-size: 11px; font-weight: 600; cursor: pointer;">Resolve</button>
                                    </div>
                                </div>
                                <div style="background: linear-gradient(135deg, rgba(239,68,68,0.1), rgba(239,68,68,0.02)); border-radius: 12px; padding: 16px; border-left: 4px solid var(--danger);">
                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                        <span style="font-size: 20px;"></span>
                                        <span style="font-weight: 700; color: var(--navy);">RFA PEME Stage</span>
                                    </div>
                                    <div style="font-size: 13px; color: var(--gray-600); margin-bottom: 10px;">12 requests stuck at PEME for >5 days</div>
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span style="font-size: 11px; color: var(--danger); font-weight: 600;">High Priority</span>
                                        <button style="padding: 6px 12px; background: var(--danger); color: white; border: none; border-radius: 6px; font-size: 11px; font-weight: 600; cursor: pointer;">Resolve</button>
                                    </div>
                                </div>
                                <div style="background: linear-gradient(135deg, rgba(139,92,246,0.1), rgba(139,92,246,0.02)); border-radius: 12px; padding: 16px; border-left: 4px solid var(--purple);">
                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                        <span style="font-size: 20px;"></span>
                                        <span style="font-weight: 700; color: var(--navy);">Visa Embassy Queue</span>
                                    </div>
                                    <div style="font-size: 13px; color: var(--gray-600); margin-bottom: 10px;">3 appointments tomorrow - ensure docs ready</div>
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span style="font-size: 11px; color: var(--purple); font-weight: 600;">Reminder</span>
                                        <button style="padding: 6px 12px; background: var(--purple); color: white; border: none; border-radius: 6px; font-size: 11px; font-weight: 600; cursor: pointer;">Check</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CREW DATABASE PAGE -->
                <div class="page" id="page-crew-database">
                    <div class="crew-db-header">
                        <div>
                            <h2 style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 700; color: var(--navy);">Crew Database</h2>
                            <p style="color: var(--gray-500);">Find and recruit qualified seafarers for your fleet</p>
                        </div>
                        <div class="crew-db-stats">
                            <div class="crew-db-stat">
                                <div class="crew-db-stat-value">847</div>
                                <div class="crew-db-stat-label">Available</div>
                            </div>
                            <div class="crew-db-stat">
                                <div class="crew-db-stat-value" style="color: var(--teal);">156</div>
                                <div class="crew-db-stat-label">New This Month</div>
                            </div>
                            <div class="crew-db-stat">
                                <div class="crew-db-stat-value" style="color: var(--gold);">92</div>
                                <div class="crew-db-stat-label">Avg. Score</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Filters -->
                    <div class="crew-filters">
                        <div class="filters-row">
                            <div class="filter-group">
                                <label>Department</label>
                                <select id="filter-department" onchange="filterSeafarers()">
                                    <option value="">All Departments</option>
                                    <option value="deck">Deck</option>
                                    <option value="engine">Engine</option>
                                    <option value="electrical">Electrical</option>
                                    <option value="catering">Catering</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label>Rank</label>
                                <select id="filter-rank" onchange="filterSeafarers()">
                                    <option value="">All Ranks</option>
                                    <option value="master">Master</option>
                                    <option value="chief-officer">Chief Officer</option>
                                    <option value="2nd-officer">2nd Officer</option>
                                    <option value="3rd-officer">3rd Officer</option>
                                    <option value="chief-engineer">Chief Engineer</option>
                                    <option value="2nd-engineer">2nd Engineer</option>
                                    <option value="bosun">Bosun</option>
                                    <option value="ab">AB</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label>Experience</label>
                                <select id="filter-experience" onchange="filterSeafarers()">
                                    <option value="">Any Experience</option>
                                    <option value="0-2">0-2 years</option>
                                    <option value="3-5">3-5 years</option>
                                    <option value="5-10">5-10 years</option>
                                    <option value="10+">10+ years</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label>AI Score</label>
                                <select id="filter-score" onchange="filterSeafarers()">
                                    <option value="">Any Score</option>
                                    <option value="90-100">90-100 (Excellent)</option>
                                    <option value="80-89">80-89 (Very Good)</option>
                                    <option value="70-79">70-79 (Good)</option>
                                    <option value="0-69">Below 70</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label>Availability</label>
                                <select id="filter-availability" onchange="filterSeafarers()">
                                    <option value="">Any</option>
                                    <option value="immediate">Immediate</option>
                                    <option value="1-month">Within 1 Month</option>
                                    <option value="2-months">Within 2 Months</option>
                                </select>
                            </div>
                            <div class="filter-group" style="min-width: 200px;">
                                <label>Search</label>
                                <input type="text" id="filter-search" placeholder="Name, skills..." oninput="filterSeafarers()">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Seafarer Grid -->
                    <div class="crew-grid" id="crew-grid">
                        <!-- Seafarer Card 1 -->
                        <div class="seafarer-card" onclick="openSeafarerModal('sf1')">
                            <div class="seafarer-card-header">
                                <div class="seafarer-photo">JD</div>
                                <div class="seafarer-basic-info">
                                    <h3>Juan Dela Cruz</h3>
                                    <p>Chief Officer   Filipino</p>
                                </div>
                                <div class="ai-score-badge">
                                    <div class="score-value">92</div>
                                    <div class="score-label">AI Score</div>
                                </div>
                            </div>
                            <div class="seafarer-card-body">
                                <div class="seafarer-details-grid">
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Experience</div>
                                        <div class="seafarer-detail-value">12 Years</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Vessel Type</div>
                                        <div class="seafarer-detail-value">Bulk Carrier</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Last Salary</div>
                                        <div class="seafarer-detail-value">$6,500/mo</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Contracts</div>
                                        <div class="seafarer-detail-value">8 completed</div>
                                    </div>
                                </div>
                                <div class="seafarer-skills">
                                    <span class="skill-chip">Navigation</span>
                                    <span class="skill-chip">ECDIS</span>
                                    <span class="skill-chip">Cargo Ops</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <span class="availability-badge available">Available Now</span>
                                    <div class="seafarer-social">
                                        <a href="#" class="social-link linkedin" onclick="event.stopPropagation();" title="LinkedIn">
                                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                                        </a>
                                        <a href="#" class="social-link facebook" onclick="event.stopPropagation();" title="Facebook">
                                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                                        </a>
                                        <a href="#" class="social-link whatsapp" onclick="event.stopPropagation();" title="WhatsApp">
                                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                                        </a>
                                        <a href="#" class="social-link email" onclick="event.stopPropagation();" title="Email">
                                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Seafarer Card 2 -->
                        <div class="seafarer-card" onclick="openSeafarerModal('sf2')">
                            <div class="seafarer-card-header">
                                <div class="seafarer-photo" style="background: linear-gradient(135deg, #8B5CF6, #EC4899);">MR</div>
                                <div class="seafarer-basic-info">
                                    <h3>Michael Rodriguez</h3>
                                    <p>2nd Engineer   Filipino</p>
                                </div>
                                <div class="ai-score-badge">
                                    <div class="score-value">88</div>
                                    <div class="score-label">AI Score</div>
                                </div>
                            </div>
                            <div class="seafarer-card-body">
                                <div class="seafarer-details-grid">
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Experience</div>
                                        <div class="seafarer-detail-value">8 Years</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Vessel Type</div>
                                        <div class="seafarer-detail-value">Container</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Last Salary</div>
                                        <div class="seafarer-detail-value">$5,800/mo</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Contracts</div>
                                        <div class="seafarer-detail-value">6 completed</div>
                                    </div>
                                </div>
                                <div class="seafarer-skills">
                                    <span class="skill-chip">ME Operation</span>
                                    <span class="skill-chip">Aux Engine</span>
                                    <span class="skill-chip">Welding</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <span class="availability-badge available">Available Now</span>
                                    <div class="seafarer-social">
                                        <a href="#" class="social-link linkedin" onclick="event.stopPropagation();"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a>
                                        <a href="#" class="social-link facebook" onclick="event.stopPropagation();"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>
                                        <a href="#" class="social-link whatsapp" onclick="event.stopPropagation();"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Seafarer Card 3 -->
                        <div class="seafarer-card" onclick="openSeafarerModal('sf3')">
                            <div class="seafarer-card-header">
                                <div class="seafarer-photo" style="background: linear-gradient(135deg, #10B981, #17A2B8);">AS</div>
                                <div class="seafarer-basic-info">
                                    <h3>Antonio Santos</h3>
                                    <p>Master   Filipino</p>
                                </div>
                                <div class="ai-score-badge">
                                    <div class="score-value">96</div>
                                    <div class="score-label">AI Score</div>
                                </div>
                            </div>
                            <div class="seafarer-card-body">
                                <div class="seafarer-details-grid">
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Experience</div>
                                        <div class="seafarer-detail-value">18 Years</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Vessel Type</div>
                                        <div class="seafarer-detail-value">Tanker</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Last Salary</div>
                                        <div class="seafarer-detail-value">$12,500/mo</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Contracts</div>
                                        <div class="seafarer-detail-value">15 completed</div>
                                    </div>
                                </div>
                                <div class="seafarer-skills">
                                    <span class="skill-chip">Tanker Ops</span>
                                    <span class="skill-chip">Vetting</span>
                                    <span class="skill-chip">Leadership</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <span class="availability-badge soon">Available in 1 Month</span>
                                    <div class="seafarer-social">
                                        <a href="#" class="social-link linkedin" onclick="event.stopPropagation();"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a>
                                        <a href="#" class="social-link email" onclick="event.stopPropagation();"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Seafarer Card 4 -->
                        <div class="seafarer-card" onclick="openSeafarerModal('sf4')">
                            <div class="seafarer-card-header">
                                <div class="seafarer-photo" style="background: linear-gradient(135deg, #F59E0B, #EF4444);">PG</div>
                                <div class="seafarer-basic-info">
                                    <h3>Pedro Garcia</h3>
                                    <p>Bosun   Filipino</p>
                                </div>
                                <div class="ai-score-badge">
                                    <div class="score-value">85</div>
                                    <div class="score-label">AI Score</div>
                                </div>
                            </div>
                            <div class="seafarer-card-body">
                                <div class="seafarer-details-grid">
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Experience</div>
                                        <div class="seafarer-detail-value">10 Years</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Vessel Type</div>
                                        <div class="seafarer-detail-value">Bulk Carrier</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Last Salary</div>
                                        <div class="seafarer-detail-value">$1,800/mo</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Contracts</div>
                                        <div class="seafarer-detail-value">9 completed</div>
                                    </div>
                                </div>
                                <div class="seafarer-skills">
                                    <span class="skill-chip">Deck Maint.</span>
                                    <span class="skill-chip">Mooring</span>
                                    <span class="skill-chip">Painting</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <span class="availability-badge available">Available Now</span>
                                    <div class="seafarer-social">
                                        <a href="#" class="social-link facebook" onclick="event.stopPropagation();"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>
                                        <a href="#" class="social-link whatsapp" onclick="event.stopPropagation();"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Seafarer Card 5 -->
                        <div class="seafarer-card" onclick="openSeafarerModal('sf5')">
                            <div class="seafarer-card-header">
                                <div class="seafarer-photo" style="background: linear-gradient(135deg, #3B82F6, #8B5CF6);">RD</div>
                                <div class="seafarer-basic-info">
                                    <h3>Roberto Dimaculangan</h3>
                                    <p>Chief Engineer   Filipino</p>
                                </div>
                                <div class="ai-score-badge">
                                    <div class="score-value">94</div>
                                    <div class="score-label">AI Score</div>
                                </div>
                            </div>
                            <div class="seafarer-card-body">
                                <div class="seafarer-details-grid">
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Experience</div>
                                        <div class="seafarer-detail-value">15 Years</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Vessel Type</div>
                                        <div class="seafarer-detail-value">LNG Carrier</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Last Salary</div>
                                        <div class="seafarer-detail-value">$11,000/mo</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Contracts</div>
                                        <div class="seafarer-detail-value">12 completed</div>
                                    </div>
                                </div>
                                <div class="seafarer-skills">
                                    <span class="skill-chip">LNG Systems</span>
                                    <span class="skill-chip">DFDE</span>
                                    <span class="skill-chip">PMS</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <span class="availability-badge available">Available Now</span>
                                    <div class="seafarer-social">
                                        <a href="#" class="social-link linkedin" onclick="event.stopPropagation();"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a>
                                        <a href="#" class="social-link email" onclick="event.stopPropagation();"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Seafarer Card 6 -->
                        <div class="seafarer-card" onclick="openSeafarerModal('sf6')">
                            <div class="seafarer-card-header">
                                <div class="seafarer-photo" style="background: linear-gradient(135deg, #EC4899, #F472B6);">ML</div>
                                <div class="seafarer-basic-info">
                                    <h3>Marco Lim</h3>
                                    <p>3rd Officer   Filipino</p>
                                </div>
                                <div class="ai-score-badge">
                                    <div class="score-value">78</div>
                                    <div class="score-label">AI Score</div>
                                </div>
                            </div>
                            <div class="seafarer-card-body">
                                <div class="seafarer-details-grid">
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Experience</div>
                                        <div class="seafarer-detail-value">3 Years</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Vessel Type</div>
                                        <div class="seafarer-detail-value">Container</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Last Salary</div>
                                        <div class="seafarer-detail-value">$3,200/mo</div>
                                    </div>
                                    <div class="seafarer-detail">
                                        <div class="seafarer-detail-label">Contracts</div>
                                        <div class="seafarer-detail-value">2 completed</div>
                                    </div>
                                </div>
                                <div class="seafarer-skills">
                                    <span class="skill-chip">ECDIS</span>
                                    <span class="skill-chip">GMDSS</span>
                                    <span class="skill-chip">Nav Watch</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <span class="availability-badge soon">Available in 2 Months</span>
                                    <div class="seafarer-social">
                                        <a href="#" class="social-link linkedin" onclick="event.stopPropagation();"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a>
                                        <a href="#" class="social-link facebook" onclick="event.stopPropagation();"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- DOCUMENTS PAGE -->
                <div class="page" id="page-documents">
                    <div class="welcome-banner" style="background: linear-gradient(135deg, #F59E0B 0%, #EF4444 100%);"><h2>Document Management</h2><p>12 documents pending review, 3 expiring soon.</p></div>
                    <div class="content-card"><div class="content-card-header"><h3 class="content-card-title">Recent Documents</h3></div><div class="content-card-body"><p style="color: var(--gray-500);">Document list coming soon...</p></div></div>
                </div>

                <!-- PEME CLINIC INTEGRATION PAGE -->
                <div class="page" id="page-peme">
                    <!-- Page Header -->
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <div>
                            <h2 style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 800; color: var(--navy); display: flex; align-items: center; gap: 12px;">
                                 PEME Clinic Integration
                            </h2>
                            <p style="color: var(--gray-500); margin-top: 4px;">Pre-Employment Medical Examination Management  Partner Clinic Network</p>
                        </div>
                        <div style="display: flex; gap: 12px; align-items: center;">
                            <div class="pulse-live">
                                <span class="pulse-dot"></span>
                                Live API
                            </div>
                            <button class="btn btn-ghost" onclick="openPemePackageBuilder(35, 'male', false)" style="background: rgba(139,92,246,0.1); color: #8B5CF6;">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="12" y1="18" x2="12" y2="12"/><line x1="9" y1="15" x2="15" y2="15"/></svg>
                                Create Package
                            </button>
                            <button class="btn btn-primary" onclick="openPemeBookingModal()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                                Book PEME
                            </button>
                        </div>
                    </div>
                    
                    <!-- Stats Cards -->
                    <div class="peme-stats-grid">
                        <div class="peme-stat-card pending">
                            <div class="peme-stat-icon" style="background: linear-gradient(135deg, var(--warning), #F0C674);">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                            </div>
                            <div class="peme-stat-value">24</div>
                            <div class="peme-stat-label">Pending Booking</div>
                        </div>
                        <div class="peme-stat-card scheduled">
                            <div class="peme-stat-icon" style="background: linear-gradient(135deg, var(--info), var(--purple));">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                            </div>
                            <div class="peme-stat-value">18</div>
                            <div class="peme-stat-label">Scheduled</div>
                        </div>
                        <div class="peme-stat-card inprogress">
                            <div class="peme-stat-icon" style="background: linear-gradient(135deg, var(--purple), var(--pink));">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                            </div>
                            <div class="peme-stat-value">7</div>
                            <div class="peme-stat-label">In Progress</div>
                        </div>
                        <div class="peme-stat-card passed">
                            <div class="peme-stat-icon" style="background: linear-gradient(135deg, var(--success), var(--teal-light));">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                            </div>
                            <div class="peme-stat-value">156</div>
                            <div class="peme-stat-label">Passed (MTD)</div>
                        </div>
                        <div class="peme-stat-card failed">
                            <div class="peme-stat-icon" style="background: linear-gradient(135deg, var(--danger), #FF7875);">
                                <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>
                            </div>
                            <div class="peme-stat-value">3</div>
                            <div class="peme-stat-label">Failed/Conditional</div>
                        </div>
                    </div>
                    
                    <!-- Main Content Grid -->
                    <div class="peme-content-grid">
                        <!-- PEME Pipeline -->
                        <div>
                            <div class="content-card" style="padding: 0; overflow: hidden;">
                                <div style="padding: 20px 24px; border-bottom: 1px solid var(--gray-100); display: flex; justify-content: space-between; align-items: center;">
                                    <h3 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); display: flex; align-items: center; gap: 10px;">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--teal)" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                                        PEME Examination Pipeline
                                    </h3>
                                    <div style="display: flex; gap: 8px;">
                                        <button class="btn btn-ghost" style="padding: 8px 12px; font-size: 12px;" onclick="filterPemeByClinic()">
                                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/></svg>
                                            Filter
                                        </button>
                                        <button class="btn btn-ghost" style="padding: 8px 12px; font-size: 12px;" onclick="exportPemeReport()">
                                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                                            Export
                                        </button>
                                    </div>
                                </div>
                                
                                <div style="padding: 20px;">
                                    <div class="peme-pipeline">
                                        <!-- Scheduled Column -->
                                        <div class="peme-pipeline-column scheduled">
                                            <div class="peme-pipeline-header">
                                                <h4> Scheduled</h4>
                                                <span class="peme-pipeline-count">6</span>
                                            </div>
                                            <div class="peme-pipeline-cards">
                                                <div class="peme-card" onclick="openPemeDetailModal('PEME-2026-0124')">
                                                    <div class="peme-card-header">
                                                        <div class="peme-card-avatar">JD</div>
                                                        <div class="peme-card-info">
                                                            <h5>Juan Dela Cruz</h5>
                                                            <span>Chief Officer</span>
                                                        </div>
                                                    </div>
                                                    <div class="peme-card-clinic">
                                                        <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                                                        Seamen's Hospital Manila
                                                    </div>
                                                    <div class="peme-card-date">
                                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/></svg>
                                                        Feb 12, 2026  09:00 AM
                                                    </div>
                                                </div>
                                                
                                                <div class="peme-card" onclick="openPemeDetailModal('PEME-2026-0125')">
                                                    <div class="peme-card-header">
                                                        <div class="peme-card-avatar" style="background: linear-gradient(135deg, var(--purple), var(--pink));">MR</div>
                                                        <div class="peme-card-info">
                                                            <h5>Michael Reyes</h5>
                                                            <span>2nd Engineer</span>
                                                        </div>
                                                    </div>
                                                    <div class="peme-card-clinic">
                                                        <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                                                        Philippine General Hospital
                                                    </div>
                                                    <div class="peme-card-date">
                                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/></svg>
                                                        Feb 12, 2026  10:30 AM
                                                    </div>
                                                </div>
                                                
                                                <div class="peme-card" onclick="openPemeDetailModal('PEME-2026-0126')">
                                                    <div class="peme-card-header">
                                                        <div class="peme-card-avatar" style="background: linear-gradient(135deg, var(--gold), #F0C674);">AS</div>
                                                        <div class="peme-card-info">
                                                            <h5>Antonio Santos</h5>
                                                            <span>AB Seaman</span>
                                                        </div>
                                                    </div>
                                                    <div class="peme-card-clinic">
                                                        <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                                                        Medical City
                                                    </div>
                                                    <div class="peme-card-date">
                                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/></svg>
                                                        Feb 13, 2026  08:00 AM
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- In Progress Column -->
                                        <div class="peme-pipeline-column inprogress">
                                            <div class="peme-pipeline-header">
                                                <h4> In Progress</h4>
                                                <span class="peme-pipeline-count">3</span>
                                            </div>
                                            <div class="peme-pipeline-cards">
                                                <div class="peme-card" onclick="openPemeDetailModal('PEME-2026-0120')">
                                                    <div class="peme-card-header">
                                                        <div class="peme-card-avatar" style="background: linear-gradient(135deg, var(--info), var(--teal));">RG</div>
                                                        <div class="peme-card-info">
                                                            <h5>Roberto Garcia</h5>
                                                            <span>Bosun</span>
                                                        </div>
                                                    </div>
                                                    <div class="peme-card-clinic">
                                                        <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                                                        Seamen's Hospital Manila
                                                    </div>
                                                    <div style="display: flex; align-items: center; gap: 8px; margin-top: 10px;">
                                                        <div style="flex: 1; height: 6px; background: var(--gray-200); border-radius: 3px; overflow: hidden;">
                                                            <div style="width: 60%; height: 100%; background: linear-gradient(90deg, var(--purple), var(--pink)); border-radius: 3px;"></div>
                                                        </div>
                                                        <span style="font-size: 11px; font-weight: 700; color: var(--purple);">60%</span>
                                                    </div>
                                                </div>
                                                
                                                <div class="peme-card" onclick="openPemeDetailModal('PEME-2026-0121')">
                                                    <div class="peme-card-header">
                                                        <div class="peme-card-avatar" style="background: linear-gradient(135deg, var(--success), var(--teal-light));">PL</div>
                                                        <div class="peme-card-info">
                                                            <h5>Pedro Lopez</h5>
                                                            <span>Oiler</span>
                                                        </div>
                                                    </div>
                                                    <div class="peme-card-clinic">
                                                        <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                                                        Philippine General Hospital
                                                    </div>
                                                    <div style="display: flex; align-items: center; gap: 8px; margin-top: 10px;">
                                                        <div style="flex: 1; height: 6px; background: var(--gray-200); border-radius: 3px; overflow: hidden;">
                                                            <div style="width: 85%; height: 100%; background: linear-gradient(90deg, var(--purple), var(--pink)); border-radius: 3px;"></div>
                                                        </div>
                                                        <span style="font-size: 11px; font-weight: 700; color: var(--purple);">85%</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Awaiting Results Column -->
                                        <div class="peme-pipeline-column results">
                                            <div class="peme-pipeline-header">
                                                <h4> Awaiting Results</h4>
                                                <span class="peme-pipeline-count">4</span>
                                            </div>
                                            <div class="peme-pipeline-cards">
                                                <div class="peme-card" onclick="openPemeDetailModal('PEME-2026-0115')">
                                                    <div class="peme-card-header">
                                                        <div class="peme-card-avatar" style="background: linear-gradient(135deg, var(--warning), var(--gold));">EM</div>
                                                        <div class="peme-card-info">
                                                            <h5>Eduardo Mendoza</h5>
                                                            <span>Chief Cook</span>
                                                        </div>
                                                    </div>
                                                    <div class="peme-card-clinic">
                                                        <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                                                        Medical City
                                                    </div>
                                                    <div class="peme-card-date">
                                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                                                        Lab results: 24-48 hrs
                                                    </div>
                                                </div>
                                                
                                                <div class="peme-card" onclick="openPemeDetailModal('PEME-2026-0116')">
                                                    <div class="peme-card-header">
                                                        <div class="peme-card-avatar" style="background: linear-gradient(135deg, var(--danger), #FF7875);">FT</div>
                                                        <div class="peme-card-info">
                                                            <h5>Fernando Torres</h5>
                                                            <span>3rd Engineer</span>
                                                        </div>
                                                    </div>
                                                    <div class="peme-card-clinic">
                                                        <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                                                        Seamen's Hospital Manila
                                                    </div>
                                                    <div class="peme-card-date">
                                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                                                        Lab results: 12-24 hrs
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Completed Column -->
                                        <div class="peme-pipeline-column complete">
                                            <div class="peme-pipeline-header">
                                                <h4> Completed</h4>
                                                <span class="peme-pipeline-count">5</span>
                                            </div>
                                            <div class="peme-pipeline-cards">
                                                <div class="peme-card" onclick="openPemeDetailModal('PEME-2026-0110')" style="border: 2px solid var(--success); background: linear-gradient(135deg, rgba(16,185,129,0.03) 0%, rgba(23,162,184,0.03) 100%);">
                                                    <div class="peme-card-header">
                                                        <div class="peme-card-avatar" style="background: linear-gradient(135deg, var(--success), var(--teal-light));">MC</div>
                                                        <div class="peme-card-info">
                                                            <h5>Mario Cruz</h5>
                                                            <span>2nd Officer</span>
                                                        </div>
                                                    </div>
                                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                                                        <span class="peme-status-badge fit">
                                                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                                                            FIT FOR DUTY
                                                        </span>
                                                        <span style="font-size: 10px; color: var(--gray-400);">Feb 10</span>
                                                    </div>
                                                </div>
                                                
                                                <div class="peme-card" onclick="openPemeDetailModal('PEME-2026-0111')" style="border: 2px solid var(--success); background: linear-gradient(135deg, rgba(16,185,129,0.03) 0%, rgba(23,162,184,0.03) 100%);">
                                                    <div class="peme-card-header">
                                                        <div class="peme-card-avatar" style="background: linear-gradient(135deg, var(--navy), var(--teal));">JV</div>
                                                        <div class="peme-card-info">
                                                            <h5>Jose Villanueva</h5>
                                                            <span>Electrician</span>
                                                        </div>
                                                    </div>
                                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                                                        <span class="peme-status-badge fit">
                                                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                                                            FIT FOR DUTY
                                                        </span>
                                                        <span style="font-size: 10px; color: var(--gray-400);">Feb 09</span>
                                                    </div>
                                                </div>
                                                
                                                <div class="peme-card" onclick="openPemeDetailModal('PEME-2026-0108')" style="border: 2px solid var(--warning); background: linear-gradient(135deg, rgba(245,158,11,0.03) 0%, rgba(239,68,68,0.03) 100%);">
                                                    <div class="peme-card-header">
                                                        <div class="peme-card-avatar" style="background: linear-gradient(135deg, var(--warning), var(--gold));">RP</div>
                                                        <div class="peme-card-info">
                                                            <h5>Ricardo Pascual</h5>
                                                            <span>AB Seaman</span>
                                                        </div>
                                                    </div>
                                                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                                                        <span class="peme-status-badge conditional">
                                                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                                                            CONDITIONAL
                                                        </span>
                                                        <span style="font-size: 10px; color: var(--gray-400);">Feb 08</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Sidebar - Partner Clinics -->
                        <div>
                            <!-- Partner Clinics Card -->
                            <div class="content-card" style="margin-bottom: 20px;">
                                <div class="content-card-header" style="display: flex; justify-content: space-between; align-items: center;">
                                    <h3 class="content-card-title" style="display: flex; align-items: center; gap: 8px;">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--teal)" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                                        Partner Clinics
                                    </h3>
                                    <button class="btn btn-ghost" style="padding: 6px 10px; font-size: 11px;" onclick="openAddClinicModal()">+ Add</button>
                                </div>
                                <div class="content-card-body">
                                    <!-- Clinic 1 -->
                                    <div class="clinic-card">
                                        <div class="clinic-card-header">
                                            <div class="clinic-logo"></div>
                                            <div class="clinic-info">
                                                <h5>Seamen's Hospital Manila</h5>
                                                <span>Intramuros, Manila</span>
                                            </div>
                                        </div>
                                        <div class="clinic-stats">
                                            <div class="clinic-stat">
                                                <div class="clinic-stat-value">847</div>
                                                <div class="clinic-stat-label">Total Exams</div>
                                            </div>
                                            <div class="clinic-stat">
                                                <div class="clinic-stat-value">98%</div>
                                                <div class="clinic-stat-label">Pass Rate</div>
                                            </div>
                                            <div class="clinic-stat">
                                                <div class="clinic-stat-value">2.1</div>
                                                <div class="clinic-stat-label">Avg Days</div>
                                            </div>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 12px;">
                                            <span class="clinic-status active">
                                                <span class="clinic-status-dot"></span>
                                                Active Partner
                                            </span>
                                            <button class="btn btn-ghost" style="padding: 6px 10px; font-size: 11px;" onclick="openClinicDetailModal('shm')">View Details</button>
                                        </div>
                                    </div>
                                    
                                    <!-- Clinic 2 -->
                                    <div class="clinic-card">
                                        <div class="clinic-card-header">
                                            <div class="clinic-logo" style="background: linear-gradient(135deg, var(--purple), var(--pink));"></div>
                                            <div class="clinic-info">
                                                <h5>Philippine General Hospital</h5>
                                                <span>Ermita, Manila</span>
                                            </div>
                                        </div>
                                        <div class="clinic-stats">
                                            <div class="clinic-stat">
                                                <div class="clinic-stat-value">523</div>
                                                <div class="clinic-stat-label">Total Exams</div>
                                            </div>
                                            <div class="clinic-stat">
                                                <div class="clinic-stat-value">96%</div>
                                                <div class="clinic-stat-label">Pass Rate</div>
                                            </div>
                                            <div class="clinic-stat">
                                                <div class="clinic-stat-value">2.5</div>
                                                <div class="clinic-stat-label">Avg Days</div>
                                            </div>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 12px;">
                                            <span class="clinic-status active">
                                                <span class="clinic-status-dot"></span>
                                                Active Partner
                                            </span>
                                            <button class="btn btn-ghost" style="padding: 6px 10px; font-size: 11px;" onclick="openClinicDetailModal('pgh')">View Details</button>
                                        </div>
                                    </div>
                                    
                                    <!-- Clinic 3 -->
                                    <div class="clinic-card">
                                        <div class="clinic-card-header">
                                            <div class="clinic-logo" style="background: linear-gradient(135deg, var(--gold), #F0C674);"></div>
                                            <div class="clinic-info">
                                                <h5>Medical City</h5>
                                                <span>Ortigas, Pasig</span>
                                            </div>
                                        </div>
                                        <div class="clinic-stats">
                                            <div class="clinic-stat">
                                                <div class="clinic-stat-value">312</div>
                                                <div class="clinic-stat-label">Total Exams</div>
                                            </div>
                                            <div class="clinic-stat">
                                                <div class="clinic-stat-value">99%</div>
                                                <div class="clinic-stat-label">Pass Rate</div>
                                            </div>
                                            <div class="clinic-stat">
                                                <div class="clinic-stat-value">1.8</div>
                                                <div class="clinic-stat-label">Avg Days</div>
                                            </div>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 12px;">
                                            <span class="clinic-status active">
                                                <span class="clinic-status-dot"></span>
                                                Active Partner
                                            </span>
                                            <button class="btn btn-ghost" style="padding: 6px 10px; font-size: 11px;" onclick="openClinicDetailModal('mc')">View Details</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Quick Stats -->
                            <div class="content-card">
                                <div class="content-card-header">
                                    <h3 class="content-card-title" style="display: flex; align-items: center; gap: 8px;">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--success)" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                                        This Month
                                    </h3>
                                </div>
                                <div class="content-card-body" style="padding: 16px;">
                                    <div style="display: grid; gap: 12px;">
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: rgba(16,185,129,0.05); border-radius: 10px;">
                                            <span style="font-size: 13px; color: var(--gray-600);">Total Examinations</span>
                                            <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">187</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: rgba(16,185,129,0.05); border-radius: 10px;">
                                            <span style="font-size: 13px; color: var(--gray-600);">Pass Rate</span>
                                            <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--success);">97.8%</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: rgba(16,185,129,0.05); border-radius: 10px;">
                                            <span style="font-size: 13px; color: var(--gray-600);">Avg Processing Time</span>
                                            <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy);">2.1 days</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; background: rgba(239,68,68,0.05); border-radius: 10px;">
                                            <span style="font-size: 13px; color: var(--gray-600);">Failed/Conditional</span>
                                            <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--danger);">4</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- FLAG STATE APPLICATION PAGE -->
            <div class="page" id="page-flag-state">
                <div class="page-content" style="padding: 24px; max-width: 100%; overflow-x: hidden;">
                    <!-- Header -->
                    <div class="rfa-header" style="margin-bottom: 24px;">
                        <div>
                            <h2 style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 28px; display: flex; align-items: center; gap: 12px;">
                                <span style="font-size: 32px;"></span> Flag State Applications
                            </h2>
                            <p style="color: var(--gray-500); margin-top: 4px;">Certificate & Endorsement Management  Multi-Flag Support</p>
                        </div>
                        <div style="display: flex; gap: 12px; align-items: center;">
                            <button class="btn btn-ghost" onclick="openManageFlagStatesModal()" style="background: rgba(139,92,246,0.1); color: #8B5CF6;">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
                                Manage Flags
                            </button>
                            <button class="btn btn-primary" onclick="openNewFlagApplicationModal()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                                New Application
                            </button>
                        </div>
                    </div>
                    
                    <!-- Stats Cards -->
                    <div class="rfa-stats-row" style="margin-bottom: 24px;">
                        <div class="rfa-stat-card" style="border-left: 4px solid var(--warning);">
                            <div class="rfa-stat-icon" style="background: rgba(245,158,11,0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="var(--warning)" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg></div>
                            <div class="rfa-stat-content"><div class="rfa-stat-value">12</div><div class="rfa-stat-label">Pending</div></div>
                        </div>
                        <div class="rfa-stat-card" style="border-left: 4px solid var(--info);">
                            <div class="rfa-stat-icon" style="background: rgba(59,130,246,0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="var(--info)" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg></div>
                            <div class="rfa-stat-content"><div class="rfa-stat-value">8</div><div class="rfa-stat-label">In Review</div></div>
                        </div>
                        <div class="rfa-stat-card" style="border-left: 4px solid var(--purple);">
                            <div class="rfa-stat-icon" style="background: rgba(139,92,246,0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="var(--purple)" stroke-width="2"><path d="M12 1v22M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg></div>
                            <div class="rfa-stat-content"><div class="rfa-stat-value">5</div><div class="rfa-stat-label">Payment Due</div></div>
                        </div>
                        <div class="rfa-stat-card" style="border-left: 4px solid var(--success);">
                            <div class="rfa-stat-icon" style="background: rgba(16,185,129,0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="var(--success)" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg></div>
                            <div class="rfa-stat-content"><div class="rfa-stat-value">156</div><div class="rfa-stat-label">Completed</div></div>
                        </div>
                        <div class="rfa-stat-card" style="border-left: 4px solid var(--teal);">
                            <div class="rfa-stat-icon" style="background: rgba(23,162,184,0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="var(--teal)" stroke-width="2"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" y1="22" x2="4" y2="15"/></svg></div>
                            <div class="rfa-stat-content"><div class="rfa-stat-value">8</div><div class="rfa-stat-label">Flag States</div></div>
                        </div>
                    </div>
                    
                    <!-- Filter Bar -->
                    <div style="display: flex; gap: 16px; margin-bottom: 24px; flex-wrap: wrap; align-items: center;">
                        <div style="flex: 1; min-width: 250px; position: relative;">
                            <svg style="position: absolute; left: 14px; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; stroke: var(--gray-400);" viewBox="0 0 24 24" fill="none" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                            <input type="text" placeholder="Search by seafarer, vessel, or application ID..." style="width: 100%; padding: 12px 14px 12px 44px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                        </div>
                        <select style="padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-width: 160px;">
                            <option value="">All Flag States</option>
                            <option value="LR"> Liberia</option>
                            <option value="MH"> Marshall Islands</option>
                            <option value="PA"> Panama</option>
                            <option value="MT"> Malta</option>
                            <option value="CY"> Cyprus</option>
                            <option value="BS"> Bahamas</option>
                            <option value="GR"> Greece</option>
                            <option value="SG"> Singapore</option>
                        </select>
                        <select style="padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-width: 180px;">
                            <option value="">All Application Types</option>
                            <option value="cdc">Seafarer's Book / CDC</option>
                            <option value="endorsement">Flag State Endorsement</option>
                            <option value="medical">Medical Certificate</option>
                            <option value="gmdss">GMDSS License</option>
                            <option value="tanker-oil">Tanker - Oil</option>
                            <option value="tanker-chem">Tanker - Chemical</option>
                            <option value="tanker-gas">Tanker - Gas/LNG</option>
                        </select>
                        <select style="padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-width: 140px;">
                            <option value="">All Stages</option>
                            <option value="docs"> Document Collection</option>
                            <option value="submitted"> Submitted</option>
                            <option value="review"> Under Review</option>
                            <option value="payment"> Payment Due</option>
                            <option value="issued"> Issued</option>
                            <option value="delivered"> Delivered</option>
                        </select>
                    </div>
                    
                    <!-- Pipeline View -->
                    <div class="flag-pipeline" style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 16px; margin-bottom: 24px;">
                        <!-- Stage 1: Document Collection -->
                        <div class="flag-pipeline-column">
                            <div class="flag-pipeline-header" style="background: linear-gradient(135deg, var(--gray-500), var(--gray-600)); color: white; padding: 14px 16px; border-radius: 12px 12px 0 0; display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-weight: 700; font-size: 13px;"> Documents</span>
                                <span style="background: rgba(255,255,255,0.2); padding: 4px 10px; border-radius: 20px; font-size: 12px;">4</span>
                            </div>
                            <div class="flag-pipeline-cards" style="background: var(--gray-50); padding: 12px; border-radius: 0 0 12px 12px; min-height: 400px; display: flex; flex-direction: column; gap: 10px;">
                                <div class="flag-app-card" onclick="openFlagAppDetailModal('FSA-2026-0089')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0089</span></div>
                                    <div class="flag-app-name">Juan Dela Cruz</div>
                                    <div class="flag-app-type">Flag State Endorsement</div>
                                    <div class="flag-app-meta"><span>Chief Officer</span><span>2 days ago</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 20%;"></div></div>
                                    <div class="flag-app-docs"><span class="doc-missing">3 docs missing</span></div>
                                </div>
                                <div class="flag-app-card" onclick="openFlagAppDetailModal('FSA-2026-0088')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0088</span></div>
                                    <div class="flag-app-name">Michael Reyes</div>
                                    <div class="flag-app-type">Seafarer's Book / CDC</div>
                                    <div class="flag-app-meta"><span>2nd Engineer</span><span>1 day ago</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 40%;"></div></div>
                                    <div class="flag-app-docs"><span class="doc-missing">1 doc missing</span></div>
                                </div>
                                <div class="flag-app-card" onclick="openFlagAppDetailModal('FSA-2026-0087')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0087</span></div>
                                    <div class="flag-app-name">Roberto Garcia</div>
                                    <div class="flag-app-type">GMDSS License</div>
                                    <div class="flag-app-meta"><span>Radio Officer</span><span>3 days ago</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 30%;"></div></div>
                                    <div class="flag-app-docs"><span class="doc-missing">2 docs missing</span></div>
                                </div>
                                <div class="flag-app-card" onclick="openFlagAppDetailModal('FSA-2026-0086')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0086</span></div>
                                    <div class="flag-app-name">Antonio Santos</div>
                                    <div class="flag-app-type">Tanker Endorsement - Oil</div>
                                    <div class="flag-app-meta"><span>AB Seaman</span><span>Today</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 10%;"></div></div>
                                    <div class="flag-app-docs"><span class="doc-missing">5 docs missing</span></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Stage 2: Submitted -->
                        <div class="flag-pipeline-column">
                            <div class="flag-pipeline-header" style="background: linear-gradient(135deg, var(--info), #60A5FA); color: white; padding: 14px 16px; border-radius: 12px 12px 0 0; display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-weight: 700; font-size: 13px;"> Submitted</span>
                                <span style="background: rgba(255,255,255,0.2); padding: 4px 10px; border-radius: 20px; font-size: 12px;">3</span>
                            </div>
                            <div class="flag-pipeline-cards" style="background: var(--gray-50); padding: 12px; border-radius: 0 0 12px 12px; min-height: 400px; display: flex; flex-direction: column; gap: 10px;">
                                <div class="flag-app-card" onclick="openFlagAppDetailModal('FSA-2026-0082')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0082</span></div>
                                    <div class="flag-app-name">Pedro Lopez</div>
                                    <div class="flag-app-type">Flag State Endorsement</div>
                                    <div class="flag-app-meta"><span>Bosun</span><span>Submitted 2h ago</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 35%;"></div></div>
                                </div>
                                <div class="flag-app-card" onclick="openFlagAppDetailModal('FSA-2026-0081')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0081</span></div>
                                    <div class="flag-app-name">Carlos Mendoza</div>
                                    <div class="flag-app-type">Medical Certificate</div>
                                    <div class="flag-app-meta"><span>Chief Cook</span><span>Submitted yesterday</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 35%;"></div></div>
                                </div>
                                <div class="flag-app-card" onclick="openFlagAppDetailModal('FSA-2026-0080')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0080</span></div>
                                    <div class="flag-app-name">Fernando Cruz</div>
                                    <div class="flag-app-type">Tanker - Chemical</div>
                                    <div class="flag-app-meta"><span>Pumpman</span><span>Submitted 3 days ago</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 35%;"></div></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Stage 3: Under Review -->
                        <div class="flag-pipeline-column">
                            <div class="flag-pipeline-header" style="background: linear-gradient(135deg, var(--warning), #FBBF24); color: white; padding: 14px 16px; border-radius: 12px 12px 0 0; display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-weight: 700; font-size: 13px;"> Under Review</span>
                                <span style="background: rgba(255,255,255,0.2); padding: 4px 10px; border-radius: 20px; font-size: 12px;">5</span>
                            </div>
                            <div class="flag-pipeline-cards" style="background: var(--gray-50); padding: 12px; border-radius: 0 0 12px 12px; min-height: 400px; display: flex; flex-direction: column; gap: 10px;">
                                <div class="flag-app-card" onclick="openFlagAppDetailModal('FSA-2026-0075')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0075</span></div>
                                    <div class="flag-app-name">Ricardo Bautista</div>
                                    <div class="flag-app-type">Seafarer's Book / CDC</div>
                                    <div class="flag-app-meta"><span>3rd Officer</span><span>Est. 5 days</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 50%;"></div></div>
                                </div>
                                <div class="flag-app-card" onclick="openFlagAppDetailModal('FSA-2026-0074')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0074</span></div>
                                    <div class="flag-app-name">Jose Villanueva</div>
                                    <div class="flag-app-type">GMDSS License</div>
                                    <div class="flag-app-meta"><span>ETO</span><span>Est. 3 days</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 55%;"></div></div>
                                </div>
                                <div class="flag-app-card urgent" onclick="openFlagAppDetailModal('FSA-2026-0073')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0073</span><span class="urgent-badge"> Query</span></div>
                                    <div class="flag-app-name">Mark Gonzales</div>
                                    <div class="flag-app-type">Flag State Endorsement</div>
                                    <div class="flag-app-meta"><span>Chief Engineer</span><span>Response needed</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 45%;"></div></div>
                                </div>
                                <div class="flag-app-card" onclick="openFlagAppDetailModal('FSA-2026-0072')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0072</span></div>
                                    <div class="flag-app-name">Nikos Papadopoulos</div>
                                    <div class="flag-app-type">Tanker - Gas/LNG</div>
                                    <div class="flag-app-meta"><span>Gas Engineer</span><span>Est. 7 days</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 50%;"></div></div>
                                </div>
                                <div class="flag-app-card" onclick="openFlagAppDetailModal('FSA-2026-0071')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0071</span></div>
                                    <div class="flag-app-name">David Tan</div>
                                    <div class="flag-app-type">Medical Certificate</div>
                                    <div class="flag-app-meta"><span>Master</span><span>Est. 2 days</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 60%;"></div></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Stage 4: Payment Due -->
                        <div class="flag-pipeline-column">
                            <div class="flag-pipeline-header" style="background: linear-gradient(135deg, var(--purple), #A78BFA); color: white; padding: 14px 16px; border-radius: 12px 12px 0 0; display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-weight: 700; font-size: 13px;"> Payment Due</span>
                                <span style="background: rgba(255,255,255,0.2); padding: 4px 10px; border-radius: 20px; font-size: 12px;">3</span>
                            </div>
                            <div class="flag-pipeline-cards" style="background: var(--gray-50); padding: 12px; border-radius: 0 0 12px 12px; min-height: 400px; display: flex; flex-direction: column; gap: 10px;">
                                <div class="flag-app-card" onclick="openFlagAppDetailModal('FSA-2026-0068')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0068</span></div>
                                    <div class="flag-app-name">Eduardo Silva</div>
                                    <div class="flag-app-type">Flag State Endorsement</div>
                                    <div class="flag-app-meta"><span>2nd Officer</span><span class="payment-amount">$185</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 70%;"></div></div>
                                    <button class="flag-pay-btn" onclick="event.stopPropagation(); processPayment('FSA-2026-0068')">Pay Now</button>
                                </div>
                                <div class="flag-app-card" onclick="openFlagAppDetailModal('FSA-2026-0067')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0067</span></div>
                                    <div class="flag-app-name">Ramon Torres</div>
                                    <div class="flag-app-type">Seafarer's Book / CDC</div>
                                    <div class="flag-app-meta"><span>Oiler</span><span class="payment-amount">$250</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 70%;"></div></div>
                                    <button class="flag-pay-btn" onclick="event.stopPropagation(); processPayment('FSA-2026-0067')">Pay Now</button>
                                </div>
                                <div class="flag-app-card" onclick="openFlagAppDetailModal('FSA-2026-0066')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0066</span></div>
                                    <div class="flag-app-name">Luis Fernandez</div>
                                    <div class="flag-app-type">GMDSS License</div>
                                    <div class="flag-app-meta"><span>Radio Officer</span><span class="payment-amount">$320</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 70%;"></div></div>
                                    <button class="flag-pay-btn" onclick="event.stopPropagation(); processPayment('FSA-2026-0066')">Pay Now</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Stage 5: Issued -->
                        <div class="flag-pipeline-column">
                            <div class="flag-pipeline-header" style="background: linear-gradient(135deg, var(--teal), var(--teal-light)); color: white; padding: 14px 16px; border-radius: 12px 12px 0 0; display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-weight: 700; font-size: 13px;"> Issued</span>
                                <span style="background: rgba(255,255,255,0.2); padding: 4px 10px; border-radius: 20px; font-size: 12px;">4</span>
                            </div>
                            <div class="flag-pipeline-cards" style="background: var(--gray-50); padding: 12px; border-radius: 0 0 12px 12px; min-height: 400px; display: flex; flex-direction: column; gap: 10px;">
                                <div class="flag-app-card completed" onclick="openFlagAppDetailModal('FSA-2026-0062')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0062</span></div>
                                    <div class="flag-app-name">George Dimitriou</div>
                                    <div class="flag-app-type">Flag State Endorsement</div>
                                    <div class="flag-app-meta"><span>Master</span><span>Issued Feb 8</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 85%;"></div></div>
                                </div>
                                <div class="flag-app-card completed" onclick="openFlagAppDetailModal('FSA-2026-0061')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0061</span></div>
                                    <div class="flag-app-name">Paolo Marino</div>
                                    <div class="flag-app-type">Tanker - Oil</div>
                                    <div class="flag-app-meta"><span>Pumpman</span><span>Issued Feb 7</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 85%;"></div></div>
                                </div>
                                <div class="flag-app-card completed" onclick="openFlagAppDetailModal('FSA-2026-0060')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0060</span></div>
                                    <div class="flag-app-name">Andreas Kosta</div>
                                    <div class="flag-app-type">Medical Certificate</div>
                                    <div class="flag-app-meta"><span>Chief Officer</span><span>Issued Feb 6</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 85%;"></div></div>
                                </div>
                                <div class="flag-app-card completed" onclick="openFlagAppDetailModal('FSA-2026-0059')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0059</span></div>
                                    <div class="flag-app-name">Marco Alvarez</div>
                                    <div class="flag-app-type">Seafarer's Book / CDC</div>
                                    <div class="flag-app-meta"><span>3rd Engineer</span><span>Issued Feb 5</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 85%;"></div></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Stage 6: Delivered -->
                        <div class="flag-pipeline-column">
                            <div class="flag-pipeline-header" style="background: linear-gradient(135deg, var(--success), #34D399); color: white; padding: 14px 16px; border-radius: 12px 12px 0 0; display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-weight: 700; font-size: 13px;"> Delivered</span>
                                <span style="background: rgba(255,255,255,0.2); padding: 4px 10px; border-radius: 20px; font-size: 12px;">6</span>
                            </div>
                            <div class="flag-pipeline-cards" style="background: var(--gray-50); padding: 12px; border-radius: 0 0 12px 12px; min-height: 400px; display: flex; flex-direction: column; gap: 10px;">
                                <div class="flag-app-card done" onclick="openFlagAppDetailModal('FSA-2026-0055')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0055</span><span class="done-badge"> Complete</span></div>
                                    <div class="flag-app-name">Miguel Santos</div>
                                    <div class="flag-app-type">Flag State Endorsement</div>
                                    <div class="flag-app-meta"><span>2nd Engineer</span><span>Feb 4</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 100%;"></div></div>
                                </div>
                                <div class="flag-app-card done" onclick="openFlagAppDetailModal('FSA-2026-0054')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0054</span><span class="done-badge"> Complete</span></div>
                                    <div class="flag-app-name">Dante Rosario</div>
                                    <div class="flag-app-type">GMDSS License</div>
                                    <div class="flag-app-meta"><span>ETO</span><span>Feb 3</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 100%;"></div></div>
                                </div>
                                <div class="flag-app-card done" onclick="openFlagAppDetailModal('FSA-2026-0053')">
                                    <div class="flag-app-header"><span class="flag-emoji"></span><span class="flag-app-id">FSA-2026-0053</span><span class="done-badge"> Complete</span></div>
                                    <div class="flag-app-name">Victor Ramos</div>
                                    <div class="flag-app-type">Tanker - Chemical</div>
                                    <div class="flag-app-meta"><span>Bosun</span><span>Feb 2</span></div>
                                    <div class="flag-app-progress"><div class="flag-app-progress-bar" style="width: 100%;"></div></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Fee Calculator Section -->
                    <div style="background: white; border-radius: 20px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.06);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3 style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 18px; display: flex; align-items: center; gap: 10px;">
                                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="var(--purple)" stroke-width="2"><path d="M12 1v22M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                                Fee Calculator & Processing Times
                            </h3>
                            <button class="btn btn-ghost" style="font-size: 13px;">View Full Price List </button>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
                            <div style="background: linear-gradient(135deg, rgba(185,28,28,0.05) 0%, rgba(185,28,28,0.1) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(185,28,28,0.2);">
                                <div style="font-size: 32px; margin-bottom: 8px;"></div>
                                <div style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 16px;">Liberia</div>
                                <div style="font-size: 12px; color: var(--gray-500); margin-bottom: 12px;">LISCR</div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 6px;"><span>Endorsement</span><span style="font-weight: 700;">$185</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 6px;"><span>CDC</span><span style="font-weight: 700;">$250</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; color: var(--teal);"><span> Processing</span><span style="font-weight: 700;">5-7 days</span></div>
                            </div>
                            <div style="background: linear-gradient(135deg, rgba(0,56,147,0.05) 0%, rgba(0,56,147,0.1) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(0,56,147,0.2);">
                                <div style="font-size: 32px; margin-bottom: 8px;"></div>
                                <div style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 16px;">Marshall Islands</div>
                                <div style="font-size: 12px; color: var(--gray-500); margin-bottom: 12px;">IRI</div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 6px;"><span>Endorsement</span><span style="font-weight: 700;">$200</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 6px;"><span>CDC</span><span style="font-weight: 700;">$275</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; color: var(--teal);"><span> Processing</span><span style="font-weight: 700;">7-10 days</span></div>
                            </div>
                            <div style="background: linear-gradient(135deg, rgba(0,78,152,0.05) 0%, rgba(0,78,152,0.1) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(0,78,152,0.2);">
                                <div style="font-size: 32px; margin-bottom: 8px;"></div>
                                <div style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 16px;">Panama</div>
                                <div style="font-size: 12px; color: var(--gray-500); margin-bottom: 12px;">PMA</div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 6px;"><span>Endorsement</span><span style="font-weight: 700;">$165</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 6px;"><span>GMDSS</span><span style="font-weight: 700;">$320</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; color: var(--teal);"><span> Processing</span><span style="font-weight: 700;">10-14 days</span></div>
                            </div>
                            <div style="background: linear-gradient(135deg, rgba(207,20,43,0.05) 0%, rgba(207,20,43,0.1) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(207,20,43,0.2);">
                                <div style="font-size: 32px; margin-bottom: 8px;"></div>
                                <div style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 16px;">Malta</div>
                                <div style="font-size: 12px; color: var(--gray-500); margin-bottom: 12px;">Transport Malta</div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 6px;"><span>Endorsement</span><span style="font-weight: 700;">180</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 6px;"><span>CDC</span><span style="font-weight: 700;">220</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; color: var(--teal);"><span> Processing</span><span style="font-weight: 700;">5-7 days</span></div>
                            </div>
                            <div style="background: linear-gradient(135deg, rgba(0,107,56,0.05) 0%, rgba(0,107,56,0.1) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(0,107,56,0.2);">
                                <div style="font-size: 32px; margin-bottom: 8px;"></div>
                                <div style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 16px;">Cyprus</div>
                                <div style="font-size: 12px; color: var(--gray-500); margin-bottom: 12px;">DMLC</div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 6px;"><span>Endorsement</span><span style="font-weight: 700;">150</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 6px;"><span>Medical</span><span style="font-weight: 700;">85</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; color: var(--teal);"><span> Processing</span><span style="font-weight: 700;">3-5 days</span></div>
                            </div>
                            <div style="background: linear-gradient(135deg, rgba(0,174,239,0.05) 0%, rgba(0,174,239,0.1) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(0,174,239,0.2);">
                                <div style="font-size: 32px; margin-bottom: 8px;"></div>
                                <div style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 16px;">Bahamas</div>
                                <div style="font-size: 12px; color: var(--gray-500); margin-bottom: 12px;">BMA</div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 6px;"><span>Endorsement</span><span style="font-weight: 700;">$195</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 6px;"><span>Tanker</span><span style="font-weight: 700;">$145</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 13px; color: var(--teal);"><span> Processing</span><span style="font-weight: 700;">7-10 days</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- CREW VISA APPLICATION PAGE -->
            <div class="page" id="page-crew-visa">
                <div class="page-content" style="padding: 24px; max-width: 100%; overflow-x: hidden;">
                    <!-- Header -->
                    <div class="rfa-header" style="margin-bottom: 24px;">
                        <div>
                            <h2 style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 28px; display: flex; align-items: center; gap: 12px;">
                                <span style="font-size: 32px;"></span> Crew Visa Applications
                            </h2>
                            <p style="color: var(--gray-500); margin-top: 4px;">Embassy Appointments & Visa Document Management</p>
                        </div>
                        <div style="display: flex; gap: 12px; align-items: center;">
                            <button class="btn btn-ghost" onclick="openManageCountriesModal()" style="background: rgba(23,162,184,0.1); color: var(--teal);">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                                Manage Countries
                            </button>
                            <button class="btn btn-primary" onclick="openNewVisaApplicationModal()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                                New Visa Application
                            </button>
                        </div>
                    </div>
                    
                    <!-- Stats Cards -->
                    <div class="rfa-stats-row" style="margin-bottom: 24px;">
                        <div class="rfa-stat-card" style="border-left: 4px solid var(--gray-500);">
                            <div class="rfa-stat-icon" style="background: rgba(107,114,128,0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="var(--gray-500)" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg></div>
                            <div class="rfa-stat-content"><div class="rfa-stat-value">8</div><div class="rfa-stat-label">Preparing Docs</div></div>
                        </div>
                        <div class="rfa-stat-card" style="border-left: 4px solid var(--warning);">
                            <div class="rfa-stat-icon" style="background: rgba(245,158,11,0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="var(--warning)" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg></div>
                            <div class="rfa-stat-content"><div class="rfa-stat-value">5</div><div class="rfa-stat-label">Embassy Appt</div></div>
                        </div>
                        <div class="rfa-stat-card" style="border-left: 4px solid var(--info);">
                            <div class="rfa-stat-icon" style="background: rgba(59,130,246,0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="var(--info)" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg></div>
                            <div class="rfa-stat-content"><div class="rfa-stat-value">12</div><div class="rfa-stat-label">Processing</div></div>
                        </div>
                        <div class="rfa-stat-card" style="border-left: 4px solid var(--success);">
                            <div class="rfa-stat-icon" style="background: rgba(16,185,129,0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="var(--success)" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg></div>
                            <div class="rfa-stat-content"><div class="rfa-stat-value">89</div><div class="rfa-stat-label">Approved</div></div>
                        </div>
                        <div class="rfa-stat-card" style="border-left: 4px solid var(--danger);">
                            <div class="rfa-stat-icon" style="background: rgba(239,68,68,0.1);"><svg viewBox="0 0 24 24" fill="none" stroke="var(--danger)" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg></div>
                            <div class="rfa-stat-content"><div class="rfa-stat-value">3</div><div class="rfa-stat-label">Denied</div></div>
                        </div>
                    </div>
                    
                    <!-- Filter Bar -->
                    <div style="display: flex; gap: 16px; margin-bottom: 24px; flex-wrap: wrap; align-items: center;">
                        <div style="flex: 1; min-width: 250px; position: relative;">
                            <svg style="position: absolute; left: 14px; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; stroke: var(--gray-400);" viewBox="0 0 24 24" fill="none" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                            <input type="text" placeholder="Search by seafarer, passport, or application ID..." style="width: 100%; padding: 12px 14px 12px 44px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                        </div>
                        <select id="visa-country-filter" style="padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-width: 160px;">
                            <option value="">All Countries</option>
                            <option value="US"> United States</option>
                            <option value="UK"> United Kingdom</option>
                            <option value="JP"> Japan</option>
                            <option value="AU"> Australia</option>
                            <option value="SG"> Singapore</option>
                            <option value="AE"> UAE</option>
                            <option value="SA"> Saudi Arabia</option>
                            <option value="CN"> China</option>
                            <option value="KR"> South Korea</option>
                            <option value="DE"> Germany (Schengen)</option>
                        </select>
                        <select style="padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-width: 150px;">
                            <option value="">All Visa Types</option>
                            <option value="c1d">C1/D Transit (US)</option>
                            <option value="seaman">Seaman Visa</option>
                            <option value="transit">Transit Visa</option>
                            <option value="work">Work Visa</option>
                            <option value="schengen">Schengen Visa</option>
                        </select>
                        <select style="padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-width: 140px;">
                            <option value="">All Stages</option>
                            <option value="docs"> Preparing Docs</option>
                            <option value="appointment"> Embassy Appt</option>
                            <option value="submitted"> Submitted</option>
                            <option value="processing"> Processing</option>
                            <option value="approved"> Approved</option>
                            <option value="denied"> Denied</option>
                        </select>
                    </div>
                    
                    <!-- Pipeline View -->
                    <div class="visa-pipeline" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 16px; margin-bottom: 24px;">
                        <!-- Stage 1: Preparing Documents -->
                        <div class="visa-pipeline-column">
                            <div class="visa-pipeline-header" style="background: linear-gradient(135deg, var(--gray-500), var(--gray-600)); color: white; padding: 14px 16px; border-radius: 12px 12px 0 0; display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-weight: 700; font-size: 13px;"> Preparing</span>
                                <span style="background: rgba(255,255,255,0.2); padding: 4px 10px; border-radius: 20px; font-size: 12px;">4</span>
                            </div>
                            <div class="visa-pipeline-cards" style="background: var(--gray-50); padding: 12px; border-radius: 0 0 12px 12px; min-height: 400px; display: flex; flex-direction: column; gap: 10px;">
                                <div class="visa-app-card" onclick="openVisaDetailModal('VSA-2026-0145')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0145</span></div>
                                    <div class="visa-app-name">Juan Dela Cruz</div>
                                    <div class="visa-app-type">C1/D Transit Visa</div>
                                    <div class="visa-app-vessel">MV Diana Pioneer</div>
                                    <div class="visa-app-meta"><span>Chief Officer</span><span>2 days ago</span></div>
                                    <div class="visa-doc-status"><span class="docs-pending"> 3/7 docs ready</span></div>
                                </div>
                                <div class="visa-app-card" onclick="openVisaDetailModal('VSA-2026-0144')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0144</span></div>
                                    <div class="visa-app-name">Michael Reyes</div>
                                    <div class="visa-app-type">Seaman Visa</div>
                                    <div class="visa-app-vessel">MV Centrofin Glory</div>
                                    <div class="visa-app-meta"><span>2nd Engineer</span><span>1 day ago</span></div>
                                    <div class="visa-doc-status"><span class="docs-pending"> 5/8 docs ready</span></div>
                                </div>
                                <div class="visa-app-card" onclick="openVisaDetailModal('VSA-2026-0143')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0143</span></div>
                                    <div class="visa-app-name">Roberto Garcia</div>
                                    <div class="visa-app-type">Shore Pass</div>
                                    <div class="visa-app-vessel">MV Pioneer Oceania</div>
                                    <div class="visa-app-meta"><span>Bosun</span><span>Today</span></div>
                                    <div class="visa-doc-status"><span class="docs-pending"> 2/5 docs ready</span></div>
                                </div>
                                <div class="visa-app-card" onclick="openVisaDetailModal('VSA-2026-0142')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0142</span></div>
                                    <div class="visa-app-name">Antonio Santos</div>
                                    <div class="visa-app-type">Maritime Crew Visa</div>
                                    <div class="visa-app-vessel">MV Diana Voyager</div>
                                    <div class="visa-app-meta"><span>AB Seaman</span><span>3 days ago</span></div>
                                    <div class="visa-doc-status"><span class="docs-pending"> 4/6 docs ready</span></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Stage 2: Embassy Appointment -->
                        <div class="visa-pipeline-column">
                            <div class="visa-pipeline-header" style="background: linear-gradient(135deg, var(--warning), #FBBF24); color: white; padding: 14px 16px; border-radius: 12px 12px 0 0; display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-weight: 700; font-size: 13px;"> Appointment</span>
                                <span style="background: rgba(255,255,255,0.2); padding: 4px 10px; border-radius: 20px; font-size: 12px;">3</span>
                            </div>
                            <div class="visa-pipeline-cards" style="background: var(--gray-50); padding: 12px; border-radius: 0 0 12px 12px; min-height: 400px; display: flex; flex-direction: column; gap: 10px;">
                                <div class="visa-app-card appointment" onclick="openVisaDetailModal('VSA-2026-0138')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0138</span></div>
                                    <div class="visa-app-name">Pedro Lopez</div>
                                    <div class="visa-app-type">C1/D Transit Visa</div>
                                    <div class="visa-app-vessel">MV Hellas Pioneer</div>
                                    <div class="visa-appointment"><span class="appt-date"> Feb 15, 2026</span><span class="appt-time">09:30 AM</span></div>
                                    <div class="visa-embassy">US Embassy Manila</div>
                                </div>
                                <div class="visa-app-card appointment" onclick="openVisaDetailModal('VSA-2026-0137')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0137</span></div>
                                    <div class="visa-app-name">Carlos Mendoza</div>
                                    <div class="visa-app-type">Work Permit</div>
                                    <div class="visa-app-vessel">MV Singapore Star</div>
                                    <div class="visa-appointment"><span class="appt-date"> Feb 18, 2026</span><span class="appt-time">10:00 AM</span></div>
                                    <div class="visa-embassy">SG Embassy Manila</div>
                                </div>
                                <div class="visa-app-card appointment urgent" onclick="openVisaDetailModal('VSA-2026-0136')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0136</span><span class="urgent-badge">Tomorrow!</span></div>
                                    <div class="visa-app-name">Fernando Cruz</div>
                                    <div class="visa-app-type">UAE Seaman Visa</div>
                                    <div class="visa-app-vessel">MV Dubai Express</div>
                                    <div class="visa-appointment"><span class="appt-date"> Feb 11, 2026</span><span class="appt-time">08:00 AM</span></div>
                                    <div class="visa-embassy">UAE Embassy Manila</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Stage 3: Processing -->
                        <div class="visa-pipeline-column">
                            <div class="visa-pipeline-header" style="background: linear-gradient(135deg, var(--info), #60A5FA); color: white; padding: 14px 16px; border-radius: 12px 12px 0 0; display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-weight: 700; font-size: 13px;"> Processing</span>
                                <span style="background: rgba(255,255,255,0.2); padding: 4px 10px; border-radius: 20px; font-size: 12px;">5</span>
                            </div>
                            <div class="visa-pipeline-cards" style="background: var(--gray-50); padding: 12px; border-radius: 0 0 12px 12px; min-height: 400px; display: flex; flex-direction: column; gap: 10px;">
                                <div class="visa-app-card processing" onclick="openVisaDetailModal('VSA-2026-0130')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0130</span></div>
                                    <div class="visa-app-name">Ricardo Bautista</div>
                                    <div class="visa-app-type">C1/D Transit Visa</div>
                                    <div class="visa-app-vessel">MV Diana Carrier</div>
                                    <div class="visa-processing-info"><span>Est. 5-7 business days</span></div>
                                    <div class="visa-progress"><div class="visa-progress-bar" style="width: 60%;"></div></div>
                                </div>
                                <div class="visa-app-card processing" onclick="openVisaDetailModal('VSA-2026-0129')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0129</span></div>
                                    <div class="visa-app-name">Jose Villanueva</div>
                                    <div class="visa-app-type">UK Seaman Visa</div>
                                    <div class="visa-app-vessel">MV British Trader</div>
                                    <div class="visa-processing-info"><span>Est. 10-15 business days</span></div>
                                    <div class="visa-progress"><div class="visa-progress-bar" style="width: 40%;"></div></div>
                                </div>
                                <div class="visa-app-card processing" onclick="openVisaDetailModal('VSA-2026-0128')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0128</span></div>
                                    <div class="visa-app-name">Mark Gonzales</div>
                                    <div class="visa-app-type">Schengen Visa</div>
                                    <div class="visa-app-vessel">MV Euro Navigator</div>
                                    <div class="visa-processing-info"><span>Est. 7-10 business days</span></div>
                                    <div class="visa-progress"><div class="visa-progress-bar" style="width: 70%;"></div></div>
                                </div>
                                <div class="visa-app-card processing" onclick="openVisaDetailModal('VSA-2026-0127')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0127</span></div>
                                    <div class="visa-app-name">David Tan</div>
                                    <div class="visa-app-type">Shore Pass</div>
                                    <div class="visa-app-vessel">MV Tokyo Maru</div>
                                    <div class="visa-processing-info"><span>Est. 3-5 business days</span></div>
                                    <div class="visa-progress"><div class="visa-progress-bar" style="width: 80%;"></div></div>
                                </div>
                                <div class="visa-app-card processing" onclick="openVisaDetailModal('VSA-2026-0126')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0126</span></div>
                                    <div class="visa-app-name">Eduardo Silva</div>
                                    <div class="visa-app-type">D-8 Seaman Visa</div>
                                    <div class="visa-app-vessel">MV Seoul Express</div>
                                    <div class="visa-processing-info"><span>Est. 5 business days</span></div>
                                    <div class="visa-progress"><div class="visa-progress-bar" style="width: 50%;"></div></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Stage 4: Approved -->
                        <div class="visa-pipeline-column">
                            <div class="visa-pipeline-header" style="background: linear-gradient(135deg, var(--success), #34D399); color: white; padding: 14px 16px; border-radius: 12px 12px 0 0; display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-weight: 700; font-size: 13px;"> Approved</span>
                                <span style="background: rgba(255,255,255,0.2); padding: 4px 10px; border-radius: 20px; font-size: 12px;">4</span>
                            </div>
                            <div class="visa-pipeline-cards" style="background: var(--gray-50); padding: 12px; border-radius: 0 0 12px 12px; min-height: 400px; display: flex; flex-direction: column; gap: 10px;">
                                <div class="visa-app-card approved" onclick="openVisaDetailModal('VSA-2026-0120')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0120</span><span class="approved-badge"> Approved</span></div>
                                    <div class="visa-app-name">Miguel Santos</div>
                                    <div class="visa-app-type">C1/D Transit Visa</div>
                                    <div class="visa-validity">Valid: Feb 2026 - Feb 2028</div>
                                    <button class="visa-pickup-btn" onclick="event.stopPropagation(); pickupVisa('VSA-2026-0120')"> Ready for Pickup</button>
                                </div>
                                <div class="visa-app-card approved" onclick="openVisaDetailModal('VSA-2026-0119')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0119</span><span class="approved-badge"> Approved</span></div>
                                    <div class="visa-app-name">Dante Rosario</div>
                                    <div class="visa-app-type">Work Permit</div>
                                    <div class="visa-validity">Valid: Feb 2026 - Feb 2027</div>
                                    <button class="visa-pickup-btn" onclick="event.stopPropagation(); pickupVisa('VSA-2026-0119')"> Ready for Pickup</button>
                                </div>
                                <div class="visa-app-card approved" onclick="openVisaDetailModal('VSA-2026-0118')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0118</span><span class="approved-badge"> Approved</span></div>
                                    <div class="visa-app-name">Victor Ramos</div>
                                    <div class="visa-app-type">Maritime Crew Visa</div>
                                    <div class="visa-validity">Valid: Feb 2026 - Feb 2029</div>
                                    <button class="visa-pickup-btn" onclick="event.stopPropagation(); pickupVisa('VSA-2026-0118')"> Ready for Pickup</button>
                                </div>
                                <div class="visa-app-card approved" onclick="openVisaDetailModal('VSA-2026-0117')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0117</span><span class="approved-badge"> Approved</span></div>
                                    <div class="visa-app-name">Paolo Marino</div>
                                    <div class="visa-app-type">Shore Pass</div>
                                    <div class="visa-validity">Valid: Single Entry</div>
                                    <button class="visa-pickup-btn" onclick="event.stopPropagation(); pickupVisa('VSA-2026-0117')"> Ready for Pickup</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Stage 5: Delivered / Denied -->
                        <div class="visa-pipeline-column">
                            <div class="visa-pipeline-header" style="background: linear-gradient(135deg, var(--teal), var(--teal-light)); color: white; padding: 14px 16px; border-radius: 12px 12px 0 0; display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-weight: 700; font-size: 13px;"> Completed</span>
                                <span style="background: rgba(255,255,255,0.2); padding: 4px 10px; border-radius: 20px; font-size: 12px;">6</span>
                            </div>
                            <div class="visa-pipeline-cards" style="background: var(--gray-50); padding: 12px; border-radius: 0 0 12px 12px; min-height: 400px; display: flex; flex-direction: column; gap: 10px;">
                                <div class="visa-app-card done" onclick="openVisaDetailModal('VSA-2026-0110')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0110</span><span class="done-badge"> Delivered</span></div>
                                    <div class="visa-app-name">George Dimitriou</div>
                                    <div class="visa-app-type">C1/D Transit Visa</div>
                                    <div class="visa-app-meta"><span>Delivered Feb 5</span></div>
                                </div>
                                <div class="visa-app-card done" onclick="openVisaDetailModal('VSA-2026-0109')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0109</span><span class="done-badge"> Delivered</span></div>
                                    <div class="visa-app-name">Andreas Kosta</div>
                                    <div class="visa-app-type">UK Seaman Visa</div>
                                    <div class="visa-app-meta"><span>Delivered Feb 4</span></div>
                                </div>
                                <div class="visa-app-card done" onclick="openVisaDetailModal('VSA-2026-0108')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0108</span><span class="done-badge"> Delivered</span></div>
                                    <div class="visa-app-name">Marco Alvarez</div>
                                    <div class="visa-app-type">Schengen Visa</div>
                                    <div class="visa-app-meta"><span>Delivered Feb 3</span></div>
                                </div>
                                <div class="visa-app-card denied" onclick="openVisaDetailModal('VSA-2026-0107')">
                                    <div class="visa-app-header"><span class="visa-emoji"></span><span class="visa-app-id">VSA-2026-0107</span><span class="denied-badge"> Denied</span></div>
                                    <div class="visa-app-name">Ramon Torres</div>
                                    <div class="visa-app-type">C1/D Transit Visa</div>
                                    <div class="visa-deny-reason">Reason: Incomplete documentation</div>
                                    <button class="visa-reapply-btn" onclick="event.stopPropagation(); reapplyVisa('VSA-2026-0107')"> Reapply</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Country Visa Requirements Section -->
                    <div style="background: white; border-radius: 20px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.06);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3 style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 18px; display: flex; align-items: center; gap: 10px;">
                                <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="var(--teal)" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>
                                Country Visa Requirements & Processing Times
                            </h3>
                            <button class="btn btn-ghost" style="font-size: 13px;">View All Countries </button>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 16px;">
                            <div class="country-visa-card" style="background: linear-gradient(135deg, rgba(60,59,110,0.05) 0%, rgba(60,59,110,0.1) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(60,59,110,0.2); cursor: pointer;" onclick="showCountryVisaDetails('US')">
                                <div style="font-size: 36px; margin-bottom: 8px;"></div>
                                <div style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 16px;">United States</div>
                                <div style="font-size: 12px; color: var(--teal); font-weight: 600; margin-bottom: 12px;">C1/D Transit Visa</div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 4px;"><span style="color: var(--gray-500);">Processing</span><span style="font-weight: 600;">5-7 days</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 4px;"><span style="color: var(--gray-500);">Validity</span><span style="font-weight: 600;">2 years</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="color: var(--gray-500);">Fee</span><span style="font-weight: 700; color: var(--success);">$185</span></div>
                            </div>
                            <div class="country-visa-card" style="background: linear-gradient(135deg, rgba(1,33,105,0.05) 0%, rgba(1,33,105,0.1) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(1,33,105,0.2); cursor: pointer;" onclick="showCountryVisaDetails('UK')">
                                <div style="font-size: 36px; margin-bottom: 8px;"></div>
                                <div style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 16px;">United Kingdom</div>
                                <div style="font-size: 12px; color: var(--teal); font-weight: 600; margin-bottom: 12px;">Seaman Visa</div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 4px;"><span style="color: var(--gray-500);">Processing</span><span style="font-weight: 600;">10-15 days</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 4px;"><span style="color: var(--gray-500);">Validity</span><span style="font-weight: 600;">6 months</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="color: var(--gray-500);">Fee</span><span style="font-weight: 700; color: var(--success);">143</span></div>
                            </div>
                            <div class="country-visa-card" style="background: linear-gradient(135deg, rgba(188,0,45,0.05) 0%, rgba(188,0,45,0.1) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(188,0,45,0.2); cursor: pointer;" onclick="showCountryVisaDetails('JP')">
                                <div style="font-size: 36px; margin-bottom: 8px;"></div>
                                <div style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 16px;">Japan</div>
                                <div style="font-size: 12px; color: var(--teal); font-weight: 600; margin-bottom: 12px;">Shore Pass</div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 4px;"><span style="color: var(--gray-500);">Processing</span><span style="font-weight: 600;">3-5 days</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 4px;"><span style="color: var(--gray-500);">Validity</span><span style="font-weight: 600;">Single entry</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="color: var(--gray-500);">Fee</span><span style="font-weight: 700; color: var(--success);">3,000</span></div>
                            </div>
                            <div class="country-visa-card" style="background: linear-gradient(135deg, rgba(0,43,127,0.05) 0%, rgba(0,43,127,0.1) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(0,43,127,0.2); cursor: pointer;" onclick="showCountryVisaDetails('AU')">
                                <div style="font-size: 36px; margin-bottom: 8px;"></div>
                                <div style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 16px;">Australia</div>
                                <div style="font-size: 12px; color: var(--teal); font-weight: 600; margin-bottom: 12px;">Maritime Crew Visa (988)</div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 4px;"><span style="color: var(--gray-500);">Processing</span><span style="font-weight: 600;">1-3 days</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 4px;"><span style="color: var(--gray-500);">Validity</span><span style="font-weight: 600;">3 years</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="color: var(--gray-500);">Fee</span><span style="font-weight: 700; color: var(--success);">AUD $160</span></div>
                            </div>
                            <div class="country-visa-card" style="background: linear-gradient(135deg, rgba(239,51,64,0.05) 0%, rgba(239,51,64,0.1) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(239,51,64,0.2); cursor: pointer;" onclick="showCountryVisaDetails('SG')">
                                <div style="font-size: 36px; margin-bottom: 8px;"></div>
                                <div style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 16px;">Singapore</div>
                                <div style="font-size: 12px; color: var(--teal); font-weight: 600; margin-bottom: 12px;">Work Permit</div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 4px;"><span style="color: var(--gray-500);">Processing</span><span style="font-weight: 600;">3-7 days</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 4px;"><span style="color: var(--gray-500);">Validity</span><span style="font-weight: 600;">2 years</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="color: var(--gray-500);">Fee</span><span style="font-weight: 700; color: var(--success);">SGD $35</span></div>
                            </div>
                            <div class="country-visa-card" style="background: linear-gradient(135deg, rgba(0,115,47,0.05) 0%, rgba(0,115,47,0.1) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(0,115,47,0.2); cursor: pointer;" onclick="showCountryVisaDetails('AE')">
                                <div style="font-size: 36px; margin-bottom: 8px;"></div>
                                <div style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 16px;">UAE</div>
                                <div style="font-size: 12px; color: var(--teal); font-weight: 600; margin-bottom: 12px;">Seaman Visa</div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 4px;"><span style="color: var(--gray-500);">Processing</span><span style="font-weight: 600;">2-4 days</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px; margin-bottom: 4px;"><span style="color: var(--gray-500);">Validity</span><span style="font-weight: 600;">14-30 days</span></div>
                                <div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="color: var(--gray-500);">Fee</span><span style="font-weight: 700; color: var(--success);">AED 200</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- DOCUMENT EXPIRY NOTIFICATIONS PAGE -->
            <div class="page" id="page-doc-expiry">
                <div class="page-content" style="padding: 24px; max-width: 100%; overflow-x: hidden;">
                    <!-- Header -->
                    <div class="rfa-header" style="margin-bottom: 24px;">
                        <div>
                            <h2 style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 28px; display: flex; align-items: center; gap: 12px;">
                                <span style="font-size: 32px;"></span> Document Expiry Notifications
                            </h2>
                            <p style="color: var(--gray-500); margin-top: 4px;">Proactive compliance management  Never miss a renewal</p>
                        </div>
                        <div style="display: flex; gap: 12px; align-items: center;">
                            <button class="btn btn-ghost" onclick="exportExpiryReport()" style="background: rgba(16,185,129,0.1); color: var(--success);">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                                Export Report
                            </button>
                            <button class="btn btn-primary" onclick="openBulkRenewalModal()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12a9 9 0 0 1-9 9m9-9a9 9 0 0 0-9-9m9 9H3m9 9a9 9 0 0 1-9-9m9 9c1.66 0 3-4 3-9s-1.34-9-3-9m0 18c-1.66 0-3-4-3-9s1.34-9 3-9"/></svg>
                                Bulk Renewal
                            </button>
                        </div>
                    </div>
                    
                    <!-- Alert Stats Cards -->
                    <div class="doc-expiry-stats" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 16px; margin-bottom: 24px;">
                        <div class="doc-expiry-card expired" style="background: linear-gradient(135deg, rgba(239,68,68,0.1) 0%, rgba(239,68,68,0.05) 100%); border-radius: 16px; padding: 20px; border: 2px solid var(--danger); cursor: pointer;" onclick="filterByStatus('expired')">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
                                <div style="width: 48px; height: 48px; background: var(--danger); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>
                                </div>
                                <span style="background: var(--danger); color: white; padding: 4px 10px; border-radius: 20px; font-size: 11px; font-weight: 700; animation: pulse 2s infinite;">CRITICAL</span>
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 36px; font-weight: 900; color: var(--danger);">8</div>
                            <div style="font-size: 13px; color: var(--gray-600); font-weight: 600;">Expired</div>
                            <div style="font-size: 11px; color: var(--danger); margin-top: 4px;">Immediate action required!</div>
                        </div>
                        
                        <div class="doc-expiry-card urgent" style="background: linear-gradient(135deg, rgba(245,158,11,0.1) 0%, rgba(245,158,11,0.05) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(245,158,11,0.3); cursor: pointer;" onclick="filterByStatus('7days')">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
                                <div style="width: 48px; height: 48px; background: var(--warning); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
                                </div>
                                <span style="background: var(--warning); color: white; padding: 4px 10px; border-radius: 20px; font-size: 11px; font-weight: 700;">URGENT</span>
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 36px; font-weight: 900; color: var(--warning);">15</div>
                            <div style="font-size: 13px; color: var(--gray-600); font-weight: 600;">Within 7 Days</div>
                            <div style="font-size: 11px; color: var(--warning); margin-top: 4px;">Expiring this week</div>
                        </div>
                        
                        <div class="doc-expiry-card warning" style="background: linear-gradient(135deg, rgba(251,191,36,0.1) 0%, rgba(251,191,36,0.05) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(251,191,36,0.3); cursor: pointer;" onclick="filterByStatus('30days')">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
                                <div style="width: 48px; height: 48px; background: #FBBF24; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                                </div>
                                <span style="background: #FBBF24; color: white; padding: 4px 10px; border-radius: 20px; font-size: 11px; font-weight: 700;">WARNING</span>
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 36px; font-weight: 900; color: #D97706;">42</div>
                            <div style="font-size: 13px; color: var(--gray-600); font-weight: 600;">Within 30 Days</div>
                            <div style="font-size: 11px; color: #D97706; margin-top: 4px;">Plan renewals now</div>
                        </div>
                        
                        <div class="doc-expiry-card notice" style="background: linear-gradient(135deg, rgba(59,130,246,0.1) 0%, rgba(59,130,246,0.05) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(59,130,246,0.3); cursor: pointer;" onclick="filterByStatus('90days')">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
                                <div style="width: 48px; height: 48px; background: var(--info); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
                                </div>
                                <span style="background: var(--info); color: white; padding: 4px 10px; border-radius: 20px; font-size: 11px; font-weight: 700;">NOTICE</span>
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 36px; font-weight: 900; color: var(--info);">89</div>
                            <div style="font-size: 13px; color: var(--gray-600); font-weight: 600;">Within 90 Days</div>
                            <div style="font-size: 11px; color: var(--info); margin-top: 4px;">Schedule ahead</div>
                        </div>
                        
                        <div class="doc-expiry-card valid" style="background: linear-gradient(135deg, rgba(16,185,129,0.1) 0%, rgba(16,185,129,0.05) 100%); border-radius: 16px; padding: 20px; border: 1px solid rgba(16,185,129,0.3); cursor: pointer;" onclick="filterByStatus('valid')">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
                                <div style="width: 48px; height: 48px; background: var(--success); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                                </div>
                                <span style="background: var(--success); color: white; padding: 4px 10px; border-radius: 20px; font-size: 11px; font-weight: 700;">VALID</span>
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 36px; font-weight: 900; color: var(--success);">2,847</div>
                            <div style="font-size: 13px; color: var(--gray-600); font-weight: 600;">Valid Documents</div>
                            <div style="font-size: 11px; color: var(--success); margin-top: 4px;">95% compliance rate</div>
                        </div>
                    </div>
                    
                    <!-- Filter Bar -->
                    <div style="display: flex; gap: 16px; margin-bottom: 24px; flex-wrap: wrap; align-items: center;">
                        <div style="flex: 1; min-width: 250px; position: relative;">
                            <svg style="position: absolute; left: 14px; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; stroke: var(--gray-400);" viewBox="0 0 24 24" fill="none" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                            <input type="text" id="doc-search" placeholder="Search by seafarer name, document number..." style="width: 100%; padding: 12px 14px 12px 44px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;" onkeyup="filterDocuments()">
                        </div>
                        <select id="doc-type-filter" style="padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-width: 180px;" onchange="filterDocuments()">
                            <option value="">All Document Types</option>
                            <option value="passport"> Passport</option>
                            <option value="seamanbook"> Seaman Book</option>
                            <option value="medical"> Medical Certificate</option>
                            <option value="stcw"> STCW Certificates</option>
                            <option value="flag"> Flag Endorsements</option>
                            <option value="visa"> Visas</option>
                            <option value="training"> Training Certificates</option>
                            <option value="goc"> GOC/GMDSS</option>
                        </select>
                        <select id="doc-status-filter" style="padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-width: 150px;" onchange="filterDocuments()">
                            <option value="">All Status</option>
                            <option value="expired"> Expired</option>
                            <option value="7days"> Within 7 Days</option>
                            <option value="30days"> Within 30 Days</option>
                            <option value="90days"> Within 90 Days</option>
                            <option value="valid"> Valid (90+ days)</option>
                        </select>
                        <select id="doc-vessel-filter" style="padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-width: 160px;" onchange="filterDocuments()">
                            <option value="">All Vessels</option>
                            <option value="dp">MV Diana Pioneer</option>
                            <option value="cg">MV Centrofin Glory</option>
                            <option value="po">MV Pioneer Oceania</option>
                            <option value="hp">MV Hellas Pioneer</option>
                        </select>
                    </div>
                    
                    <!-- Two Column Layout -->
                    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 24px;">
                        <!-- Documents Table -->
                        <div style="background: white; border-radius: 20px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.06);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h3 style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 18px;"> Expiring Documents</h3>
                                <div style="display: flex; gap: 8px;">
                                    <button class="doc-view-btn active" onclick="setDocView('list', this)"> List</button>
                                    <button class="doc-view-btn" onclick="setDocView('calendar', this)"> Calendar</button>
                                </div>
                            </div>
                            
                            <div id="doc-list-view">
                                <!-- Expired Section -->
                                <div class="doc-section expired" style="margin-bottom: 20px;">
                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px; padding: 10px 14px; background: rgba(239,68,68,0.1); border-radius: 10px; border-left: 4px solid var(--danger);">
                                        <span style="font-size: 18px;"></span>
                                        <span style="font-weight: 700; color: var(--danger);">EXPIRED</span>
                                        <span style="margin-left: auto; background: var(--danger); color: white; padding: 2px 10px; border-radius: 12px; font-size: 12px; font-weight: 700;">8</span>
                                    </div>
                                    <div class="doc-items" style="display: flex; flex-direction: column; gap: 8px;">
                                        <div class="doc-item expired" onclick="openDocRenewalModal('DOC-001')">
                                            <div class="doc-item-left">
                                                <div class="doc-type-icon" style="background: var(--danger);"></div>
                                                <div class="doc-info">
                                                    <div class="doc-seafarer">Juan Dela Cruz</div>
                                                    <div class="doc-details">Passport  PC1234567  MV Diana Pioneer</div>
                                                </div>
                                            </div>
                                            <div class="doc-item-right">
                                                <div class="doc-expiry-date expired">Expired Jan 15, 2026</div>
                                                <div class="doc-days-ago">26 days ago</div>
                                            </div>
                                            <button class="doc-action-btn danger" onclick="event.stopPropagation(); initiateRenewal('DOC-001')">Renew</button>
                                        </div>
                                        <div class="doc-item expired" onclick="openDocRenewalModal('DOC-002')">
                                            <div class="doc-item-left">
                                                <div class="doc-type-icon" style="background: var(--danger);"></div>
                                                <div class="doc-info">
                                                    <div class="doc-seafarer">Michael Reyes</div>
                                                    <div class="doc-details">Medical Certificate  MED-2024-456  MV Centrofin Glory</div>
                                                </div>
                                            </div>
                                            <div class="doc-item-right">
                                                <div class="doc-expiry-date expired">Expired Feb 1, 2026</div>
                                                <div class="doc-days-ago">9 days ago</div>
                                            </div>
                                            <button class="doc-action-btn danger" onclick="event.stopPropagation(); initiateRenewal('DOC-002')">Renew</button>
                                        </div>
                                        <div class="doc-item expired" onclick="openDocRenewalModal('DOC-003')">
                                            <div class="doc-item-left">
                                                <div class="doc-type-icon" style="background: var(--danger);"></div>
                                                <div class="doc-info">
                                                    <div class="doc-seafarer">Roberto Garcia</div>
                                                    <div class="doc-details">STCW Basic Safety  BST-2020-789  MV Pioneer Oceania</div>
                                                </div>
                                            </div>
                                            <div class="doc-item-right">
                                                <div class="doc-expiry-date expired">Expired Feb 5, 2026</div>
                                                <div class="doc-days-ago">5 days ago</div>
                                            </div>
                                            <button class="doc-action-btn danger" onclick="event.stopPropagation(); initiateRenewal('DOC-003')">Renew</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Within 7 Days Section -->
                                <div class="doc-section urgent" style="margin-bottom: 20px;">
                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px; padding: 10px 14px; background: rgba(245,158,11,0.1); border-radius: 10px; border-left: 4px solid var(--warning);">
                                        <span style="font-size: 18px;"></span>
                                        <span style="font-weight: 700; color: var(--warning);">EXPIRING WITHIN 7 DAYS</span>
                                        <span style="margin-left: auto; background: var(--warning); color: white; padding: 2px 10px; border-radius: 12px; font-size: 12px; font-weight: 700;">15</span>
                                    </div>
                                    <div class="doc-items" style="display: flex; flex-direction: column; gap: 8px;">
                                        <div class="doc-item urgent" onclick="openDocRenewalModal('DOC-004')">
                                            <div class="doc-item-left">
                                                <div class="doc-type-icon" style="background: var(--warning);"></div>
                                                <div class="doc-info">
                                                    <div class="doc-seafarer">Pedro Lopez</div>
                                                    <div class="doc-details">Liberia Endorsement  LR-2024-123  MV Hellas Pioneer</div>
                                                </div>
                                            </div>
                                            <div class="doc-item-right">
                                                <div class="doc-expiry-date urgent">Expires Feb 12, 2026</div>
                                                <div class="doc-days-left">2 days left</div>
                                            </div>
                                            <button class="doc-action-btn warning" onclick="event.stopPropagation(); initiateRenewal('DOC-004')">Renew</button>
                                        </div>
                                        <div class="doc-item urgent" onclick="openDocRenewalModal('DOC-005')">
                                            <div class="doc-item-left">
                                                <div class="doc-type-icon" style="background: var(--warning);"></div>
                                                <div class="doc-info">
                                                    <div class="doc-seafarer">Carlos Mendoza</div>
                                                    <div class="doc-details">US C1/D Visa  USA-2024-789  MV Diana Pioneer</div>
                                                </div>
                                            </div>
                                            <div class="doc-item-right">
                                                <div class="doc-expiry-date urgent">Expires Feb 14, 2026</div>
                                                <div class="doc-days-left">4 days left</div>
                                            </div>
                                            <button class="doc-action-btn warning" onclick="event.stopPropagation(); initiateRenewal('DOC-005')">Renew</button>
                                        </div>
                                        <div class="doc-item urgent" onclick="openDocRenewalModal('DOC-006')">
                                            <div class="doc-item-left">
                                                <div class="doc-type-icon" style="background: var(--warning);"></div>
                                                <div class="doc-info">
                                                    <div class="doc-seafarer">Fernando Cruz</div>
                                                    <div class="doc-details">Seaman Book  SB-2021-456  MV Centrofin Glory</div>
                                                </div>
                                            </div>
                                            <div class="doc-item-right">
                                                <div class="doc-expiry-date urgent">Expires Feb 16, 2026</div>
                                                <div class="doc-days-left">6 days left</div>
                                            </div>
                                            <button class="doc-action-btn warning" onclick="event.stopPropagation(); initiateRenewal('DOC-006')">Renew</button>
                                        </div>
                                        <div class="doc-item urgent" onclick="openDocRenewalModal('DOC-007')">
                                            <div class="doc-item-left">
                                                <div class="doc-type-icon" style="background: var(--warning);"></div>
                                                <div class="doc-info">
                                                    <div class="doc-seafarer">Antonio Santos</div>
                                                    <div class="doc-details">GOC Certificate  GOC-2023-321  MV Pioneer Oceania</div>
                                                </div>
                                            </div>
                                            <div class="doc-item-right">
                                                <div class="doc-expiry-date urgent">Expires Feb 17, 2026</div>
                                                <div class="doc-days-left">7 days left</div>
                                            </div>
                                            <button class="doc-action-btn warning" onclick="event.stopPropagation(); initiateRenewal('DOC-007')">Renew</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Within 30 Days Section -->
                                <div class="doc-section warning" style="margin-bottom: 20px;">
                                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px; padding: 10px 14px; background: rgba(251,191,36,0.1); border-radius: 10px; border-left: 4px solid #FBBF24;">
                                        <span style="font-size: 18px;"></span>
                                        <span style="font-weight: 700; color: #D97706;">EXPIRING WITHIN 30 DAYS</span>
                                        <span style="margin-left: auto; background: #FBBF24; color: white; padding: 2px 10px; border-radius: 12px; font-size: 12px; font-weight: 700;">42</span>
                                        <button style="padding: 4px 12px; background: white; border: 1px solid #FBBF24; color: #D97706; border-radius: 8px; font-size: 11px; font-weight: 600; cursor: pointer;">View All</button>
                                    </div>
                                    <div class="doc-items" style="display: flex; flex-direction: column; gap: 8px;">
                                        <div class="doc-item notice" onclick="openDocRenewalModal('DOC-008')">
                                            <div class="doc-item-left">
                                                <div class="doc-type-icon" style="background: #FBBF24;"></div>
                                                <div class="doc-info">
                                                    <div class="doc-seafarer">Ricardo Bautista</div>
                                                    <div class="doc-details">Passport  PC9876543  MV Diana Pioneer</div>
                                                </div>
                                            </div>
                                            <div class="doc-item-right">
                                                <div class="doc-expiry-date notice">Expires Feb 28, 2026</div>
                                                <div class="doc-days-left">18 days left</div>
                                            </div>
                                            <button class="doc-action-btn yellow" onclick="event.stopPropagation(); initiateRenewal('DOC-008')">Schedule</button>
                                        </div>
                                        <div class="doc-item notice" onclick="openDocRenewalModal('DOC-009')">
                                            <div class="doc-item-left">
                                                <div class="doc-type-icon" style="background: #FBBF24;"></div>
                                                <div class="doc-info">
                                                    <div class="doc-seafarer">Jose Villanueva</div>
                                                    <div class="doc-details">Tanker Familiarization  TF-2024-654  MV Hellas Pioneer</div>
                                                </div>
                                            </div>
                                            <div class="doc-item-right">
                                                <div class="doc-expiry-date notice">Expires Mar 5, 2026</div>
                                                <div class="doc-days-left">23 days left</div>
                                            </div>
                                            <button class="doc-action-btn yellow" onclick="event.stopPropagation(); initiateRenewal('DOC-009')">Schedule</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Sidebar -->
                        <div style="display: flex; flex-direction: column; gap: 20px;">
                            <!-- Document Categories Breakdown -->
                            <div style="background: white; border-radius: 20px; padding: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.06);">
                                <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px; font-size: 15px;"> By Document Type</h4>
                                <div style="display: flex; flex-direction: column; gap: 12px;">
                                    <div class="doc-category-row">
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <span style="font-size: 20px;"></span>
                                            <span style="font-weight: 600; color: var(--navy);">Passports</span>
                                        </div>
                                        <div style="display: flex; gap: 6px;">
                                            <span class="cat-badge expired">2</span>
                                            <span class="cat-badge warning">8</span>
                                            <span class="cat-badge valid">837</span>
                                        </div>
                                    </div>
                                    <div class="doc-category-row">
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <span style="font-size: 20px;"></span>
                                            <span style="font-weight: 600; color: var(--navy);">Seaman Books</span>
                                        </div>
                                        <div style="display: flex; gap: 6px;">
                                            <span class="cat-badge expired">1</span>
                                            <span class="cat-badge warning">5</span>
                                            <span class="cat-badge valid">841</span>
                                        </div>
                                    </div>
                                    <div class="doc-category-row">
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <span style="font-size: 20px;"></span>
                                            <span style="font-weight: 600; color: var(--navy);">Medical Certs</span>
                                        </div>
                                        <div style="display: flex; gap: 6px;">
                                            <span class="cat-badge expired">3</span>
                                            <span class="cat-badge warning">12</span>
                                            <span class="cat-badge valid">832</span>
                                        </div>
                                    </div>
                                    <div class="doc-category-row">
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <span style="font-size: 20px;"></span>
                                            <span style="font-weight: 600; color: var(--navy);">STCW Certificates</span>
                                        </div>
                                        <div style="display: flex; gap: 6px;">
                                            <span class="cat-badge expired">1</span>
                                            <span class="cat-badge warning">15</span>
                                            <span class="cat-badge valid">1,245</span>
                                        </div>
                                    </div>
                                    <div class="doc-category-row">
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <span style="font-size: 20px;"></span>
                                            <span style="font-weight: 600; color: var(--navy);">Flag Endorsements</span>
                                        </div>
                                        <div style="display: flex; gap: 6px;">
                                            <span class="cat-badge expired">1</span>
                                            <span class="cat-badge warning">10</span>
                                            <span class="cat-badge valid">623</span>
                                        </div>
                                    </div>
                                    <div class="doc-category-row">
                                        <div style="display: flex; align-items: center; gap: 10px;">
                                            <span style="font-size: 20px;"></span>
                                            <span style="font-weight: 600; color: var(--navy);">Visas</span>
                                        </div>
                                        <div style="display: flex; gap: 6px;">
                                            <span class="cat-badge expired">0</span>
                                            <span class="cat-badge warning">7</span>
                                            <span class="cat-badge valid">245</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Upcoming Expirations Timeline -->
                            <div style="background: white; border-radius: 20px; padding: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.06);">
                                <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px; font-size: 15px;"> Next 7 Days</h4>
                                <div class="timeline-mini">
                                    <div class="timeline-day">
                                        <div class="timeline-date">
                                            <div class="date-day">11</div>
                                            <div class="date-month">FEB</div>
                                        </div>
                                        <div class="timeline-items">
                                            <div class="timeline-item danger">1 Passport</div>
                                        </div>
                                    </div>
                                    <div class="timeline-day">
                                        <div class="timeline-date">
                                            <div class="date-day">12</div>
                                            <div class="date-month">FEB</div>
                                        </div>
                                        <div class="timeline-items">
                                            <div class="timeline-item warning">2 Endorsements</div>
                                        </div>
                                    </div>
                                    <div class="timeline-day">
                                        <div class="timeline-date">
                                            <div class="date-day">14</div>
                                            <div class="date-month">FEB</div>
                                        </div>
                                        <div class="timeline-items">
                                            <div class="timeline-item warning">1 Visa</div>
                                            <div class="timeline-item warning">1 Medical</div>
                                        </div>
                                    </div>
                                    <div class="timeline-day">
                                        <div class="timeline-date">
                                            <div class="date-day">16</div>
                                            <div class="date-month">FEB</div>
                                        </div>
                                        <div class="timeline-items">
                                            <div class="timeline-item warning">3 Seaman Books</div>
                                        </div>
                                    </div>
                                    <div class="timeline-day">
                                        <div class="timeline-date">
                                            <div class="date-day">17</div>
                                            <div class="date-month">FEB</div>
                                        </div>
                                        <div class="timeline-items">
                                            <div class="timeline-item info">2 GOC Certs</div>
                                            <div class="timeline-item info">1 STCW</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Quick Actions -->
                            <div style="background: linear-gradient(135deg, var(--navy) 0%, var(--purple) 100%); border-radius: 20px; padding: 20px; color: white;">
                                <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; margin-bottom: 16px; font-size: 15px;"> Quick Actions</h4>
                                <div style="display: flex; flex-direction: column; gap: 10px;">
                                    <button class="quick-action-btn" onclick="sendExpiryReminders()">
                                        <span></span> Send Expiry Reminders
                                    </button>
                                    <button class="quick-action-btn" onclick="scheduleRenewals()">
                                        <span></span> Schedule Bulk Renewals
                                    </button>
                                    <button class="quick-action-btn" onclick="generateComplianceReport()">
                                        <span></span> Compliance Report
                                    </button>
                                    <button class="quick-action-btn" onclick="configureAlerts()">
                                        <span></span> Configure Alerts
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- PAYROLL INTEGRATION PAGE -->
            <div class="page" id="page-payroll">
                <div class="page-content" style="padding: 24px; max-width: 100%; overflow-x: hidden;">
                    <!-- Header -->
                    <div class="rfa-header" style="margin-bottom: 24px;">
                        <div>
                            <h2 style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 28px; display: flex; align-items: center; gap: 12px;">
                                <span style="font-size: 32px;"></span> Payroll Management
                            </h2>
                            <p style="color: var(--gray-500); margin-top: 4px;">Salary, Allotments, Cash Advances & Payslips</p>
                        </div>
                        <div style="display: flex; gap: 12px; align-items: center;">
                            <button class="btn btn-ghost" onclick="openPayrollSettingsModal()" style="background: rgba(107,114,128,0.1); color: var(--gray-600);">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
                                Settings
                            </button>
                            <button class="btn btn-ghost" onclick="generatePayroll()" style="background: rgba(16,185,129,0.1); color: var(--success);">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                                Export Payroll
                            </button>
                            <button class="btn btn-primary" onclick="openProcessPayrollModal()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                                Process Payroll
                            </button>
                        </div>
                    </div>
                    
                    <!-- Summary Cards -->
                    <div class="payroll-summary" style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 16px; margin-bottom: 24px;">
                        <div style="background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 100%); border-radius: 16px; padding: 20px; color: white;">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                                Total Gross
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900;">$847,250</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">February 2026</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--teal) 0%, var(--teal-light) 100%); border-radius: 16px; padding: 20px; color: white;">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/></svg>
                                Allotments
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900;">$412,850</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Sent to families</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--warning) 0%, #FBBF24 100%); border-radius: 16px; padding: 20px; color: white;">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg>
                                Cash Advances
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900;">$45,200</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Outstanding balance</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%); border-radius: 16px; padding: 20px; color: white;">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                                Deductions
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900;">$78,400</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Tax, SSS, Philhealth</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--success) 0%, var(--teal-light) 100%); border-radius: 16px; padding: 20px; color: white;">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                                Net Pay
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900;">$310,800</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Crew take-home</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--gold) 0%, #F0C674 100%); border-radius: 16px; padding: 20px; color: white;">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg>
                                Active Crew
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 28px; font-weight: 900;">847</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">On payroll this month</div>
                        </div>
                    </div>
                    
                    <!-- Filter Bar -->
                    <div style="display: flex; gap: 16px; margin-bottom: 24px; flex-wrap: wrap; align-items: center;">
                        <div style="flex: 1; min-width: 250px; position: relative;">
                            <svg style="position: absolute; left: 14px; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; stroke: var(--gray-400);" viewBox="0 0 24 24" fill="none" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                            <input type="text" placeholder="Search by seafarer name, ID, or vessel..." style="width: 100%; padding: 12px 14px 12px 44px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                        </div>
                        <select id="payroll-vessel-filter" style="padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-width: 180px;">
                            <option value="">All Vessels</option>
                            <option value="dp"> MV Diana Pioneer</option>
                            <option value="cg"> MV Centrofin Glory</option>
                            <option value="po"> MV Pioneer Oceania</option>
                            <option value="hp"> MV Hellas Pioneer</option>
                        </select>
                        <select id="payroll-month-filter" style="padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-width: 160px;">
                            <option value="2026-02"> February 2026</option>
                            <option value="2026-01"> January 2026</option>
                            <option value="2025-12"> December 2025</option>
                            <option value="2025-11"> November 2025</option>
                        </select>
                        <select id="payroll-status-filter" style="padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-width: 140px;">
                            <option value="">All Status</option>
                            <option value="pending"> Pending</option>
                            <option value="processed"> Processed</option>
                            <option value="paid"> Paid</option>
                        </select>
                    </div>
                    
                    <!-- Main Content Grid -->
                    <div style="display: grid; grid-template-columns: 3fr 1fr; gap: 24px;">
                        <!-- Payroll Table -->
                        <div style="background: white; border-radius: 20px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.06);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h3 style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 18px; display: flex; align-items: center; gap: 8px;">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--teal)" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
                                    Crew Payroll - February 2026
                                </h3>
                                <div style="display: flex; gap: 8px;">
                                    <button style="padding: 8px 14px; background: var(--gray-100); border: none; border-radius: 8px; font-size: 12px; cursor: pointer;">Select All</button>
                                    <button style="padding: 8px 14px; background: var(--success); color: white; border: none; border-radius: 8px; font-size: 12px; font-weight: 600; cursor: pointer;"> Pay Selected</button>
                                </div>
                            </div>
                            
                            <!-- Table Header -->
                            <div class="payroll-table-header" style="display: grid; grid-template-columns: 40px 2fr 1fr 1fr 1fr 1fr 1fr 100px; gap: 12px; padding: 12px 16px; background: var(--gray-100); border-radius: 10px; font-size: 11px; font-weight: 700; color: var(--gray-600); text-transform: uppercase;">
                                <div><input type="checkbox"></div>
                                <div>Seafarer</div>
                                <div style="text-align: right;">Basic Salary</div>
                                <div style="text-align: right;">Allowances</div>
                                <div style="text-align: right;">Allotment</div>
                                <div style="text-align: right;">Deductions</div>
                                <div style="text-align: right;">Net Pay</div>
                                <div style="text-align: center;">Status</div>
                            </div>
                            
                            <!-- Table Rows -->
                            <div class="payroll-table-body" style="display: flex; flex-direction: column; gap: 4px; margin-top: 8px;">
                                <div class="payroll-row" onclick="openPayslipModal('PAY-001')" style="display: grid; grid-template-columns: 40px 2fr 1fr 1fr 1fr 1fr 1fr 100px; gap: 12px; padding: 14px 16px; background: white; border-radius: 10px; border: 1px solid var(--gray-200); align-items: center; cursor: pointer; transition: all 0.3s;">
                                    <div><input type="checkbox" onclick="event.stopPropagation();"></div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="width: 36px; height: 36px; background: linear-gradient(135deg, var(--navy), var(--teal)); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 12px;">JD</div>
                                        <div>
                                            <div style="font-weight: 700; color: var(--navy); font-size: 13px;">Juan Dela Cruz</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">Chief Officer  MV Diana Pioneer</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right; font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy);">$4,500</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--teal);">$850</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--purple);">$2,500</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--danger);">-$425</div>
                                    <div style="text-align: right; font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--success);">$2,425</div>
                                    <div style="text-align: center;"><span style="padding: 4px 10px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 6px; font-size: 11px; font-weight: 600;"> Paid</span></div>
                                </div>
                                
                                <div class="payroll-row" onclick="openPayslipModal('PAY-002')" style="display: grid; grid-template-columns: 40px 2fr 1fr 1fr 1fr 1fr 1fr 100px; gap: 12px; padding: 14px 16px; background: white; border-radius: 10px; border: 1px solid var(--gray-200); align-items: center; cursor: pointer; transition: all 0.3s;">
                                    <div><input type="checkbox" onclick="event.stopPropagation();"></div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="width: 36px; height: 36px; background: linear-gradient(135deg, var(--purple), var(--pink)); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 12px;">MR</div>
                                        <div>
                                            <div style="font-weight: 700; color: var(--navy); font-size: 13px;">Michael Reyes</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">2nd Engineer  MV Centrofin Glory</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right; font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy);">$3,800</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--teal);">$720</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--purple);">$2,000</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--danger);">-$380</div>
                                    <div style="text-align: right; font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--success);">$2,140</div>
                                    <div style="text-align: center;"><span style="padding: 4px 10px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 6px; font-size: 11px; font-weight: 600;"> Paid</span></div>
                                </div>
                                
                                <div class="payroll-row" onclick="openPayslipModal('PAY-003')" style="display: grid; grid-template-columns: 40px 2fr 1fr 1fr 1fr 1fr 1fr 100px; gap: 12px; padding: 14px 16px; background: rgba(245,158,11,0.05); border-radius: 10px; border: 1px solid var(--warning); align-items: center; cursor: pointer; transition: all 0.3s;">
                                    <div><input type="checkbox" onclick="event.stopPropagation();"></div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="width: 36px; height: 36px; background: linear-gradient(135deg, var(--warning), #FBBF24); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 12px;">RG</div>
                                        <div>
                                            <div style="font-weight: 700; color: var(--navy); font-size: 13px;">Roberto Garcia</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">Bosun  MV Pioneer Oceania</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right; font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy);">$1,850</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--teal);">$280</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--purple);">$1,000</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--danger);">-$185</div>
                                    <div style="text-align: right; font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--warning);">$945</div>
                                    <div style="text-align: center;"><span style="padding: 4px 10px; background: rgba(245,158,11,0.1); color: var(--warning); border-radius: 6px; font-size: 11px; font-weight: 600;"> Pending</span></div>
                                </div>
                                
                                <div class="payroll-row" onclick="openPayslipModal('PAY-004')" style="display: grid; grid-template-columns: 40px 2fr 1fr 1fr 1fr 1fr 1fr 100px; gap: 12px; padding: 14px 16px; background: rgba(245,158,11,0.05); border-radius: 10px; border: 1px solid var(--warning); align-items: center; cursor: pointer; transition: all 0.3s;">
                                    <div><input type="checkbox" onclick="event.stopPropagation();"></div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="width: 36px; height: 36px; background: linear-gradient(135deg, var(--teal), var(--success)); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 12px;">PL</div>
                                        <div>
                                            <div style="font-weight: 700; color: var(--navy); font-size: 13px;">Pedro Lopez</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">Oiler  MV Hellas Pioneer</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right; font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy);">$1,450</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--teal);">$220</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--purple);">$800</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--danger);">-$145</div>
                                    <div style="text-align: right; font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--warning);">$725</div>
                                    <div style="text-align: center;"><span style="padding: 4px 10px; background: rgba(245,158,11,0.1); color: var(--warning); border-radius: 6px; font-size: 11px; font-weight: 600;"> Pending</span></div>
                                </div>
                                
                                <div class="payroll-row" onclick="openPayslipModal('PAY-005')" style="display: grid; grid-template-columns: 40px 2fr 1fr 1fr 1fr 1fr 1fr 100px; gap: 12px; padding: 14px 16px; background: white; border-radius: 10px; border: 1px solid var(--gray-200); align-items: center; cursor: pointer; transition: all 0.3s;">
                                    <div><input type="checkbox" onclick="event.stopPropagation();"></div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="width: 36px; height: 36px; background: linear-gradient(135deg, var(--info), var(--purple)); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 12px;">AS</div>
                                        <div>
                                            <div style="font-weight: 700; color: var(--navy); font-size: 13px;">Antonio Santos</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">AB Seaman  MV Diana Pioneer</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right; font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy);">$1,250</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--teal);">$180</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--purple);">$700</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--danger);">-$125</div>
                                    <div style="text-align: right; font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--success);">$605</div>
                                    <div style="text-align: center;"><span style="padding: 4px 10px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 6px; font-size: 11px; font-weight: 600;"> Paid</span></div>
                                </div>
                                
                                <div class="payroll-row" onclick="openPayslipModal('PAY-006')" style="display: grid; grid-template-columns: 40px 2fr 1fr 1fr 1fr 1fr 1fr 100px; gap: 12px; padding: 14px 16px; background: white; border-radius: 10px; border: 1px solid var(--gray-200); align-items: center; cursor: pointer; transition: all 0.3s;">
                                    <div><input type="checkbox" onclick="event.stopPropagation();"></div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <div style="width: 36px; height: 36px; background: linear-gradient(135deg, var(--gold), #F0C674); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 12px;">CM</div>
                                        <div>
                                            <div style="font-weight: 700; color: var(--navy); font-size: 13px;">Carlos Mendoza</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">Master  MV Centrofin Glory</div>
                                        </div>
                                    </div>
                                    <div style="text-align: right; font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy);">$8,500</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--teal);">$1,500</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--purple);">$5,000</div>
                                    <div style="text-align: right; font-weight: 600; color: var(--danger);">-$850</div>
                                    <div style="text-align: right; font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--success);">$4,150</div>
                                    <div style="text-align: center;"><span style="padding: 4px 10px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 6px; font-size: 11px; font-weight: 600;"> Paid</span></div>
                                </div>
                            </div>
                            
                            <!-- Pagination -->
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; padding-top: 16px; border-top: 1px solid var(--gray-200);">
                                <div style="font-size: 13px; color: var(--gray-500);">Showing 1-6 of 847 crew members</div>
                                <div style="display: flex; gap: 8px;">
                                    <button style="padding: 8px 12px; background: var(--gray-100); border: none; border-radius: 6px; cursor: pointer;"> Prev</button>
                                    <button style="padding: 8px 12px; background: var(--navy); color: white; border: none; border-radius: 6px; cursor: pointer;">1</button>
                                    <button style="padding: 8px 12px; background: var(--gray-100); border: none; border-radius: 6px; cursor: pointer;">2</button>
                                    <button style="padding: 8px 12px; background: var(--gray-100); border: none; border-radius: 6px; cursor: pointer;">3</button>
                                    <button style="padding: 8px 12px; background: var(--gray-100); border: none; border-radius: 6px; cursor: pointer;">Next </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Sidebar -->
                        <div style="display: flex; flex-direction: column; gap: 20px;">
                            <!-- Cash Advances -->
                            <div style="background: white; border-radius: 20px; padding: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.06);">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 15px;"> Cash Advances</h4>
                                    <button style="padding: 6px 12px; background: var(--warning); color: white; border: none; border-radius: 6px; font-size: 11px; font-weight: 600; cursor: pointer;" onclick="openNewAdvanceModal()">+ New</button>
                                </div>
                                <div style="display: flex; flex-direction: column; gap: 10px;">
                                    <div style="padding: 12px; background: rgba(245,158,11,0.1); border-radius: 10px; border-left: 3px solid var(--warning);">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                            <span style="font-weight: 600; color: var(--navy); font-size: 13px;">Juan Dela Cruz</span>
                                            <span style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--warning);">$500</span>
                                        </div>
                                        <div style="font-size: 11px; color: var(--gray-500);">Feb 5, 2026  Deducting $100/mo</div>
                                    </div>
                                    <div style="padding: 12px; background: rgba(245,158,11,0.1); border-radius: 10px; border-left: 3px solid var(--warning);">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                            <span style="font-weight: 600; color: var(--navy); font-size: 13px;">Roberto Garcia</span>
                                            <span style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--warning);">$300</span>
                                        </div>
                                        <div style="font-size: 11px; color: var(--gray-500);">Feb 8, 2026  Deducting $75/mo</div>
                                    </div>
                                    <div style="padding: 12px; background: rgba(16,185,129,0.1); border-radius: 10px; border-left: 3px solid var(--success);">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                            <span style="font-weight: 600; color: var(--navy); font-size: 13px;">Michael Reyes</span>
                                            <span style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--success);">$0</span>
                                        </div>
                                        <div style="font-size: 11px; color: var(--success);"> Fully paid</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Allotment Summary -->
                            <div style="background: white; border-radius: 20px; padding: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.06);">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 15px;"> Allotments</h4>
                                    <button style="padding: 6px 12px; background: var(--purple); color: white; border: none; border-radius: 6px; font-size: 11px; font-weight: 600; cursor: pointer;" onclick="openManageAllotmentsModal()">Manage</button>
                                </div>
                                <div style="display: flex; flex-direction: column; gap: 12px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center; padding-bottom: 12px; border-bottom: 1px solid var(--gray-100);">
                                        <div>
                                            <div style="font-weight: 600; color: var(--navy); font-size: 13px;">This Month</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">To be sent Feb 15</div>
                                        </div>
                                        <div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--purple); font-size: 20px;">$412,850</div>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; font-size: 13px;">
                                        <span style="color: var(--gray-500);">Bank Transfer</span>
                                        <span style="font-weight: 600; color: var(--navy);">$385,200</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; font-size: 13px;">
                                        <span style="color: var(--gray-500);">Cash Pickup</span>
                                        <span style="font-weight: 600; color: var(--navy);">$27,650</span>
                                    </div>
                                    <div style="margin-top: 8px; padding: 10px; background: rgba(139,92,246,0.1); border-radius: 8px; text-align: center;">
                                        <div style="font-size: 11px; color: var(--gray-500);">Recipients</div>
                                        <div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--purple); font-size: 22px;">687</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Quick Actions -->
                            <div style="background: linear-gradient(135deg, var(--navy) 0%, var(--purple) 100%); border-radius: 20px; padding: 20px; color: white;">
                                <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; margin-bottom: 16px; font-size: 15px;"> Quick Actions</h4>
                                <div style="display: flex; flex-direction: column; gap: 10px;">
                                    <button class="quick-action-btn" onclick="openProcessPayrollModal()">
                                        <span></span> Process All Pending
                                    </button>
                                    <button class="quick-action-btn" onclick="sendAllotments()">
                                        <span></span> Send Allotments
                                    </button>
                                    <button class="quick-action-btn" onclick="generatePayslips()">
                                        <span></span> Generate Payslips
                                    </button>
                                    <button class="quick-action-btn" onclick="viewPayrollHistory()">
                                        <span></span> Payroll History
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- TRAINING MANAGEMENT PAGE -->
            <div class="page" id="page-training">
                <div class="page-content" style="padding: 24px; max-width: 100%; overflow-x: hidden;">
                    <!-- Header -->
                    <div class="rfa-header" style="margin-bottom: 24px;">
                        <div>
                            <h2 style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 28px; display: flex; align-items: center; gap: 12px;">
                                <span style="font-size: 32px;"></span> Training Management
                            </h2>
                            <p style="color: var(--gray-500); margin-top: 4px;">STCW Compliance  Courses  Certificates  Training Providers</p>
                        </div>
                        <div style="display: flex; gap: 12px; align-items: center;">
                            <button class="btn btn-ghost" onclick="openTrainingCalendarModal()" style="background: rgba(139,92,246,0.1); color: var(--purple);">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                                Training Calendar
                            </button>
                            <button class="btn btn-primary" onclick="openEnrollTrainingModal()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>
                                Enroll Seafarer
                            </button>
                        </div>
                    </div>
                    
                    <!-- Summary Cards -->
                    <div class="training-summary" style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 16px; margin-bottom: 24px;">
                        <div style="background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%); border-radius: 16px; padding: 20px; color: white; cursor: pointer;" onclick="filterTrainingStatus('enrolled')">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg>
                                Enrolled
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">124</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Active enrollments</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--info) 0%, var(--purple) 100%); border-radius: 16px; padding: 20px; color: white; cursor: pointer;" onclick="filterTrainingStatus('ongoing')">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                                In Progress
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">67</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Currently training</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--success) 0%, var(--teal) 100%); border-radius: 16px; padding: 20px; color: white; cursor: pointer;" onclick="filterTrainingStatus('completed')">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                                Completed
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">847</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">This year</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--warning) 0%, #FBBF24 100%); border-radius: 16px; padding: 20px; color: white; cursor: pointer;" onclick="filterTrainingStatus('expiring')">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/></svg>
                                Expiring Soon
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">38</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Within 90 days</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 100%); border-radius: 16px; padding: 20px; color: white;">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                                STCW Compliant
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">94%</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Fleet compliance</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--gold) 0%, #F0C674 100%); border-radius: 16px; padding: 20px; color: white;">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                                Training Cost
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">$48K</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">YTD spending</div>
                        </div>
                    </div>
                    
                    <!-- Filter Bar -->
                    <div style="display: flex; gap: 16px; margin-bottom: 24px; flex-wrap: wrap; align-items: center;">
                        <div style="flex: 1; min-width: 250px; position: relative;">
                            <svg style="position: absolute; left: 14px; top: 50%; transform: translateY(-50%); width: 18px; height: 18px; stroke: var(--gray-400);" viewBox="0 0 24 24" fill="none" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                            <input type="text" placeholder="Search seafarer, course, or certificate..." style="width: 100%; padding: 12px 14px 12px 44px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                        </div>
                        <select id="training-category-filter" style="padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-width: 180px;">
                            <option value="">All Categories</option>
                            <option value="stcw"> STCW Mandatory</option>
                            <option value="safety"> Safety Training</option>
                            <option value="technical"> Technical Skills</option>
                            <option value="leadership"> Leadership</option>
                            <option value="tanker"> Tanker Specific</option>
                            <option value="flag"> Flag Requirements</option>
                        </select>
                        <select id="training-status-filter" style="padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-width: 150px;">
                            <option value="">All Status</option>
                            <option value="enrolled"> Enrolled</option>
                            <option value="ongoing"> In Progress</option>
                            <option value="completed"> Completed</option>
                            <option value="expired"> Expired</option>
                        </select>
                        <select id="training-provider-filter" style="padding: 12px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-width: 160px;">
                            <option value="">All Providers</option>
                            <option value="nyk"> NYK-TDG Maritime</option>
                            <option value="magsaysay"> Magsaysay Training</option>
                            <option value="crossworld"> Crossworld Academy</option>
                            <option value="philsaga"> Philsaga Maritime</option>
                        </select>
                    </div>
                    
                    <!-- Main Content Grid -->
                    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 24px;">
                        <!-- Left Column - Training Courses & Enrollments -->
                        <div style="display: flex; flex-direction: column; gap: 20px;">
                            <!-- STCW Mandatory Courses -->
                            <div style="background: white; border-radius: 20px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.06);">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                    <h3 style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 18px; display: flex; align-items: center; gap: 8px;">
                                         STCW Mandatory Courses
                                    </h3>
                                    <button style="padding: 8px 14px; background: var(--purple); color: white; border: none; border-radius: 8px; font-size: 12px; font-weight: 600; cursor: pointer;" onclick="openManageCoursesModal()">Manage Courses</button>
                                </div>
                                <div class="courses-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                                    <div class="course-card" onclick="openCourseDetailModal('BST')">
                                        <div class="course-header" style="display: flex; justify-content: space-between; align-items: flex-start;">
                                            <div style="width: 48px; height: 48px; background: linear-gradient(135deg, var(--danger), var(--pink)); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 22px;"></div>
                                            <span class="course-validity" style="background: rgba(16,185,129,0.1); color: var(--success); padding: 4px 10px; border-radius: 8px; font-size: 10px; font-weight: 700;">5 Years</span>
                                        </div>
                                        <h4 style="font-weight: 700; color: var(--navy); margin: 12px 0 4px; font-size: 14px;">Basic Safety Training (BST)</h4>
                                        <p style="font-size: 11px; color: var(--gray-500); margin-bottom: 12px;">Personal Survival, Fire Fighting, First Aid, Safety</p>
                                        <div style="display: flex; justify-content: space-between; align-items: center;">
                                            <span style="font-size: 12px; color: var(--gray-500);"> 847 certified</span>
                                            <span style="font-size: 12px; font-weight: 700; color: var(--danger);">12 expiring</span>
                                        </div>
                                    </div>
                                    <div class="course-card" onclick="openCourseDetailModal('PSCRB')">
                                        <div class="course-header" style="display: flex; justify-content: space-between; align-items: flex-start;">
                                            <div style="width: 48px; height: 48px; background: linear-gradient(135deg, var(--info), var(--teal)); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 22px;"></div>
                                            <span class="course-validity" style="background: rgba(16,185,129,0.1); color: var(--success); padding: 4px 10px; border-radius: 8px; font-size: 10px; font-weight: 700;">5 Years</span>
                                        </div>
                                        <h4 style="font-weight: 700; color: var(--navy); margin: 12px 0 4px; font-size: 14px;">PSCRB</h4>
                                        <p style="font-size: 11px; color: var(--gray-500); margin-bottom: 12px;">Proficiency in Survival Craft & Rescue Boats</p>
                                        <div style="display: flex; justify-content: space-between; align-items: center;">
                                            <span style="font-size: 12px; color: var(--gray-500);"> 623 certified</span>
                                            <span style="font-size: 12px; font-weight: 700; color: var(--warning);">8 expiring</span>
                                        </div>
                                    </div>
                                    <div class="course-card" onclick="openCourseDetailModal('AFF')">
                                        <div class="course-header" style="display: flex; justify-content: space-between; align-items: flex-start;">
                                            <div style="width: 48px; height: 48px; background: linear-gradient(135deg, var(--warning), #FBBF24); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 22px;"></div>
                                            <span class="course-validity" style="background: rgba(16,185,129,0.1); color: var(--success); padding: 4px 10px; border-radius: 8px; font-size: 10px; font-weight: 700;">5 Years</span>
                                        </div>
                                        <h4 style="font-weight: 700; color: var(--navy); margin: 12px 0 4px; font-size: 14px;">Advanced Fire Fighting</h4>
                                        <p style="font-size: 11px; color: var(--gray-500); margin-bottom: 12px;">Advanced fire prevention & emergency response</p>
                                        <div style="display: flex; justify-content: space-between; align-items: center;">
                                            <span style="font-size: 12px; color: var(--gray-500);"> 534 certified</span>
                                            <span style="font-size: 12px; font-weight: 700; color: var(--warning);">5 expiring</span>
                                        </div>
                                    </div>
                                    <div class="course-card" onclick="openCourseDetailModal('MFA')">
                                        <div class="course-header" style="display: flex; justify-content: space-between; align-items: flex-start;">
                                            <div style="width: 48px; height: 48px; background: linear-gradient(135deg, var(--success), var(--teal-light)); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 22px;"></div>
                                            <span class="course-validity" style="background: rgba(16,185,129,0.1); color: var(--success); padding: 4px 10px; border-radius: 8px; font-size: 10px; font-weight: 700;">5 Years</span>
                                        </div>
                                        <h4 style="font-weight: 700; color: var(--navy); margin: 12px 0 4px; font-size: 14px;">Medical First Aid (MFA)</h4>
                                        <p style="font-size: 11px; color: var(--gray-500); margin-bottom: 12px;">Medical emergency care at sea</p>
                                        <div style="display: flex; justify-content: space-between; align-items: center;">
                                            <span style="font-size: 12px; color: var(--gray-500);"> 456 certified</span>
                                            <span style="font-size: 12px; font-weight: 700; color: var(--success);">3 expiring</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Active Enrollments -->
                            <div style="background: white; border-radius: 20px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.06);">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                    <h3 style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 18px; display: flex; align-items: center; gap: 8px;">
                                         Active Enrollments
                                    </h3>
                                    <div style="display: flex; gap: 8px;">
                                        <span style="padding: 6px 12px; background: rgba(139,92,246,0.1); color: var(--purple); border-radius: 8px; font-size: 12px; font-weight: 700;">124 Total</span>
                                    </div>
                                </div>
                                
                                <div style="display: flex; flex-direction: column; gap: 10px;">
                                    <div class="enrollment-item" onclick="openEnrollmentDetailModal('TRN-001')" style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--gray-50); border-radius: 12px; cursor: pointer; transition: all 0.3s; border: 1px solid transparent;">
                                        <div style="width: 44px; height: 44px; background: linear-gradient(135deg, var(--navy), var(--teal)); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 13px;">JD</div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 700; color: var(--navy); font-size: 14px;">Juan Dela Cruz</div>
                                            <div style="font-size: 12px; color: var(--gray-500);">BST Refresher  NYK-TDG Maritime</div>
                                        </div>
                                        <div style="text-align: right;">
                                            <div style="font-size: 12px; font-weight: 600; color: var(--purple);">Feb 15-18, 2026</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">4 days remaining</div>
                                        </div>
                                        <span style="padding: 6px 12px; background: rgba(59,130,246,0.1); color: var(--info); border-radius: 8px; font-size: 11px; font-weight: 700;"> In Progress</span>
                                    </div>
                                    
                                    <div class="enrollment-item" onclick="openEnrollmentDetailModal('TRN-002')" style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--gray-50); border-radius: 12px; cursor: pointer; transition: all 0.3s; border: 1px solid transparent;">
                                        <div style="width: 44px; height: 44px; background: linear-gradient(135deg, var(--purple), var(--pink)); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 13px;">MR</div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 700; color: var(--navy); font-size: 14px;">Michael Reyes</div>
                                            <div style="font-size: 12px; color: var(--gray-500);">Advanced Fire Fighting  Magsaysay Training</div>
                                        </div>
                                        <div style="text-align: right;">
                                            <div style="font-size: 12px; font-weight: 600; color: var(--purple);">Feb 20-24, 2026</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">Starts in 10 days</div>
                                        </div>
                                        <span style="padding: 6px 12px; background: rgba(139,92,246,0.1); color: var(--purple); border-radius: 8px; font-size: 11px; font-weight: 700;"> Enrolled</span>
                                    </div>
                                    
                                    <div class="enrollment-item" onclick="openEnrollmentDetailModal('TRN-003')" style="display: flex; align-items: center; gap: 16px; padding: 16px; background: rgba(16,185,129,0.05); border-radius: 12px; cursor: pointer; transition: all 0.3s; border: 1px solid var(--success);">
                                        <div style="width: 44px; height: 44px; background: linear-gradient(135deg, var(--success), var(--teal)); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 13px;">RG</div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 700; color: var(--navy); font-size: 14px;">Roberto Garcia</div>
                                            <div style="font-size: 12px; color: var(--gray-500);">PSCRB  Crossworld Academy</div>
                                        </div>
                                        <div style="text-align: right;">
                                            <div style="font-size: 12px; font-weight: 600; color: var(--success);">Feb 8, 2026</div>
                                            <div style="font-size: 11px; color: var(--success);">Completed today!</div>
                                        </div>
                                        <span style="padding: 6px 12px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 700;"> Completed</span>
                                    </div>
                                    
                                    <div class="enrollment-item" onclick="openEnrollmentDetailModal('TRN-004')" style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--gray-50); border-radius: 12px; cursor: pointer; transition: all 0.3s; border: 1px solid transparent;">
                                        <div style="width: 44px; height: 44px; background: linear-gradient(135deg, var(--warning), #FBBF24); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 13px;">PL</div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 700; color: var(--navy); font-size: 14px;">Pedro Lopez</div>
                                            <div style="font-size: 12px; color: var(--gray-500);">Tanker Familiarization  Philsaga Maritime</div>
                                        </div>
                                        <div style="text-align: right;">
                                            <div style="font-size: 12px; font-weight: 600; color: var(--purple);">Feb 12-14, 2026</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">2 days remaining</div>
                                        </div>
                                        <span style="padding: 6px 12px; background: rgba(59,130,246,0.1); color: var(--info); border-radius: 8px; font-size: 11px; font-weight: 700;"> In Progress</span>
                                    </div>
                                    
                                    <div class="enrollment-item" onclick="openEnrollmentDetailModal('TRN-005')" style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--gray-50); border-radius: 12px; cursor: pointer; transition: all 0.3s; border: 1px solid transparent;">
                                        <div style="width: 44px; height: 44px; background: linear-gradient(135deg, var(--info), var(--purple)); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 13px;">CM</div>
                                        <div style="flex: 1;">
                                            <div style="font-weight: 700; color: var(--navy); font-size: 14px;">Carlos Mendoza</div>
                                            <div style="font-size: 12px; color: var(--gray-500);">Bridge Team Management  NYK-TDG Maritime</div>
                                        </div>
                                        <div style="text-align: right;">
                                            <div style="font-size: 12px; font-weight: 600; color: var(--purple);">Mar 1-5, 2026</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">Starts in 19 days</div>
                                        </div>
                                        <span style="padding: 6px 12px; background: rgba(139,92,246,0.1); color: var(--purple); border-radius: 8px; font-size: 11px; font-weight: 700;"> Enrolled</span>
                                    </div>
                                </div>
                                
                                <div style="text-align: center; margin-top: 16px;">
                                    <button style="padding: 10px 24px; background: var(--gray-100); border: none; border-radius: 8px; font-size: 13px; color: var(--navy); font-weight: 600; cursor: pointer;">View All Enrollments </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Sidebar -->
                        <div style="display: flex; flex-direction: column; gap: 20px;">
                            <!-- Training Providers -->
                            <div style="background: white; border-radius: 20px; padding: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.06);">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); font-size: 15px;"> Training Providers</h4>
                                    <button style="padding: 6px 12px; background: var(--purple); color: white; border: none; border-radius: 6px; font-size: 11px; font-weight: 600; cursor: pointer;" onclick="openManageProvidersModal()">+ Add</button>
                                </div>
                                <div style="display: flex; flex-direction: column; gap: 12px;">
                                    <div class="provider-card" style="padding: 14px; background: var(--gray-50); border-radius: 12px; cursor: pointer;" onclick="openProviderDetailModal('NYK')">
                                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 10px;">
                                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, var(--navy), var(--teal)); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 11px;">NYK</div>
                                            <div>
                                                <div style="font-weight: 700; color: var(--navy); font-size: 13px;">NYK-TDG Maritime</div>
                                                <div style="font-size: 11px; color: var(--gray-500);">Manila, Philippines</div>
                                            </div>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; font-size: 11px;">
                                            <span style="color: var(--gray-500);"> 24 courses</span>
                                            <span style="color: var(--success); font-weight: 600;"> 4.9 rating</span>
                                        </div>
                                    </div>
                                    <div class="provider-card" style="padding: 14px; background: var(--gray-50); border-radius: 12px; cursor: pointer;" onclick="openProviderDetailModal('MAG')">
                                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 10px;">
                                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, var(--purple), var(--pink)); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 11px;">MTC</div>
                                            <div>
                                                <div style="font-weight: 700; color: var(--navy); font-size: 13px;">Magsaysay Training</div>
                                                <div style="font-size: 11px; color: var(--gray-500);">Makati, Philippines</div>
                                            </div>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; font-size: 11px;">
                                            <span style="color: var(--gray-500);"> 32 courses</span>
                                            <span style="color: var(--success); font-weight: 600;"> 4.8 rating</span>
                                        </div>
                                    </div>
                                    <div class="provider-card" style="padding: 14px; background: var(--gray-50); border-radius: 12px; cursor: pointer;" onclick="openProviderDetailModal('CW')">
                                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 10px;">
                                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, var(--teal), var(--success)); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 11px;">CWA</div>
                                            <div>
                                                <div style="font-weight: 700; color: var(--navy); font-size: 13px;">Crossworld Academy</div>
                                                <div style="font-size: 11px; color: var(--gray-500);">Ermita, Manila</div>
                                            </div>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; font-size: 11px;">
                                            <span style="color: var(--gray-500);"> 18 courses</span>
                                            <span style="color: var(--success); font-weight: 600;"> 4.9 rating</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Upcoming Schedules -->
                            <div style="background: white; border-radius: 20px; padding: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.06);">
                                <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px; font-size: 15px;"> Upcoming Classes</h4>
                                <div style="display: flex; flex-direction: column; gap: 12px;">
                                    <div style="display: flex; gap: 12px; padding: 12px; background: rgba(139,92,246,0.05); border-radius: 10px; border-left: 3px solid var(--purple);">
                                        <div style="text-align: center; min-width: 50px;">
                                            <div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 20px;">15</div>
                                            <div style="font-size: 10px; color: var(--gray-500);">FEB</div>
                                        </div>
                                        <div>
                                            <div style="font-weight: 600; color: var(--navy); font-size: 13px;">BST Refresher</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">NYK-TDG  8 enrolled</div>
                                        </div>
                                    </div>
                                    <div style="display: flex; gap: 12px; padding: 12px; background: rgba(245,158,11,0.05); border-radius: 10px; border-left: 3px solid var(--warning);">
                                        <div style="text-align: center; min-width: 50px;">
                                            <div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 20px;">20</div>
                                            <div style="font-size: 10px; color: var(--gray-500);">FEB</div>
                                        </div>
                                        <div>
                                            <div style="font-weight: 600; color: var(--navy); font-size: 13px;">Adv. Fire Fighting</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">Magsaysay  12 enrolled</div>
                                        </div>
                                    </div>
                                    <div style="display: flex; gap: 12px; padding: 12px; background: rgba(23,162,184,0.05); border-radius: 10px; border-left: 3px solid var(--teal);">
                                        <div style="text-align: center; min-width: 50px;">
                                            <div style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 20px;">01</div>
                                            <div style="font-size: 10px; color: var(--gray-500);">MAR</div>
                                        </div>
                                        <div>
                                            <div style="font-weight: 600; color: var(--navy); font-size: 13px;">Bridge Team Mgmt</div>
                                            <div style="font-size: 11px; color: var(--gray-500);">NYK-TDG  6 enrolled</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Quick Actions -->
                            <div style="background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%); border-radius: 20px; padding: 20px; color: white;">
                                <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; margin-bottom: 16px; font-size: 15px;"> Quick Actions</h4>
                                <div style="display: flex; flex-direction: column; gap: 10px;">
                                    <button class="quick-action-btn" onclick="openEnrollTrainingModal()">
                                        <span></span> Enroll Seafarer
                                    </button>
                                    <button class="quick-action-btn" onclick="generateTrainingReport()">
                                        <span></span> Training Report
                                    </button>
                                    <button class="quick-action-btn" onclick="checkSTCWCompliance()">
                                        <span></span> STCW Compliance Check
                                    </button>
                                    <button class="quick-action-btn" onclick="openCertificateRenewalModal()">
                                        <span></span> Certificate Renewals
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ADVANCED REPORTING PAGE -->
            <div class="page" id="page-reports">
                <div class="page-content" style="padding: 24px; max-width: 100%; overflow-x: hidden;">
                    <!-- Header -->
                    <div class="rfa-header" style="margin-bottom: 24px;">
                        <div>
                            <h2 style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 28px; display: flex; align-items: center; gap: 12px;">
                                <span style="font-size: 32px;"></span> Advanced Reporting
                            </h2>
                            <p style="color: var(--gray-500); margin-top: 4px;">Crew Reports  Analytics  Custom Exports  Scheduled Delivery</p>
                        </div>
                        <div style="display: flex; gap: 12px; align-items: center;">
                            <button class="btn btn-ghost" onclick="openScheduledReportsModal()" style="background: rgba(139,92,246,0.1); color: var(--purple);">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                                Scheduled Reports
                            </button>
                            <button class="btn btn-primary" onclick="openNewReportModal()">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                                New Report
                            </button>
                        </div>
                    </div>
                    
                    <!-- Summary Stats -->
                    <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 16px; margin-bottom: 24px;">
                        <div style="background: linear-gradient(135deg, var(--navy) 0%, var(--teal) 100%); border-radius: 16px; padding: 20px; color: white;">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/></svg>
                                Total Reports
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">24</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Available templates</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%); border-radius: 16px; padding: 20px; color: white;">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                                Scheduled
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">8</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Auto-delivery active</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--success) 0%, var(--teal-light) 100%); border-radius: 16px; padding: 20px; color: white;">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
                                Generated Today
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">12</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Reports exported</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--info) 0%, var(--purple) 100%); border-radius: 16px; padding: 20px; color: white;">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg>
                                Crew Records
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">847</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">Available for reports</div>
                        </div>
                        <div style="background: linear-gradient(135deg, var(--warning) 0%, #FBBF24 100%); border-radius: 16px; padding: 20px; color: white;">
                            <div style="font-size: 12px; opacity: 0.8; margin-bottom: 8px; display: flex; align-items: center; gap: 6px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                                Downloads
                            </div>
                            <div style="font-family: 'Montserrat', sans-serif; font-size: 32px; font-weight: 900;">156</div>
                            <div style="font-size: 11px; opacity: 0.7; margin-top: 4px;">This month</div>
                        </div>
                    </div>
                    
                    <!-- Main Reports Dashboard -->
                    <div class="reports-dashboard">
                        <!-- Sidebar Navigation -->
                        <div class="reports-sidebar">
                            <div class="reports-category">
                                <div class="reports-category-title">Crew Reports</div>
                                <button class="report-nav-item active" onclick="selectReportType('crew-roster')">
                                    <svg class="report-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                                    <span class="report-nav-label">Crew Roster</span>
                                </button>
                                <button class="report-nav-item" onclick="selectReportType('certifications')">
                                    <svg class="report-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="16" rx="2"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                                    <span class="report-nav-label">Certifications</span>
                                    <span class="report-nav-count">23</span>
                                </button>
                                <button class="report-nav-item" onclick="selectReportType('demographics')">
                                    <svg class="report-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20V10"/><path d="M18 20V4"/><path d="M6 20v-4"/></svg>
                                    <span class="report-nav-label">Demographics</span>
                                </button>
                                <button class="report-nav-item" onclick="selectReportType('experience')">
                                    <svg class="report-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                                    <span class="report-nav-label">Sea Experience</span>
                                </button>
                            </div>
                            
                            <div class="reports-category">
                                <div class="reports-category-title">Compliance</div>
                                <button class="report-nav-item" onclick="selectReportType('stcw-compliance')">
                                    <svg class="report-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                                    <span class="report-nav-label">STCW Compliance</span>
                                    <span class="report-nav-count" style="background: rgba(16,185,129,0.1); color: var(--success);">94%</span>
                                </button>
                                <button class="report-nav-item" onclick="selectReportType('doc-expiry')">
                                    <svg class="report-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/></svg>
                                    <span class="report-nav-label">Expiring Docs</span>
                                    <span class="report-nav-count" style="background: rgba(239,68,68,0.1); color: var(--danger);">38</span>
                                </button>
                                <button class="report-nav-item" onclick="selectReportType('medical-status')">
                                    <svg class="report-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                                    <span class="report-nav-label">Medical Status</span>
                                </button>
                            </div>
                            
                            <div class="reports-category">
                                <div class="reports-category-title">Templates</div>
                                <button class="report-nav-item" onclick="selectReportType('custom')">
                                    <svg class="report-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/></svg>
                                    <span class="report-nav-label">Custom Builder</span>
                                </button>
                                <button class="report-nav-item" onclick="selectReportType('saved')">
                                    <svg class="report-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
                                    <span class="report-nav-label">Saved Reports</span>
                                    <span class="report-nav-count">6</span>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Main Content Area -->
                        <div class="reports-main">
                            <!-- Report Builder Card -->
                            <div class="report-builder-card">
                                <div class="report-builder-header">
                                    <div class="report-builder-title">
                                        <span></span> Crew Roster Report
                                    </div>
                                    <div class="report-builder-subtitle">Generate comprehensive crew roster with customizable columns</div>
                                </div>
                                
                                <div class="report-builder-body">
                                    <!-- Configuration Row -->
                                    <div class="report-config-row">
                                        <div class="report-config-group">
                                            <label>Vessel Filter</label>
                                            <select id="report-vessel-filter" onchange="updateReportPreview()">
                                                <option value="all">All Vessels (12)</option>
                                                <option value="mv-diana">MV DIANA PIONEER</option>
                                                <option value="mv-athena">MV ATHENA GLORY</option>
                                                <option value="mv-poseidon">MV POSEIDON STAR</option>
                                                <option value="mv-aegean">MV AEGEAN WAVE</option>
                                            </select>
                                        </div>
                                        <div class="report-config-group">
                                            <label>Status Filter</label>
                                            <select id="report-status-filter" onchange="updateReportPreview()">
                                                <option value="all">All Status</option>
                                                <option value="onboard"> Onboard</option>
                                                <option value="standby"> Standby</option>
                                                <option value="leave"> On Leave</option>
                                                <option value="training"> Training</option>
                                            </select>
                                        </div>
                                        <div class="report-config-group">
                                            <label>Rank Filter</label>
                                            <select id="report-rank-filter" onchange="updateReportPreview()">
                                                <option value="all">All Ranks</option>
                                                <option value="officers">Officers Only</option>
                                                <option value="ratings">Ratings Only</option>
                                                <option value="deck">Deck Department</option>
                                                <option value="engine">Engine Department</option>
                                            </select>
                                        </div>
                                        <div class="report-config-group">
                                            <label>Date Range</label>
                                            <select id="report-date-range">
                                                <option value="current">Current Status</option>
                                                <option value="month">This Month</option>
                                                <option value="quarter">This Quarter</option>
                                                <option value="year">This Year</option>
                                                <option value="custom">Custom Range...</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <!-- Column Selector -->
                                    <div class="report-columns-selector">
                                        <div class="report-columns-title">
                                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
                                            Select Columns to Include
                                        </div>
                                        <div class="report-columns-grid">
                                            <div class="report-column-chip selected" onclick="toggleReportColumn(this)">
                                                <div class="column-checkbox"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>
                                                <span>Full Name</span>
                                            </div>
                                            <div class="report-column-chip selected" onclick="toggleReportColumn(this)">
                                                <div class="column-checkbox"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>
                                                <span>Rank</span>
                                            </div>
                                            <div class="report-column-chip selected" onclick="toggleReportColumn(this)">
                                                <div class="column-checkbox"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>
                                                <span>Vessel</span>
                                            </div>
                                            <div class="report-column-chip selected" onclick="toggleReportColumn(this)">
                                                <div class="column-checkbox"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>
                                                <span>Status</span>
                                            </div>
                                            <div class="report-column-chip" onclick="toggleReportColumn(this)">
                                                <div class="column-checkbox"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>
                                                <span>Join Date</span>
                                            </div>
                                            <div class="report-column-chip" onclick="toggleReportColumn(this)">
                                                <div class="column-checkbox"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>
                                                <span>Contract End</span>
                                            </div>
                                            <div class="report-column-chip" onclick="toggleReportColumn(this)">
                                                <div class="column-checkbox"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>
                                                <span>Nationality</span>
                                            </div>
                                            <div class="report-column-chip" onclick="toggleReportColumn(this)">
                                                <div class="column-checkbox"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>
                                                <span>Age</span>
                                            </div>
                                            <div class="report-column-chip" onclick="toggleReportColumn(this)">
                                                <div class="column-checkbox"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>
                                                <span>STCW Status</span>
                                            </div>
                                            <div class="report-column-chip" onclick="toggleReportColumn(this)">
                                                <div class="column-checkbox"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>
                                                <span>Medical Expiry</span>
                                            </div>
                                            <div class="report-column-chip" onclick="toggleReportColumn(this)">
                                                <div class="column-checkbox"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>
                                                <span>Passport Expiry</span>
                                            </div>
                                            <div class="report-column-chip" onclick="toggleReportColumn(this)">
                                                <div class="column-checkbox"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>
                                                <span>Sea Service</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Preview Table -->
                                    <div class="report-preview">
                                        <div class="report-preview-header">
                                            <div class="report-preview-title">
                                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                                                Preview (showing 5 of 247 records)
                                            </div>
                                            <span style="font-size: 12px; color: var(--gray-500);">Last updated: Just now</span>
                                        </div>
                                        <div style="overflow-x: auto;">
                                            <table class="report-preview-table">
                                                <thead>
                                                    <tr>
                                                        <th>Full Name</th>
                                                        <th>Rank</th>
                                                        <th>Vessel</th>
                                                        <th>Status</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td><strong>Juan Dela Cruz</strong></td>
                                                        <td>Chief Officer</td>
                                                        <td>MV DIANA PIONEER</td>
                                                        <td><span style="padding: 4px 10px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 6px; font-size: 11px; font-weight: 600;"> Onboard</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><strong>Michael Reyes</strong></td>
                                                        <td>2nd Engineer</td>
                                                        <td>MV ATHENA GLORY</td>
                                                        <td><span style="padding: 4px 10px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 6px; font-size: 11px; font-weight: 600;"> Onboard</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><strong>Roberto Garcia</strong></td>
                                                        <td>Bosun</td>
                                                        <td>MV POSEIDON STAR</td>
                                                        <td><span style="padding: 4px 10px; background: rgba(245,158,11,0.1); color: var(--warning); border-radius: 6px; font-size: 11px; font-weight: 600;"> Standby</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><strong>Pedro Lopez</strong></td>
                                                        <td>AB Seaman</td>
                                                        <td>MV AEGEAN WAVE</td>
                                                        <td><span style="padding: 4px 10px; background: rgba(139,92,246,0.1); color: var(--purple); border-radius: 6px; font-size: 11px; font-weight: 600;"> Training</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><strong>Antonio Santos</strong></td>
                                                        <td>Oiler</td>
                                                        <td>MV DIANA PIONEER</td>
                                                        <td><span style="padding: 4px 10px; background: rgba(59,130,246,0.1); color: var(--info); border-radius: 6px; font-size: 11px; font-weight: 600;"> On Leave</span></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    
                                    <!-- Schedule Options -->
                                    <div class="report-schedule-form">
                                        <div class="schedule-form-title">
                                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                                            Schedule Automated Delivery
                                        </div>
                                        <div class="schedule-options">
                                            <div class="schedule-option" onclick="selectSchedule(this, 'none')">
                                                No Schedule
                                            </div>
                                            <div class="schedule-option" onclick="selectSchedule(this, 'daily')">
                                                 Daily
                                            </div>
                                            <div class="schedule-option selected" onclick="selectSchedule(this, 'weekly')">
                                                 Weekly
                                            </div>
                                            <div class="schedule-option" onclick="selectSchedule(this, 'monthly')">
                                                 Monthly
                                            </div>
                                            <div class="schedule-option" onclick="selectSchedule(this, 'quarterly')">
                                                 Quarterly
                                            </div>
                                        </div>
                                        <div style="margin-top: 16px; display: flex; gap: 12px; align-items: center;">
                                            <label style="font-size: 13px; color: var(--gray-600);">Email Recipients:</label>
                                            <input type="text" placeholder="email@company.com, manager@company.com" style="flex: 1; padding: 10px 14px; border: 2px solid var(--gray-200); border-radius: 10px; font-size: 13px;">
                                        </div>
                                    </div>
                                    
                                    <!-- Export Actions -->
                                    <div class="report-actions">
                                        <div class="report-export-buttons">
                                            <button class="export-btn excel" onclick="exportReport('xlsx')">
                                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                                                Export Excel
                                            </button>
                                            <button class="export-btn pdf" onclick="exportReport('pdf')">
                                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                                                Export PDF
                                            </button>
                                            <button class="export-btn csv" onclick="exportReport('csv')">
                                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                                                Export CSV
                                            </button>
                                        </div>
                                        <div style="display: flex; gap: 12px;">
                                            <button class="btn btn-ghost" onclick="saveReportTemplate()" style="background: var(--gray-100);">
                                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
                                                Save Template
                                            </button>
                                            <button class="btn btn-primary" onclick="generateReport()">
                                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
                                                Generate Report
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Charts Section -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                <div class="chart-container">
                                    <div class="chart-header">
                                        <div class="chart-title"> Crew by Rank Distribution</div>
                                        <select style="padding: 6px 12px; border: 1px solid var(--gray-200); border-radius: 8px; font-size: 12px;">
                                            <option>All Vessels</option>
                                            <option>MV DIANA PIONEER</option>
                                        </select>
                                    </div>
                                    <div class="chart-canvas">
                                        <div class="chart-bar">
                                            <div class="bar-item">
                                                <div class="bar-fill" style="height: 80%; background: linear-gradient(180deg, var(--navy), var(--teal));"></div>
                                                <div class="bar-label">Officers</div>
                                            </div>
                                            <div class="bar-item">
                                                <div class="bar-fill" style="height: 65%; background: linear-gradient(180deg, var(--purple), var(--pink));"></div>
                                                <div class="bar-label">Engineers</div>
                                            </div>
                                            <div class="bar-item">
                                                <div class="bar-fill" style="height: 90%; background: linear-gradient(180deg, var(--success), var(--teal-light));"></div>
                                                <div class="bar-label">Ratings</div>
                                            </div>
                                            <div class="bar-item">
                                                <div class="bar-fill" style="height: 45%; background: linear-gradient(180deg, var(--warning), #FBBF24);"></div>
                                                <div class="bar-label">Cadets</div>
                                            </div>
                                            <div class="bar-item">
                                                <div class="bar-fill" style="height: 30%; background: linear-gradient(180deg, var(--info), var(--purple));"></div>
                                                <div class="bar-label">Galley</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="chart-container">
                                    <div class="chart-header">
                                        <div class="chart-title"> Crew Demographics by Age</div>
                                        <select style="padding: 6px 12px; border: 1px solid var(--gray-200); border-radius: 8px; font-size: 12px;">
                                            <option>All Ranks</option>
                                            <option>Officers Only</option>
                                        </select>
                                    </div>
                                    <div class="chart-canvas">
                                        <div class="chart-bar">
                                            <div class="bar-item">
                                                <div class="bar-fill" style="height: 35%; background: linear-gradient(180deg, var(--teal), var(--success));"></div>
                                                <div class="bar-label">18-25</div>
                                            </div>
                                            <div class="bar-item">
                                                <div class="bar-fill" style="height: 75%; background: linear-gradient(180deg, var(--teal), var(--success));"></div>
                                                <div class="bar-label">26-35</div>
                                            </div>
                                            <div class="bar-item">
                                                <div class="bar-fill" style="height: 90%; background: linear-gradient(180deg, var(--teal), var(--success));"></div>
                                                <div class="bar-label">36-45</div>
                                            </div>
                                            <div class="bar-item">
                                                <div class="bar-fill" style="height: 55%; background: linear-gradient(180deg, var(--teal), var(--success));"></div>
                                                <div class="bar-label">46-55</div>
                                            </div>
                                            <div class="bar-item">
                                                <div class="bar-fill" style="height: 25%; background: linear-gradient(180deg, var(--teal), var(--success));"></div>
                                                <div class="bar-label">55+</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Saved Reports -->
                            <div style="background: white; border-radius: 20px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.06);">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                    <h3 style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--navy); font-size: 18px; display: flex; align-items: center; gap: 8px;">
                                         Saved Report Templates
                                    </h3>
                                    <button class="btn btn-ghost" style="font-size: 12px;">View All </button>
                                </div>
                                
                                <div class="saved-reports-grid">
                                    <div class="saved-report-card" onclick="loadSavedReport('monthly-roster')">
                                        <div class="saved-report-icon" style="background: linear-gradient(135deg, rgba(23,162,184,0.1), rgba(32,201,151,0.1));"></div>
                                        <div class="saved-report-name">Monthly Crew Roster</div>
                                        <div class="saved-report-desc">Full fleet crew list with certifications</div>
                                        <div class="saved-report-meta">
                                            <span style="color: var(--gray-500);">Last run: 2 days ago</span>
                                            <span class="schedule-badge"> Monthly</span>
                                        </div>
                                    </div>
                                    
                                    <div class="saved-report-card" onclick="loadSavedReport('expiring-docs')">
                                        <div class="saved-report-icon" style="background: linear-gradient(135deg, rgba(239,68,68,0.1), rgba(245,158,11,0.1));"></div>
                                        <div class="saved-report-name">Expiring Documents Alert</div>
                                        <div class="saved-report-desc">Docs expiring within 90 days</div>
                                        <div class="saved-report-meta">
                                            <span style="color: var(--gray-500);">Last run: Today</span>
                                            <span class="schedule-badge"> Weekly</span>
                                        </div>
                                    </div>
                                    
                                    <div class="saved-report-card" onclick="loadSavedReport('stcw-compliance')">
                                        <div class="saved-report-icon" style="background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(23,162,184,0.1));"></div>
                                        <div class="saved-report-name">STCW Compliance Report</div>
                                        <div class="saved-report-desc">Training & certification status</div>
                                        <div class="saved-report-meta">
                                            <span style="color: var(--gray-500);">Last run: 5 days ago</span>
                                            <span class="schedule-badge"> Quarterly</span>
                                        </div>
                                    </div>
                                    
                                    <div class="saved-report-card" onclick="loadSavedReport('vessel-manning')">
                                        <div class="saved-report-icon" style="background: linear-gradient(135deg, rgba(139,92,246,0.1), rgba(236,72,153,0.1));"></div>
                                        <div class="saved-report-name">Vessel Manning Status</div>
                                        <div class="saved-report-desc">Per-vessel crew complement</div>
                                        <div class="saved-report-meta">
                                            <span style="color: var(--gray-500);">Last run: 1 week ago</span>
                                            <span class="schedule-badge"> Monthly</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    <!-- Add Vessel Modal -->
        <div class="modal-overlay" id="vessel-modal">
            <div class="modal-container">
                <div class="modal-header">
                    <h2>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle; margin-right: 10px;">
                            <path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/>
                            <path d="M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76"/>
                            <path d="M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6"/>
                        </svg>
                        Add New Vessel
                    </h2>
                    <button class="modal-close" onclick="closeVesselModal()">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
                        </svg>
                    </button>
                </div>
                
                <div class="modal-body">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Vessel Name <span>*</span></label>
                            <input type="text" id="modal-vessel-name" placeholder="e.g. MV DIANA PIONEER" />
                        </div>
                        <div class="form-group">
                            <label>IMO Number <span>*</span></label>
                            <input type="text" id="modal-vessel-imo" placeholder="e.g. 9123456" maxlength="7" />
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Vessel Type <span>*</span></label>
                            <select id="modal-vessel-type">
                                <option value="">Select type...</option>
                                <option value="bulk"> Bulk Carrier</option>
                                <option value="tanker"> Tanker</option>
                                <option value="container"> Container Ship</option>
                                <option value="lng"> LNG Carrier</option>
                                <option value="cruise"> Cruise Ship</option>
                                <option value="roro"> Ro-Ro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Flag State <span>*</span></label>
                            <select id="modal-vessel-flag">
                                <option value="">Select flag...</option>
                                <option value="GR"> Greece</option>
                                <option value="MT"> Malta</option>
                                <option value="CY"> Cyprus</option>
                                <option value="PA"> Panama</option>
                                <option value="LR"> Liberia</option>
                                <option value="MH"> Marshall Islands</option>
                                <option value="BS"> Bahamas</option>
                                <option value="SG"> Singapore</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>DWT (Deadweight Tonnage)</label>
                            <input type="text" id="modal-vessel-dwt" placeholder="e.g. 82,000" />
                        </div>
                        <div class="form-group">
                            <label>Year Built</label>
                            <input type="text" id="modal-vessel-year" placeholder="e.g. 2018" maxlength="4" />
                        </div>
                    </div>
                    
                    <div class="form-row single">
                        <div class="form-group">
                            <label>Crew Complement</label>
                            <input type="number" id="modal-vessel-crew" placeholder="e.g. 22" />
                        </div>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button class="btn btn-ghost" onclick="closeVesselModal()" style="background: var(--gray-200); color: var(--navy);">
                        Cancel
                    </button>
                    <button class="btn btn-primary" onclick="saveNewVessel()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                        Add Vessel
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Success Toast -->
        <div class="toast" id="success-toast">
            <div class="toast-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3">
                    <polyline points="20 6 9 17 4 12"/>
                </svg>
            </div>
            <div class="toast-content">
                <h4>Vessel Added Successfully!</h4>
                <p id="toast-message">MV DIANA PIONEER has been added to your fleet.</p>
            </div>
        </div>
        
        <!-- Seafarer Detail Modal -->
        <div class="modal-overlay" id="seafarer-modal">
            <div class="modal-container seafarer-modal-content" style="max-width: 750px;">
                <div class="seafarer-modal-header">
                    <div class="seafarer-modal-photo" id="sm-photo">JD</div>
                    <div class="seafarer-modal-info">
                        <h2 id="sm-name">Juan Dela Cruz</h2>
                        <p id="sm-rank">Chief Officer   Filipino</p>
                        <div style="display: flex; gap: 8px; margin-top: 12px;">
                            <span class="availability-badge available" id="sm-availability">Available Now</span>
                            <span style="padding: 6px 12px; background: rgba(255,255,255,0.2); border-radius: 20px; font-size: 11px; color: white;"> Verified</span>
                        </div>
                    </div>
                    <div class="modal-score-badge">
                        <div class="score" id="sm-score">92</div>
                        <div class="label">AI Score</div>
                    </div>
                    <button class="modal-close" onclick="closeSeafarerModal()" style="position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,0.2);">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
                        </svg>
                    </button>
                </div>
                
                <div class="modal-body" style="padding: 24px; max-height: 60vh; overflow-y: auto;">
                    <!-- AI Score Breakdown -->
                    <div style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.1)); border-radius: 16px; padding: 20px; margin-bottom: 20px; border: 1px solid rgba(139, 92, 246, 0.2);">
                        <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px; display: flex; align-items: center; gap: 8px;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#8B5CF6" stroke-width="2"><path d="M12 2a10 10 0 1 0 10 10H12V2z"/></svg>
                            AI Score Breakdown
                        </h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px;">
                            <div style="text-align: center;">
                                <div style="font-family: 'Montserrat', sans-serif; font-size: 24px; font-weight: 800; color: var(--navy);">95</div>
                                <div style="font-size: 11px; color: var(--gray-500);">Experience</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-family: 'Montserrat', sans-serif; font-size: 24px; font-weight: 800; color: var(--navy);">90</div>
                                <div style="font-size: 11px; color: var(--gray-500);">Certifications</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-family: 'Montserrat', sans-serif; font-size: 24px; font-weight: 800; color: var(--navy);">88</div>
                                <div style="font-size: 11px; color: var(--gray-500);">Skills</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-family: 'Montserrat', sans-serif; font-size: 24px; font-weight: 800; color: var(--navy);">95</div>
                                <div style="font-size: 11px; color: var(--gray-500);">References</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Contact & Social -->
                    <div style="background: var(--gray-50); border-radius: 16px; padding: 20px; margin-bottom: 20px;">
                        <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;">Contact Information</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 16px;">
                            <div>
                                <div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Email</div>
                                <div style="font-weight: 600; color: var(--navy);"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="147e61757a3a707178757766616e547179757d783a777b79">[email&#160;protected]</a></div>
                            </div>
                            <div>
                                <div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Phone</div>
                                <div style="font-weight: 600; color: var(--navy);">+63 917 123 4567</div>
                            </div>
                        </div>
                        <div style="display: flex; gap: 10px;">
                            <a href="#" class="social-link linkedin" style="width: 44px; height: 44px; border-radius: 12px;">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                            </a>
                            <a href="#" class="social-link facebook" style="width: 44px; height: 44px; border-radius: 12px;">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                            </a>
                            <a href="#" class="social-link whatsapp" style="width: 44px; height: 44px; border-radius: 12px;">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                            </a>
                            <a href="#" class="social-link email" style="width: 44px; height: 44px; border-radius: 12px;">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Professional Details -->
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 20px;">
                        <div style="background: var(--gray-50); border-radius: 16px; padding: 20px;">
                            <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;">Professional Info</h4>
                            <div style="margin-bottom: 12px;">
                                <div style="font-size: 11px; color: var(--gray-500);">Department</div>
                                <div style="font-weight: 600; color: var(--navy);">Deck</div>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <div style="font-size: 11px; color: var(--gray-500);">Experience</div>
                                <div style="font-weight: 600; color: var(--navy);">12 Years</div>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <div style="font-size: 11px; color: var(--gray-500);">Vessel Type</div>
                                <div style="font-weight: 600; color: var(--navy);">Bulk Carrier, Container</div>
                            </div>
                            <div>
                                <div style="font-size: 11px; color: var(--gray-500);">Expected Salary</div>
                                <div style="font-weight: 600; color: var(--navy);">$6,500 - $7,500/mo</div>
                            </div>
                        </div>
                        <div style="background: var(--gray-50); border-radius: 16px; padding: 20px;">
                            <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;">Personal Info</h4>
                            <div style="margin-bottom: 12px;">
                                <div style="font-size: 11px; color: var(--gray-500);">Date of Birth</div>
                                <div style="font-weight: 600; color: var(--navy);">March 15, 1988 (37 y/o)</div>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <div style="font-size: 11px; color: var(--gray-500);">Nationality</div>
                                <div style="font-weight: 600; color: var(--navy);"> Filipino</div>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <div style="font-size: 11px; color: var(--gray-500);">Marital Status</div>
                                <div style="font-weight: 600; color: var(--navy);">Married</div>
                            </div>
                            <div>
                                <div style="font-size: 11px; color: var(--gray-500);">Languages</div>
                                <div style="font-weight: 600; color: var(--navy);">English (Fluent), Filipino</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Skills -->
                    <div style="background: var(--gray-50); border-radius: 16px; padding: 20px; margin-bottom: 20px;">
                        <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;">Skills & Competencies</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                            <span class="skill-chip">Navigation</span>
                            <span class="skill-chip">ECDIS</span>
                            <span class="skill-chip">Cargo Operations</span>
                            <span class="skill-chip">Bridge Watchkeeping</span>
                            <span class="skill-chip">Safety Management</span>
                            <span class="skill-chip">ISM/ISPS</span>
                            <span class="skill-chip">Leadership</span>
                            <span class="skill-chip">English (Fluent)</span>
                            <span class="skill-chip">Tanker Ops</span>
                            <span class="skill-chip">Vetting Inspection</span>
                        </div>
                    </div>
                    
                    <!-- Sea Service History -->
                    <div style="background: var(--gray-50); border-radius: 16px; padding: 20px; margin-bottom: 20px;">
                        <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;">Sea Service History</h4>
                        <div style="padding: 12px; background: white; border-radius: 12px; margin-bottom: 10px; border-left: 4px solid var(--teal);">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                                <div>
                                    <div style="font-weight: 700; color: var(--navy);">MV DIANA PIONEER</div>
                                    <div style="font-size: 13px; color: var(--gray-500);">Chief Officer  Bulk Carrier  Diana Shipping</div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 12px; color: var(--gray-500);">2024 - 2025</div>
                                    <div style="font-size: 12px; font-weight: 600; color: var(--teal);">9 months</div>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 12px; background: white; border-radius: 12px; margin-bottom: 10px; border-left: 4px solid var(--purple);">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                                <div>
                                    <div style="font-weight: 700; color: var(--navy);">MV CENTROFIN GLORY</div>
                                    <div style="font-size: 13px; color: var(--gray-500);">2nd Officer  Tanker  Centrofin</div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 12px; color: var(--gray-500);">2023 - 2024</div>
                                    <div style="font-size: 12px; font-weight: 600; color: var(--purple);">12 months</div>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 12px; background: white; border-radius: 12px; border-left: 4px solid var(--gold);">
                            <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                                <div>
                                    <div style="font-weight: 700; color: var(--navy);">MV PACIFIC STAR</div>
                                    <div style="font-size: 13px; color: var(--gray-500);">2nd Officer  Container  Pacific Lines</div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="font-size: 12px; color: var(--gray-500);">2022 - 2023</div>
                                    <div style="font-size: 12px; font-weight: 600; color: var(--gold);">8 months</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Certificates -->
                    <div style="background: var(--gray-50); border-radius: 16px; padding: 20px;">
                        <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;">Certificates</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: white; border-radius: 10px;">
                                <div style="width: 8px; height: 8px; background: var(--success); border-radius: 50%;"></div>
                                <span style="font-size: 13px;">STCW Certificate</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: white; border-radius: 10px;">
                                <div style="width: 8px; height: 8px; background: var(--success); border-radius: 50%;"></div>
                                <span style="font-size: 13px;">Medical Certificate</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: white; border-radius: 10px;">
                                <div style="width: 8px; height: 8px; background: var(--success); border-radius: 50%;"></div>
                                <span style="font-size: 13px;">Passport</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: white; border-radius: 10px;">
                                <div style="width: 8px; height: 8px; background: var(--success); border-radius: 50%;"></div>
                                <span style="font-size: 13px;">Seaman's Book</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: white; border-radius: 10px;">
                                <div style="width: 8px; height: 8px; background: var(--success); border-radius: 50%;"></div>
                                <span style="font-size: 13px;">GOC Certificate</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: white; border-radius: 10px;">
                                <div style="width: 8px; height: 8px; background: var(--success); border-radius: 50%;"></div>
                                <span style="font-size: 13px;">Basic Safety Training</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="modal-footer" style="justify-content: space-between;">
                    <button class="btn btn-ghost" onclick="closeSeafarerModal()" style="background: var(--gray-200); color: var(--navy);">
                        Close
                    </button>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-outline" onclick="downloadCV()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/>
                            </svg>
                            Download CV
                        </button>
                        <button class="btn btn-teal" onclick="selectSeafarer()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"/>
                            </svg>
                            Select for Position
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- RFA/RFC Create Modal -->
    <div class="modal-overlay" id="rfa-modal">
        <div class="modal-container" style="max-width: 700px;">
            <div class="modal-header" style="background: linear-gradient(135deg, var(--navy) 0%, var(--teal) 100%);">
                <div>
                    <h2 style="color: white; font-family: 'Montserrat', sans-serif; font-weight: 800;"> New RFA / RFC</h2>
                    <p style="color: rgba(255,255,255,0.8); font-size: 14px;">Request for Availability or Request for Crew</p>
                </div>
                <button class="modal-close" onclick="closeRfaModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>
            </div>
            
            <div class="modal-body" style="padding: 24px; max-height: 65vh; overflow-y: auto;">
                <!-- Request Type -->
                <div class="rfa-form-section">
                    <div class="rfa-form-section-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
                        Request Type
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                        <label class="vessel-option selected" onclick="selectRequestType(this, 'rfa')" style="cursor: pointer;">
                            <div style="font-size: 28px; margin-bottom: 8px;"></div>
                            <div class="vessel-option-name">RFA</div>
                            <div class="vessel-option-type">Request for Availability</div>
                        </label>
                        <label class="vessel-option" onclick="selectRequestType(this, 'rfc')" style="cursor: pointer;">
                            <div style="font-size: 28px; margin-bottom: 8px;"></div>
                            <div class="vessel-option-name">RFC</div>
                            <div class="vessel-option-type">Request for Crew</div>
                        </label>
                    </div>
                </div>
                
                <!-- Select Vessel -->
                <div class="rfa-form-section">
                    <div class="rfa-form-section-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/></svg>
                        Select Vessel
                    </div>
                    <div class="vessel-selector">
                        <div class="vessel-option" onclick="selectVessel(this, 'diana-pioneer')">
                            <div class="vessel-option-flag"></div>
                            <div class="vessel-option-name">MV Diana Pioneer</div>
                            <div class="vessel-option-type">Bulk Carrier</div>
                        </div>
                        <div class="vessel-option" onclick="selectVessel(this, 'centrofin-glory')">
                            <div class="vessel-option-flag"></div>
                            <div class="vessel-option-name">MV Centrofin Glory</div>
                            <div class="vessel-option-type">Tanker</div>
                        </div>
                        <div class="vessel-option" onclick="selectVessel(this, 'pioneer-spirit')">
                            <div class="vessel-option-flag"></div>
                            <div class="vessel-option-name">MV Pioneer Spirit</div>
                            <div class="vessel-option-type">Container</div>
                        </div>
                        <div class="vessel-option" onclick="selectVessel(this, 'diana-voyager')">
                            <div class="vessel-option-flag"></div>
                            <div class="vessel-option-name">MV Diana Voyager</div>
                            <div class="vessel-option-type">Bulk Carrier</div>
                        </div>
                        <div class="vessel-option" onclick="selectVessel(this, 'centrofin-star')">
                            <div class="vessel-option-flag"></div>
                            <div class="vessel-option-name">MV Centrofin Star</div>
                            <div class="vessel-option-type">LNG Carrier</div>
                        </div>
                        <div class="vessel-option" onclick="selectVessel(this, 'diana-navigator')">
                            <div class="vessel-option-flag"></div>
                            <div class="vessel-option-name">MV Diana Navigator</div>
                            <div class="vessel-option-type">Bulk Carrier</div>
                        </div>
                    </div>
                </div>
                
                <!-- Select Position -->
                <div class="rfa-form-section">
                    <div class="rfa-form-section-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg>
                        Required Position
                    </div>
                    <div class="position-grid">
                        <div class="position-chip" onclick="selectPosition(this, 'master')">Master</div>
                        <div class="position-chip" onclick="selectPosition(this, 'chief-officer')">Chief Officer</div>
                        <div class="position-chip" onclick="selectPosition(this, '2nd-officer')">2nd Officer</div>
                        <div class="position-chip" onclick="selectPosition(this, '3rd-officer')">3rd Officer</div>
                        <div class="position-chip" onclick="selectPosition(this, 'chief-engineer')">Chief Engineer</div>
                        <div class="position-chip" onclick="selectPosition(this, '2nd-engineer')">2nd Engineer</div>
                        <div class="position-chip" onclick="selectPosition(this, '3rd-engineer')">3rd Engineer</div>
                        <div class="position-chip" onclick="selectPosition(this, 'electrician')">Electrician</div>
                        <div class="position-chip" onclick="selectPosition(this, 'bosun')">Bosun</div>
                        <div class="position-chip" onclick="selectPosition(this, 'ab-seaman')">AB Seaman</div>
                        <div class="position-chip" onclick="selectPosition(this, 'oiler')">Oiler</div>
                        <div class="position-chip" onclick="selectPosition(this, 'cook')">Cook</div>
                    </div>
                </div>
                
                <!-- Priority & Date -->
                <div class="rfa-form-section">
                    <div class="rfa-form-section-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/></svg>
                        Priority & Joining Date
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Priority Level</label>
                            <select id="rfa-priority" style="padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                                <option value="normal">Normal</option>
                                <option value="high">High Priority</option>
                                <option value="urgent">Urgent</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Expected Joining Date</label>
                            <input type="date" id="rfa-joining-date" style="padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                        </div>
                    </div>
                </div>
                
                <!-- Notes -->
                <div class="rfa-form-section">
                    <div class="rfa-form-section-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                        Additional Notes
                    </div>
                    <textarea id="rfa-notes" placeholder="Any special requirements, certifications needed, or notes for this position..." style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-height: 100px; resize: vertical; font-family: 'Open Sans', sans-serif;"></textarea>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-ghost" onclick="closeRfaModal()" style="background: var(--gray-200); color: var(--navy);">
                    Cancel
                </button>
                <button class="btn btn-primary" onclick="createRfa()">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                    Create Request
                </button>
            </div>
        </div>
    </div>

    <!-- RFA Detail Modal -->
    <div class="modal-overlay" id="rfa-detail-modal">
        <div class="modal-container" style="max-width: 600px;">
            <div class="modal-header" style="background: linear-gradient(135deg, var(--warning) 0%, var(--danger) 100%);">
                <div>
                    <h2 style="color: white; font-family: 'Montserrat', sans-serif; font-weight: 800;" id="rfa-detail-title">RFA-2026-0847</h2>
                    <p style="color: rgba(255,255,255,0.9); font-size: 14px;">Chief Officer  MV Diana Pioneer</p>
                </div>
                <button class="modal-close" onclick="closeRfaDetailModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>
            </div>
            
            <div class="modal-body" style="padding: 24px;">
                <!-- Status Timeline -->
                <div style="background: var(--gray-50); border-radius: 16px; padding: 20px; margin-bottom: 20px;">
                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;">Request Timeline</h4>
                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 16px;">
                        <div style="width: 32px; height: 32px; background: var(--success); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px;"></div>
                        <div style="flex: 1; height: 3px; background: var(--success);"></div>
                        <div style="width: 32px; height: 32px; background: var(--warning); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px;">2</div>
                        <div style="flex: 1; height: 3px; background: var(--gray-200);"></div>
                        <div style="width: 32px; height: 32px; background: var(--gray-200); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--gray-500); font-size: 14px;">3</div>
                        <div style="flex: 1; height: 3px; background: var(--gray-200);"></div>
                        <div style="width: 32px; height: 32px; background: var(--gray-200); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--gray-500); font-size: 14px;">4</div>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-size: 11px; color: var(--gray-500);">
                        <span>Created</span>
                        <span style="color: var(--warning); font-weight: 600;">Finding Crew</span>
                        <span>Proposed</span>
                        <span>Approved</span>
                    </div>
                </div>
                
                <!-- Request Details -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px;">
                    <div style="background: var(--gray-50); border-radius: 12px; padding: 16px;">
                        <div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Priority</div>
                        <div style="font-weight: 700; color: var(--danger);"> Urgent</div>
                    </div>
                    <div style="background: var(--gray-50); border-radius: 12px; padding: 16px;">
                        <div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Joining Date</div>
                        <div style="font-weight: 700; color: var(--navy);">Mar 15, 2026</div>
                    </div>
                    <div style="background: var(--gray-50); border-radius: 12px; padding: 16px;">
                        <div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Days Until Join</div>
                        <div style="font-weight: 700; color: var(--warning);">33 days</div>
                    </div>
                    <div style="background: var(--gray-50); border-radius: 12px; padding: 16px;">
                        <div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Principal</div>
                        <div style="font-weight: 700; color: var(--navy);">Diana Shipping</div>
                    </div>
                </div>
                
                <!-- Available Candidates -->
                <div style="background: rgba(59,130,246,0.1); border-radius: 16px; padding: 20px; border: 1px solid rgba(59,130,246,0.2);">
                    <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px; display: flex; align-items: center; gap: 8px;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#3B82F6" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg>
                        Top Matching Candidates
                    </h4>
                    <div style="display: flex; flex-direction: column; gap: 10px;">
                        <div style="display: flex; align-items: center; gap: 12px; background: white; padding: 12px; border-radius: 12px;">
                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, var(--navy), var(--teal)); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 12px;">JR</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: var(--navy);">Juan Reyes</div>
                                <div style="font-size: 12px; color: var(--gray-500);">8 yrs exp  Bulk Carrier</div>
                            </div>
                            <span style="padding: 4px 10px; background: linear-gradient(135deg, var(--purple), var(--pink)); border-radius: 8px; font-size: 11px; font-weight: 700; color: white;">AI 94</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px; background: white; padding: 12px; border-radius: 12px;">
                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, var(--purple), var(--pink)); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 12px;">MC</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600; color: var(--navy);">Miguel Cruz</div>
                                <div style="font-size: 12px; color: var(--gray-500);">10 yrs exp  Bulk Carrier</div>
                            </div>
                            <span style="padding: 4px 10px; background: linear-gradient(135deg, var(--purple), var(--pink)); border-radius: 8px; font-size: 11px; font-weight: 700; color: white;">AI 91</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-ghost" onclick="closeRfaDetailModal()" style="background: var(--gray-200); color: var(--navy);">
                    Close
                </button>
                <button class="btn btn-primary" onclick="assignCrewToRfa()">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><polyline points="17 11 19 13 23 9"/></svg>
                    Assign Crew
                </button>
            </div>
        </div>
    </div>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        // Generate Stars
        const starsLayer = document.getElementById('stars');
        for (let i = 0; i < 100; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.width = (Math.random() * 2 + 1) + 'px';
            star.style.height = star.style.width;
            star.style.setProperty('--duration', (Math.random() * 3 + 2) + 's');
            star.style.setProperty('--delay', Math.random() * 5 + 's');
            starsLayer.appendChild(star);
        }
        
        // Intro Screen Handler
        const introScreen = document.getElementById('intro-screen');
        const enterBtn = document.getElementById('enter-btn');
        
        function enterPlatform() {
            introScreen.classList.add('hidden');
            setTimeout(() => { introScreen.style.display = 'none'; }, 1500);
        }
        
        introScreen.addEventListener('click', enterPlatform);
        enterBtn.addEventListener('click', (e) => { e.stopPropagation(); enterPlatform(); });
        
        // Navigation
        const navItems = document.querySelectorAll('.nav-item');
        const pages = document.querySelectorAll('.page');
        const pageTitle = document.getElementById('page-title');
        const sidebar = document.getElementById('sidebar');
        const mobileOverlay = document.getElementById('mobile-overlay');
        const menuToggle = document.getElementById('menu-toggle');
        
        const pageTitles = {
            dashboard: 'Dashboard',
            marketplace: 'Service Marketplace',
            vessels: 'My Vessels',
            crew: 'Crew Management',
            seafarer: 'Seafarer Portal',
            'seafarer-register': 'Seafarer Registration',
            onboarding: 'Client Onboarding',
            admin: 'Admin Panel',
            'crew-database': 'Crew Database',
            documents: 'Documents',
            'rfa-rfc': 'RFA / RFC Management',
            deployment: 'Crew Deployment',
            contracts: 'Contract Management',
            'sign-off': 'Sign-Off Management'
        };
        
        function navigateTo(pageName) {
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.dataset.page === pageName) item.classList.add('active');
            });
            
            pages.forEach(page => {
                page.classList.remove('active');
                if (page.id === 'page-' + pageName) page.classList.add('active');
            });
            
            pageTitle.textContent = pageTitles[pageName] || 'Dashboard';
            sidebar.classList.remove('open');
            mobileOverlay.classList.remove('active');
            
            // Reset seafarer registration when navigating to it
            if (pageName === 'seafarer-register' && typeof resetSeafarerRegistration === 'function') {
                resetSeafarerRegistration();
            }
        }
        
        navItems.forEach(item => {
            item.addEventListener('click', () => navigateTo(item.dataset.page));
        });
        
        // Mobile Menu
        menuToggle.addEventListener('click', () => {
            sidebar.classList.toggle('open');
            mobileOverlay.classList.toggle('active');
        });
        
        mobileOverlay.addEventListener('click', () => {
            sidebar.classList.remove('open');
            mobileOverlay.classList.remove('active');
        });
        
        // Service Card Add Buttons
        document.querySelectorAll('.add-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                this.classList.toggle('add');
                this.classList.toggle('added');
                if (this.classList.contains('added')) {
                    this.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>Added`;
                } else {
                    this.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>Add`;
                }
                this.closest('.service-card').classList.toggle('selected');
            });
        });

        // =====================================================
        // ONBOARDING WIZARD
        // =====================================================
        let currentOnboardingStep = 1;
        let vessels = [];
        
        const serviceNames = {
            crew: 'Crew Management',
            training: 'Training Programs',
            medical: 'Medical & Insurance',
            ship: 'Ship Management',
            consultancy: 'Maritime Consultancy',
            analytics: 'Advanced Analytics'
        };
        
        const vesselTypes = {
            bulk: 'Bulk Carrier',
            tanker: 'Tanker',
            container: 'Container Ship',
            lng: 'LNG Carrier',
            cruise: 'Cruise Ship',
            roro: 'Ro-Ro'
        };
        
        const flagEmojis = {
            GR: '', MT: '', CY: '', PA: '', LR: '', MH: '', BS: '', SG: '',
            NO: '', DK: '', GB: '', HK: ''
        };
        
        function goToStep(step) {
            // Update sidebar
            document.querySelectorAll('.onboarding-step-item').forEach((item, index) => {
                const stepNum = item.querySelector('.step-number');
                stepNum.classList.remove('active', 'completed', 'pending');
                if (index + 1 < step) {
                    stepNum.classList.add('completed');
                    stepNum.innerHTML = '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>';
                } else if (index + 1 === step) {
                    stepNum.classList.add('active');
                    stepNum.textContent = index + 1;
                } else {
                    stepNum.classList.add('pending');
                    stepNum.textContent = index + 1;
                }
            });
            
            // Update content
            document.querySelectorAll('.onboarding-step-content').forEach(content => {
                content.classList.remove('active');
            });
            const stepContent = document.getElementById('onboarding-step-' + step);
            if (stepContent) {
                stepContent.classList.add('active');
            }
            
            // If going to review step, populate the review
            if (step === 4) {
                populateReview();
            }
            
            currentOnboardingStep = step;
        }
        
        function addVessel() {
            const name = document.getElementById('vessel-name').value;
            const imo = document.getElementById('vessel-imo').value;
            const type = document.getElementById('vessel-type').value;
            const flag = document.getElementById('vessel-flag').value;
            
            if (!name || !imo || !type || !flag) {
                alert('Please fill in all vessel fields');
                return;
            }
            
            vessels.push({ name, imo, type, flag });
            renderVessels();
            
            // Clear form
            document.getElementById('vessel-name').value = '';
            document.getElementById('vessel-imo').value = '';
            document.getElementById('vessel-type').value = '';
            document.getElementById('vessel-flag').value = '';
        }
        
        function removeVessel(index) {
            vessels.splice(index, 1);
            renderVessels();
        }
        
        function renderVessels() {
            const container = document.getElementById('vessel-list');
            if (vessels.length === 0) {
                container.innerHTML = '<p style="color: var(--gray-500); text-align: center; padding: 40px;">No vessels added yet. Add your first vessel below.</p>';
                return;
            }
            
            container.innerHTML = vessels.map((v, i) => `
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px; background: white; border: 1px solid var(--gray-200); border-radius: 12px; margin-bottom: 12px;">
                    <div style="display: flex; align-items: center; gap: 16px;">
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, var(--navy), var(--teal)); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                <path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/>
                                <path d="M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4"/>
                            </svg>
                        </div>
                        <div>
                            <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 4px;">${v.name}</h4>
                            <p style="font-size: 13px; color: var(--gray-500);">IMO ${v.imo}  ${vesselTypes[v.type]}  ${flagEmojis[v.flag]} ${v.flag}</p>
                        </div>
                    </div>
                    <button onclick="removeVessel(${i})" style="width: 36px; height: 36px; border: none; background: rgba(239, 68, 68, 0.1); border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#EF4444" stroke-width="2">
                            <polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                        </svg>
                    </button>
                </div>
            `).join('');
        }
        
        function populateReview() {
            // Company info
            const companyName = document.getElementById('company-name').value || 'Not provided';
            const country = document.getElementById('company-country').value;
            const contact = document.getElementById('contact-person').value || 'Not provided';
            const title = document.getElementById('job-title').value || 'Not provided';
            const email = document.getElementById('company-email').value || 'Not provided';
            const phone = document.getElementById('company-phone').value || 'Not provided';
            
            document.getElementById('review-company').innerHTML = `
                <div><span style="color: var(--gray-500);">Company:</span> <strong>${companyName}</strong></div>
                <div><span style="color: var(--gray-500);">Country:</span> <strong>${flagEmojis[country] || ''} ${country || 'Not selected'}</strong></div>
                <div><span style="color: var(--gray-500);">Contact:</span> <strong>${contact}</strong></div>
                <div><span style="color: var(--gray-500);">Title:</span> <strong>${title}</strong></div>
                <div><span style="color: var(--gray-500);">Email:</span> <strong>${email}</strong></div>
                <div><span style="color: var(--gray-500);">Phone:</span> <strong>${phone}</strong></div>
            `;
            
            // Vessels
            document.getElementById('review-vessel-count').textContent = vessels.length;
            if (vessels.length === 0) {
                document.getElementById('review-vessels').innerHTML = '<p style="color: var(--gray-400);">No vessels added</p>';
            } else {
                document.getElementById('review-vessels').innerHTML = vessels.map(v => `
                    <div style="display: flex; align-items: center; gap: 12px; padding: 10px 0; border-bottom: 1px solid var(--gray-200);">
                        <span style="font-size: 20px;">${flagEmojis[v.flag]}</span>
                        <div>
                            <strong>${v.name}</strong>
                            <span style="color: var(--gray-500);">  ${vesselTypes[v.type]}</span>
                        </div>
                    </div>
                `).join('');
            }
            
            // Services
            const selectedServices = Array.from(document.querySelectorAll('input[name="service"]:checked')).map(cb => cb.value);
            if (selectedServices.length === 0) {
                document.getElementById('review-services').innerHTML = '<p style="color: var(--gray-400);">No services selected</p>';
            } else {
                document.getElementById('review-services').innerHTML = selectedServices.map(s => `
                    <div style="display: flex; align-items: center; gap: 10px; padding: 8px 0;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--success)" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                        <span>${serviceNames[s]}</span>
                    </div>
                `).join('');
            }
        }
        
        function completeOnboarding() {
            // Generate random account ID
            const accountId = 'CW-2026-' + String(Math.floor(10000 + Math.random() * 90000)).padStart(5, '0');
            document.getElementById('account-id').textContent = accountId;
            
            // Hide all steps, show success
            document.querySelectorAll('.onboarding-step-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById('onboarding-success').classList.add('active');
            
            // Update sidebar to all completed
            document.querySelectorAll('.onboarding-step-item .step-number').forEach(stepNum => {
                stepNum.classList.remove('active', 'pending');
                stepNum.classList.add('completed');
                stepNum.innerHTML = '<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>';
            });
        }
        
        // Service option styling
        document.querySelectorAll('.service-option input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const label = this.closest('.service-option');
                if (this.checked) {
                    label.style.borderColor = 'var(--teal)';
                    label.style.background = 'rgba(23, 162, 184, 0.05)';
                } else {
                    label.style.borderColor = 'var(--gray-200)';
                    label.style.background = 'white';
                }
            });
        });
        
        // Initialize vessel list
        renderVessels();
        
        // =====================================================
        // ADD VESSEL MODAL (Dashboard)
        // =====================================================
        let fleetVessels = [
            { name: 'MV DIANA PIONEER', imo: '9123456', type: 'bulk', flag: 'GR', dwt: '82,000', year: '2018', crew: 22 },
            { name: 'MV DIANA VOYAGER', imo: '9234567', type: 'bulk', flag: 'MT', dwt: '75,000', year: '2019', crew: 21 },
            { name: 'MT DIANA SPIRIT', imo: '9345678', type: 'tanker', flag: 'CY', dwt: '110,000', year: '2020', crew: 24 }
        ];
        
        function openVesselModal() {
            document.getElementById('vessel-modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeVesselModal() {
            document.getElementById('vessel-modal').classList.remove('active');
            document.body.style.overflow = '';
            // Clear form
            document.getElementById('modal-vessel-name').value = '';
            document.getElementById('modal-vessel-imo').value = '';
            document.getElementById('modal-vessel-type').value = '';
            document.getElementById('modal-vessel-flag').value = '';
            document.getElementById('modal-vessel-dwt').value = '';
            document.getElementById('modal-vessel-year').value = '';
            document.getElementById('modal-vessel-crew').value = '';
        }
        
        function saveNewVessel() {
            const name = document.getElementById('modal-vessel-name').value;
            const imo = document.getElementById('modal-vessel-imo').value;
            const type = document.getElementById('modal-vessel-type').value;
            const flag = document.getElementById('modal-vessel-flag').value;
            const dwt = document.getElementById('modal-vessel-dwt').value;
            const year = document.getElementById('modal-vessel-year').value;
            const crew = document.getElementById('modal-vessel-crew').value;
            
            if (!name || !imo || !type || !flag) {
                alert('Please fill in all required fields (Vessel Name, IMO, Type, Flag)');
                return;
            }
            
            // Add to fleet
            fleetVessels.push({ name, imo, type, flag, dwt, year, crew: parseInt(crew) || 0 });
            
            // Update dashboard vessel count
            updateDashboardStats();
            
            // Close modal
            closeVesselModal();
            
            // Show success toast
            showToast(name);
        }
        
        function updateDashboardStats() {
            // Update Active Vessels count in dashboard
            const vesselCountElement = document.querySelector('#page-dashboard .stat-value');
            if (vesselCountElement) {
                vesselCountElement.textContent = fleetVessels.length + 9; // Base 12 - 3 demo = 9, plus new ones
            }
        }
        
        function showToast(vesselName) {
            const toast = document.getElementById('success-toast');
            document.getElementById('toast-message').textContent = `${vesselName} has been added to your fleet.`;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 4000);
        }
        
        // Close modal on overlay click
        document.getElementById('vessel-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeVesselModal();
            }
        });
        
        // =====================================================
        // SEAFARER PORTAL FUNCTIONS
        // =====================================================
        function showSeafarerSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.seafarer-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show the selected section
            const targetSection = document.getElementById('seafarer-' + sectionName);
            if (targetSection) {
                targetSection.classList.add('active');
            }
        }
        
        function uploadDocument() {
            const docType = document.getElementById('upload-doc-type').value;
            const expiry = document.getElementById('upload-expiry').value;
            
            if (!docType) {
                alert('Please select a document type');
                return;
            }
            
            // Show success toast
            const toast = document.getElementById('success-toast');
            document.getElementById('toast-message').textContent = 'Document uploaded successfully!';
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 4000);
            
            // Go back to documents section
            showSeafarerSection('documents');
            
            // Clear form
            document.getElementById('upload-doc-type').value = '';
            document.getElementById('upload-expiry').value = '';
        }
        
        function bookCourse(courseName) {
            // Show success toast
            const toast = document.getElementById('success-toast');
            document.getElementById('toast-message').textContent = `Booking confirmed for ${courseName}!`;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 4000);
        }
        
        // File input styling
        const fileInput = document.getElementById('file-input');
        if (fileInput) {
            fileInput.addEventListener('change', function(e) {
                if (e.target.files.length > 0) {
                    const fileName = e.target.files[0].name;
                    const uploadZone = document.querySelector('.upload-zone');
                    uploadZone.innerHTML = `
                        <div style="width: 60px; height: 60px; background: linear-gradient(135deg, var(--success), var(--teal-light)); border-radius: 16px; margin: 0 auto 16px; display: flex; align-items: center; justify-content: center;">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                        </div>
                        <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 8px;">File Selected</h4>
                        <p style="color: var(--gray-500); font-size: 13px;">${fileName}</p>
                    `;
                }
            });
        }
        
        // =====================================================
        // CREW DATABASE FUNCTIONS
        // =====================================================
        
        // Seafarer data
        const seafarersData = [
            {
                id: 'sf1',
                name: 'Juan Dela Cruz',
                initials: 'JD',
                rank: 'Chief Officer',
                department: 'deck',
                nationality: ' Filipino',
                experience: '12 Years',
                vesselType: 'Bulk Carrier',
                salary: '$6,500/mo',
                contracts: 8,
                score: 92,
                availability: 'available',
                skills: ['Navigation', 'ECDIS', 'Cargo Ops'],
                email: 'juan.delacruz@email.com',
                phone: '+63 917 123 4567',
                linkedin: 'https://linkedin.com/in/juandelacruz',
                facebook: 'https://facebook.com/juandelacruz',
                whatsapp: '+639171234567',
                gradient: 'linear-gradient(135deg, #D4A84B, #F0C674)'
            },
            {
                id: 'sf2',
                name: 'Michael Rodriguez',
                initials: 'MR',
                rank: '2nd Engineer',
                department: 'engine',
                nationality: ' Filipino',
                experience: '8 Years',
                vesselType: 'Container',
                salary: '$5,800/mo',
                contracts: 6,
                score: 88,
                availability: 'available',
                skills: ['ME Operation', 'Aux Engine', 'Welding'],
                email: 'michael.r@email.com',
                phone: '+63 918 234 5678',
                linkedin: 'https://linkedin.com/in/michaelrodriguez',
                facebook: 'https://facebook.com/michaelrodriguez',
                gradient: 'linear-gradient(135deg, #8B5CF6, #EC4899)'
            },
            {
                id: 'sf3',
                name: 'Antonio Santos',
                initials: 'AS',
                rank: 'Master',
                department: 'deck',
                nationality: ' Filipino',
                experience: '18 Years',
                vesselType: 'Tanker',
                salary: '$12,500/mo',
                contracts: 15,
                score: 96,
                availability: 'soon',
                skills: ['Tanker Ops', 'Vetting', 'Leadership'],
                email: 'antonio.santos@email.com',
                phone: '+63 919 345 6789',
                linkedin: 'https://linkedin.com/in/antoniosantos',
                gradient: 'linear-gradient(135deg, #10B981, #17A2B8)'
            },
            {
                id: 'sf4',
                name: 'Pedro Garcia',
                initials: 'PG',
                rank: 'Bosun',
                department: 'deck',
                nationality: ' Filipino',
                experience: '10 Years',
                vesselType: 'Bulk Carrier',
                salary: '$1,800/mo',
                contracts: 9,
                score: 85,
                availability: 'available',
                skills: ['Deck Maint.', 'Mooring', 'Painting'],
                email: 'pedro.garcia@email.com',
                phone: '+63 920 456 7890',
                facebook: 'https://facebook.com/pedrogarcia',
                whatsapp: '+639204567890',
                gradient: 'linear-gradient(135deg, #F59E0B, #EF4444)'
            },
            {
                id: 'sf5',
                name: 'Roberto Dimaculangan',
                initials: 'RD',
                rank: 'Chief Engineer',
                department: 'engine',
                nationality: ' Filipino',
                experience: '15 Years',
                vesselType: 'LNG Carrier',
                salary: '$11,000/mo',
                contracts: 12,
                score: 94,
                availability: 'available',
                skills: ['LNG Systems', 'DFDE', 'PMS'],
                email: 'roberto.d@email.com',
                phone: '+63 921 567 8901',
                linkedin: 'https://linkedin.com/in/robertod',
                gradient: 'linear-gradient(135deg, #3B82F6, #8B5CF6)'
            },
            {
                id: 'sf6',
                name: 'Marco Lim',
                initials: 'ML',
                rank: '3rd Officer',
                department: 'deck',
                nationality: ' Filipino',
                experience: '3 Years',
                vesselType: 'Container',
                salary: '$3,200/mo',
                contracts: 2,
                score: 78,
                availability: 'soon',
                skills: ['ECDIS', 'GMDSS', 'Nav Watch'],
                email: 'marco.lim@email.com',
                phone: '+63 922 678 9012',
                linkedin: 'https://linkedin.com/in/marcolim',
                facebook: 'https://facebook.com/marcolim',
                gradient: 'linear-gradient(135deg, #EC4899, #F472B6)'
            }
        ];
        
        let currentSeafarer = null;
        
        // Open Seafarer Modal
        function openSeafarerModal(seafarerId) {
            const seafarer = seafarersData.find(s => s.id === seafarerId);
            if (!seafarer) return;
            
            currentSeafarer = seafarer;
            
            // Update modal content
            document.getElementById('sm-name').textContent = seafarer.name;
            document.getElementById('sm-rank').textContent = `${seafarer.rank}  ${seafarer.nationality}`;
            document.getElementById('sm-score').textContent = seafarer.score;
            document.getElementById('sm-photo').textContent = seafarer.initials;
            document.getElementById('sm-photo').style.background = seafarer.gradient;
            
            // Update availability badge
            const availBadge = document.getElementById('sm-availability');
            if (seafarer.availability === 'available') {
                availBadge.className = 'availability-badge available';
                availBadge.textContent = 'Available Now';
            } else if (seafarer.availability === 'soon') {
                availBadge.className = 'availability-badge soon';
                availBadge.textContent = 'Available Soon';
            } else {
                availBadge.className = 'availability-badge unavailable';
                availBadge.textContent = 'On Contract';
            }
            
            // Show modal
            document.getElementById('seafarer-modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        // Close Seafarer Modal
        function closeSeafarerModal() {
            document.getElementById('seafarer-modal').classList.remove('active');
            document.body.style.overflow = '';
            currentSeafarer = null;
        }
        
        // Close modal on overlay click
        document.getElementById('seafarer-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeSeafarerModal();
            }
        });
        
        // Download CV function
        function downloadCV() {
            if (!currentSeafarer) return;
            
            const toast = document.getElementById('success-toast');
            document.querySelector('#success-toast h4').textContent = 'CV Downloaded!';
            document.getElementById('toast-message').textContent = `${currentSeafarer.name}'s CV has been downloaded.`;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 4000);
        }
        
        // Select Seafarer function
        function selectSeafarer() {
            if (!currentSeafarer) return;
            
            const toast = document.getElementById('success-toast');
            document.querySelector('#success-toast h4').textContent = 'Seafarer Selected!';
            document.getElementById('toast-message').textContent = `${currentSeafarer.name} has been added to your shortlist.`;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 4000);
            
            closeSeafarerModal();
        }
        
        // Filter Seafarers
        function filterSeafarers() {
            const department = document.getElementById('filter-department')?.value || '';
            const rank = document.getElementById('filter-rank')?.value || '';
            const experience = document.getElementById('filter-experience')?.value || '';
            const score = document.getElementById('filter-score')?.value || '';
            const availability = document.getElementById('filter-availability')?.value || '';
            const search = document.getElementById('filter-search')?.value?.toLowerCase() || '';
            
            const cards = document.querySelectorAll('.seafarer-card');
            
            cards.forEach((card, index) => {
                const seafarer = seafarersData[index];
                if (!seafarer) return;
                
                let show = true;
                
                // Department filter
                if (department && seafarer.department !== department) show = false;
                
                // Availability filter
                if (availability) {
                    if (availability === 'immediate' && seafarer.availability !== 'available') show = false;
                    if (availability === '1-month' && seafarer.availability === 'unavailable') show = false;
                }
                
                // Score filter
                if (score) {
                    const [min, max] = score.split('-').map(Number);
                    if (seafarer.score < min || (max && seafarer.score > max)) show = false;
                }
                
                // Search filter
                if (search) {
                    const searchString = `${seafarer.name} ${seafarer.rank} ${seafarer.skills.join(' ')}`.toLowerCase();
                    if (!searchString.includes(search)) show = false;
                }
                
                card.style.display = show ? 'block' : 'none';
            });
        }
        
        // Update Escape key handler to include seafarer modal
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeVesselModal();
                closeSeafarerModal();
            }
        });
        
        // =====================================================
        // SEAFARER REGISTRATION FUNCTIONS
        // =====================================================
        let currentRegStep = 1;
        let regPhotoData = null;
        let regCVData = null;
        
        function goToRegStep(step) {
            // Update progress circles
            for (let i = 1; i <= 4; i++) {
                const circle = document.getElementById('reg-circle-' + i);
                const line = document.getElementById('reg-line-' + i);
                
                if (i < step) {
                    circle.classList.remove('active');
                    circle.classList.add('completed');
                    circle.innerHTML = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>';
                    if (line) line.classList.add('completed');
                } else if (i === step) {
                    circle.classList.add('active');
                    circle.classList.remove('completed');
                    circle.textContent = i;
                } else {
                    circle.classList.remove('active', 'completed');
                    circle.textContent = i;
                    if (line) line.classList.remove('completed');
                }
            }
            
            // Show/hide step content
            document.querySelectorAll('.reg-step-content').forEach(s => s.classList.remove('active'));
            const stepContent = document.getElementById('reg-step-' + step);
            if (stepContent) {
                stepContent.classList.add('active');
            }
            
            currentRegStep = step;
        }
        
        function previewRegPhoto(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    regPhotoData = e.target.result;
                    const box = document.getElementById('photo-upload-box');
                    box.classList.add('has-photo');
                    box.innerHTML = `
                        <img src="${e.target.result}" alt="Photo">
                        <input type="file" id="reg-photo-input" accept="image/*" style="display: none;" onchange="previewRegPhoto(this)">
                        <div class="photo-upload-btn" onclick="event.stopPropagation(); document.getElementById('reg-photo-input').click();">
                            <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg>
                        </div>
                    `;
                }
                reader.readAsDataURL(input.files[0]);
            }
        }
        
        function handleRegCVUpload(input) {
            if (input.files && input.files[0]) {
                const file = input.files[0];
                regCVData = file;
                
                const box = document.getElementById('cv-upload-box');
                box.classList.add('uploaded');
                box.innerHTML = `
                    <div class="cv-upload-icon" style="background: linear-gradient(135deg, var(--success), var(--teal-light));">
                        <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <h4>CV Uploaded Successfully</h4>
                    <p>${file.name}</p>
                `;
                
                document.getElementById('cv-file-preview').style.display = 'block';
                document.getElementById('cv-file-preview').innerHTML = `
                    <div style="display: flex; align-items: center; gap: 12px; padding: 16px; background: white; border-radius: 12px; margin-top: 16px; border: 1px solid var(--gray-200);">
                        <div style="width: 48px; height: 48px; background: rgba(239, 68, 68, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#EF4444" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; color: var(--navy);">${file.name}</div>
                            <div style="font-size: 12px; color: var(--gray-500);">${(file.size / 1024).toFixed(0)} KB</div>
                        </div>
                        <button onclick="removeRegCV()" style="padding: 8px 12px; background: var(--gray-100); border: none; border-radius: 8px; font-size: 12px; cursor: pointer; color: var(--gray-600);">Remove</button>
                    </div>
                `;
            }
        }
        
        function removeRegCV() {
            regCVData = null;
            const box = document.getElementById('cv-upload-box');
            if (!box) return;
            
            box.classList.remove('uploaded');
            box.innerHTML = `
                <input type="file" id="reg-cv-input" accept=".pdf,.doc,.docx" style="display: none;" onchange="handleRegCVUpload(this)">
                <div class="cv-upload-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                </div>
                <h4>Tap to upload your CV</h4>
                <p>PDF, DOC, or DOCX  Max 5MB</p>
            `;
            
            const preview = document.getElementById('cv-file-preview');
            if (preview) preview.style.display = 'none';
        }
        
        function completeSeafarerRegistration() {
            // Show analyzing state
            document.querySelectorAll('.reg-step-content').forEach(s => s.classList.remove('active'));
            document.getElementById('reg-step-analyzing').classList.add('active');
            
            // Generate random score between 75-98
            const score = Math.floor(Math.random() * 24) + 75;
            
            // Simulate AI analysis
            setTimeout(() => {
                // Update final score
                document.getElementById('final-ai-score').textContent = score;
                
                // Update score description
                let description = 'Good Profile';
                if (score >= 90) description = 'Excellent Profile!';
                else if (score >= 80) description = 'Very Good Profile!';
                
                document.querySelector('.score-reveal .subtitle').textContent = description;
                
                // Show success state
                document.getElementById('reg-step-analyzing').classList.remove('active');
                document.getElementById('reg-step-success').classList.add('active');
                
                // Show toast
                const toast = document.getElementById('success-toast');
                document.querySelector('#success-toast h4').textContent = 'Registration Complete!';
                document.getElementById('toast-message').textContent = `Your AI Score: ${score}/100`;
                toast.classList.add('show');
                
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 4000);
            }, 3000);
        }
        
        // Reset registration when navigating to it
        function resetSeafarerRegistration() {
            currentRegStep = 1;
            regPhotoData = null;
            regCVData = null;
            
            // Reset progress
            for (let i = 1; i <= 4; i++) {
                const circle = document.getElementById('reg-circle-' + i);
                const line = document.getElementById('reg-line-' + i);
                if (circle) {
                    circle.classList.remove('active', 'completed');
                    circle.textContent = i;
                    if (i === 1) circle.classList.add('active');
                }
                if (line) line.classList.remove('completed');
            }
            
            // Show first step
            document.querySelectorAll('.reg-step-content').forEach(s => s.classList.remove('active'));
            const step1 = document.getElementById('reg-step-1');
            if (step1) step1.classList.add('active');
            
            // Reset form fields
            document.querySelectorAll('#page-seafarer-register input, #page-seafarer-register select, #page-seafarer-register textarea').forEach(el => {
                if (el.type === 'file') return;
                el.value = '';
            });
            
            // Reset photo
            const photoBox = document.getElementById('photo-upload-box');
            if (photoBox) {
                photoBox.classList.remove('has-photo');
                photoBox.innerHTML = `
                    <input type="file" id="reg-photo-input" accept="image/*" style="display: none;" onchange="previewRegPhoto(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke-width="1.5"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                    <span>Upload Photo</span>
                `;
            }
            
            // Reset CV
            removeRegCV();
        }
        
        // =====================================================
        // RFA/RFC MANAGEMENT FUNCTIONS
        // =====================================================
        
        let selectedRequestType = 'rfa';
        let selectedVessel = null;
        let selectedPosition = null;
        
        function openRfaModal() {
            document.getElementById('rfa-modal').classList.add('active');
            // Reset selections
            selectedVessel = null;
            selectedPosition = null;
            document.querySelectorAll('#rfa-modal .vessel-option').forEach(v => v.classList.remove('selected'));
            document.querySelectorAll('#rfa-modal .position-chip').forEach(p => p.classList.remove('selected'));
        }
        
        function closeRfaModal() {
            document.getElementById('rfa-modal').classList.remove('active');
        }
        
        function selectRequestType(element, type) {
            selectedRequestType = type;
            document.querySelectorAll('#rfa-modal .vessel-option').forEach(v => {
                if (v.parentElement.style.display !== 'grid' || v.parentElement.classList.contains('vessel-selector')) return;
                v.classList.remove('selected');
            });
            // Select only the type options (first section)
            const typeOptions = element.parentElement.querySelectorAll('.vessel-option');
            typeOptions.forEach(v => v.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        function selectVessel(element, vesselId) {
            selectedVessel = vesselId;
            document.querySelectorAll('.vessel-selector .vessel-option').forEach(v => v.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        function selectPosition(element, positionId) {
            selectedPosition = positionId;
            document.querySelectorAll('.position-chip').forEach(p => p.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        function createRfa() {
            if (!selectedVessel) {
                alert('Please select a vessel');
                return;
            }
            if (!selectedPosition) {
                alert('Please select a position');
                return;
            }
            
            // Generate RFA ID
            const rfaId = selectedRequestType.toUpperCase() + '-2026-' + String(Math.floor(Math.random() * 9000) + 1000);
            
            // Show success toast
            showToast(' ' + rfaId + ' created successfully!', 'success');
            
            closeRfaModal();
        }
        
        function openRfaDetailModal(rfaId) {
            document.getElementById('rfa-detail-title').textContent = rfaId;
            document.getElementById('rfa-detail-modal').classList.add('active');
        }
        
        function closeRfaDetailModal() {
            document.getElementById('rfa-detail-modal').classList.remove('active');
        }
        
        function assignCrewToRfa() {
            showToast(' Crew assigned! Moving to "Available Crew" column.', 'success');
            closeRfaDetailModal();
        }
        
        function showToast(message, type = 'success') {
            // Remove existing toast
            const existingToast = document.querySelector('.custom-toast');
            if (existingToast) existingToast.remove();
            
            const toast = document.createElement('div');
            toast.className = 'custom-toast';
            toast.style.cssText = `
                position: fixed;
                bottom: 30px;
                left: 50%;
                transform: translateX(-50%);
                padding: 16px 28px;
                background: ${type === 'success' ? 'linear-gradient(135deg, #10B981, #17A2B8)' : 'linear-gradient(135deg, #EF4444, #F59E0B)'};
                color: white;
                border-radius: 12px;
                font-weight: 600;
                font-size: 14px;
                box-shadow: 0 10px 40px rgba(0,0,0,0.2);
                z-index: 10000;
                animation: slideUp 0.3s ease;
            `;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'slideDown 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }
        
        // Add CSS animation for toast
        const toastStyle = document.createElement('style');
        toastStyle.textContent = `
            @keyframes slideUp {
                from { transform: translateX(-50%) translateY(100px); opacity: 0; }
                to { transform: translateX(-50%) translateY(0); opacity: 1; }
            }
            @keyframes slideDown {
                from { transform: translateX(-50%) translateY(0); opacity: 1; }
                to { transform: translateX(-50%) translateY(100px); opacity: 0; }
            }
        `;
        document.head.appendChild(toastStyle);
        
        // =====================================================
        // DEPLOYMENT PIPELINE FUNCTIONS
        // =====================================================
        
        function openDeploymentModal() {
            // For now, show a toast - will add full modal in next iteration
            showToast(' Add to Pipeline - Select from RFA/RFC Approved crew', 'info');
            navigateTo('rfa-rfc');
        }
        
        function openDeploymentDetailModal(depId) {
            // Create deployment detail modal dynamically
            const existingModal = document.getElementById('deployment-detail-modal');
            if (existingModal) existingModal.remove();
            
            const modal = document.createElement('div');
            modal.id = 'deployment-detail-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = `
                <div class="modal-container" style="max-width: 650px;">
                    <div class="modal-header" style="background: linear-gradient(135deg, #10B981 0%, #17A2B8 100%);">
                        <div>
                            <h2 style="color: white; font-family: 'Montserrat', sans-serif; font-weight: 800;"> Deployment Progress</h2>
                            <p style="color: rgba(255,255,255,0.9); font-size: 14px;">${depId}  Track all deployment requirements</p>
                        </div>
                        <button class="modal-close" onclick="closeDeploymentDetailModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>
                    </div>
                    
                    <div class="modal-body" style="padding: 24px; max-height: 65vh; overflow-y: auto;">
                        <!-- Progress Overview -->
                        <div style="background: var(--gray-50); border-radius: 16px; padding: 20px; margin-bottom: 20px;">
                            <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;">Deployment Progress</h4>
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                                <div style="flex: 1; height: 8px; background: var(--gray-200); border-radius: 4px; overflow: hidden;">
                                    <div style="width: 65%; height: 100%; background: linear-gradient(90deg, var(--success), var(--teal)); border-radius: 4px;"></div>
                                </div>
                                <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--success);">65%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 11px; color: var(--gray-500);">
                                <span style="color: var(--success);"> PEME</span>
                                <span style="color: var(--warning);"> Documents</span>
                                <span> Briefing</span>
                                <span> Embark</span>
                            </div>
                        </div>
                        
                        <!-- PEME Section -->
                        <div style="background: rgba(236,72,153,0.05); border-radius: 16px; padding: 20px; margin-bottom: 16px; border: 1px solid rgba(236,72,153,0.2);">
                            <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 12px; display: flex; align-items: center; gap: 8px;">
                                 PEME Status
                                <span style="margin-left: auto; font-size: 11px; padding: 4px 10px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 6px;"> Complete</span>
                            </h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                                <div style="padding: 12px; background: white; border-radius: 10px;">
                                    <div style="font-size: 11px; color: var(--gray-500);">Clinic</div>
                                    <div style="font-weight: 600; color: var(--navy);">Seamen's Hospital</div>
                                </div>
                                <div style="padding: 12px; background: white; border-radius: 10px;">
                                    <div style="font-size: 11px; color: var(--gray-500);">Date</div>
                                    <div style="font-weight: 600; color: var(--navy);">Feb 08, 2026</div>
                                </div>
                                <div style="padding: 12px; background: white; border-radius: 10px;">
                                    <div style="font-size: 11px; color: var(--gray-500);">Result</div>
                                    <div style="font-weight: 600; color: var(--success);">FIT TO WORK</div>
                                </div>
                                <div style="padding: 12px; background: white; border-radius: 10px;">
                                    <div style="font-size: 11px; color: var(--gray-500);">Valid Until</div>
                                    <div style="font-weight: 600; color: var(--navy);">Feb 08, 2028</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Documents Section -->
                        <div style="background: rgba(139,92,246,0.05); border-radius: 16px; padding: 20px; margin-bottom: 16px; border: 1px solid rgba(139,92,246,0.2);">
                            <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 12px; display: flex; align-items: center; gap: 8px;">
                                 Document Processing
                                <span style="margin-left: auto; font-size: 11px; padding: 4px 10px; background: rgba(245,158,11,0.1); color: var(--warning); border-radius: 6px;"> In Progress</span>
                            </h4>
                            <div style="display: flex; flex-direction: column; gap: 8px;">
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px; background: white; border-radius: 10px;">
                                    <span style="display: flex; align-items: center; gap: 8px;"><span style="color: var(--success);"></span> POEA Contract</span>
                                    <span style="font-size: 11px; color: var(--success);">Approved</span>
                                </div>
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px; background: white; border-radius: 10px;">
                                    <span style="display: flex; align-items: center; gap: 8px;"><span style="color: var(--success);"></span> Flag State License</span>
                                    <span style="font-size: 11px; color: var(--success);">Received</span>
                                </div>
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px; background: white; border-radius: 10px;">
                                    <span style="display: flex; align-items: center; gap: 8px;"><span style="color: var(--warning);"></span> Visa Application</span>
                                    <span style="font-size: 11px; color: var(--warning);">At Embassy</span>
                                </div>
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px; background: white; border-radius: 10px;">
                                    <span style="display: flex; align-items: center; gap: 8px;"><span style="color: var(--gray-400);"></span> Travel Documents</span>
                                    <span style="font-size: 11px; color: var(--gray-500);">Pending</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Briefing Section -->
                        <div style="background: rgba(59,130,246,0.05); border-radius: 16px; padding: 20px; border: 1px solid rgba(59,130,246,0.2);">
                            <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 12px; display: flex; align-items: center; gap: 8px;">
                                 Briefing Schedule
                                <span style="margin-left: auto; font-size: 11px; padding: 4px 10px; background: rgba(107,114,128,0.1); color: var(--gray-600); border-radius: 6px;"> Not Started</span>
                            </h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                                <div style="padding: 12px; background: white; border-radius: 10px;">
                                    <div style="font-size: 11px; color: var(--gray-500);">Initial Briefing</div>
                                    <div style="font-weight: 600; color: var(--gray-400);">Not scheduled</div>
                                </div>
                                <div style="padding: 12px; background: white; border-radius: 10px;">
                                    <div style="font-size: 11px; color: var(--gray-500);">Final Briefing</div>
                                    <div style="font-weight: 600; color: var(--gray-400);">Not scheduled</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="modal-footer">
                        <button class="btn btn-ghost" onclick="closeDeploymentDetailModal()" style="background: var(--gray-200); color: var(--navy);">
                            Close
                        </button>
                        <button class="btn btn-primary" onclick="updateDeploymentStatus('${depId}')">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                            Update Status
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        function closeDeploymentDetailModal() {
            const modal = document.getElementById('deployment-detail-modal');
            if (modal) modal.remove();
        }
        
        function updateDeploymentStatus(depId) {
            showToast(' Status updated for ' + depId, 'success');
            closeDeploymentDetailModal();
        }
        
        function confirmEmbarkation(depId) {
            if (confirm('Confirm embarkation for ' + depId + '?\n\nThis will mark the crew as ONBOARD.')) {
                showToast(' ' + depId + ' - Embarkation confirmed! Crew is now ONBOARD.', 'success');
            }
        }
        
        // =====================================================
        // CONTRACT MANAGEMENT FUNCTIONS
        // =====================================================
        
        function openContractModal() {
            const modal = document.createElement('div');
            modal.id = 'contract-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = `
                <div class="modal-container" style="max-width: 600px;">
                    <div class="modal-header" style="background: linear-gradient(135deg, #8B5CF6 0%, #EC4899 100%);">
                        <div>
                            <h2 style="color: white; font-family: 'Montserrat', sans-serif; font-weight: 800;"> New Extension Request</h2>
                            <p style="color: rgba(255,255,255,0.9); font-size: 14px;">Request contract extension for seafarer</p>
                        </div>
                        <button class="modal-close" onclick="closeContractModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>
                    </div>
                    
                    <div class="modal-body" style="padding: 24px;">
                        <div class="form-group" style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--navy);">Select Seafarer</label>
                            <select style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                                <option value="">Choose seafarer...</option>
                                <option value="jd">Juan Dela Cruz - Chief Officer (MV Diana Pioneer)</option>
                                <option value="ms">Mario Santos - 2nd Engineer (MV Centrofin Glory)</option>
                                <option value="rg">Ramon Garcia - AB Seaman (MV Diana Voyager)</option>
                                <option value="eg">Eduardo Garcia - Chief Engineer (MV Centrofin Star)</option>
                            </select>
                        </div>
                        
                        <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--navy);">Extension Period</label>
                                <select style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                                    <option value="1">+1 Month</option>
                                    <option value="2">+2 Months</option>
                                    <option value="3" selected>+3 Months</option>
                                    <option value="4">+4 Months</option>
                                    <option value="6">+6 Months</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--navy);">Reason</label>
                                <select style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                                    <option value="performance">Good Performance</option>
                                    <option value="request">Crew Request</option>
                                    <option value="operational">Operational Need</option>
                                    <option value="replacement">No Replacement Available</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--navy);">Notes for Principal</label>
                            <textarea placeholder="Additional notes for the principal's review..." style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-height: 80px; resize: vertical; font-family: 'Open Sans', sans-serif;"></textarea>
                        </div>
                    </div>
                    
                    <div class="modal-footer">
                        <button class="btn btn-ghost" onclick="closeContractModal()" style="background: var(--gray-200); color: var(--navy);">Cancel</button>
                        <button class="btn btn-primary" onclick="submitExtensionRequest()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 2L11 13"/><path d="M22 2l-7 20-4-9-9-4 20-7z"/></svg>
                            Send to Principal
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        function closeContractModal() {
            const modal = document.getElementById('contract-modal');
            if (modal) modal.remove();
        }
        
        function submitExtensionRequest() {
            showToast(' Extension request sent to principal!', 'success');
            closeContractModal();
        }
        
        function openContractDetailModal(ctrId) {
            showToast(' Opening contract details for ' + ctrId, 'info');
        }
        
        // =====================================================
        // SIGN-OFF MANAGEMENT FUNCTIONS
        // =====================================================
        
        function openSignOffModal() {
            const modal = document.createElement('div');
            modal.id = 'signoff-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = `
                <div class="modal-container" style="max-width: 600px;">
                    <div class="modal-header" style="background: linear-gradient(135deg, #F59E0B 0%, #EF4444 100%);">
                        <div>
                            <h2 style="color: white; font-family: 'Montserrat', sans-serif; font-weight: 800;"> Record Sign-Off</h2>
                            <p style="color: rgba(255,255,255,0.9); font-size: 14px;">Register crew disembarkation</p>
                        </div>
                        <button class="modal-close" onclick="closeSignOffModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>
                    </div>
                    
                    <div class="modal-body" style="padding: 24px;">
                        <div class="form-group" style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--navy);">Select Seafarer</label>
                            <select style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                                <option value="">Choose onboard seafarer...</option>
                                <option value="jr">Jose Reyes - Chief Officer (MV Diana Pioneer)</option>
                                <option value="mc">Manuel Cruz - 3rd Engineer (MV Centrofin Glory)</option>
                                <option value="al">Antonio Lim - AB Seaman (MV Pioneer Spirit)</option>
                            </select>
                        </div>
                        
                        <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--navy);">Disembarkation Date</label>
                                <input type="date" style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--navy);">Port</label>
                                <input type="text" placeholder="e.g. Manila, Singapore" style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                            </div>
                        </div>
                        
                        <div class="form-group" style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--navy);">Sign-Off Reason</label>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                                <label class="vessel-option" style="cursor: pointer; padding: 14px;" onclick="this.querySelector('input').checked = true; document.querySelectorAll('#signoff-modal .vessel-option').forEach(v => v.classList.remove('selected')); this.classList.add('selected');">
                                    <input type="radio" name="signoff-reason" value="finished" style="display: none;">
                                    <div style="text-align: center;">
                                        <div style="font-size: 20px; margin-bottom: 4px;"></div>
                                        <div style="font-weight: 600; font-size: 12px;">Contract Finished</div>
                                    </div>
                                </label>
                                <label class="vessel-option" style="cursor: pointer; padding: 14px;" onclick="this.querySelector('input').checked = true; document.querySelectorAll('#signoff-modal .vessel-option').forEach(v => v.classList.remove('selected')); this.classList.add('selected');">
                                    <input type="radio" name="signoff-reason" value="medical" style="display: none;">
                                    <div style="text-align: center;">
                                        <div style="font-size: 20px; margin-bottom: 4px;"></div>
                                        <div style="font-weight: 600; font-size: 12px;">Medical</div>
                                    </div>
                                </label>
                                <label class="vessel-option" style="cursor: pointer; padding: 14px;" onclick="this.querySelector('input').checked = true; document.querySelectorAll('#signoff-modal .vessel-option').forEach(v => v.classList.remove('selected')); this.classList.add('selected');">
                                    <input type="radio" name="signoff-reason" value="resignation" style="display: none;">
                                    <div style="text-align: center;">
                                        <div style="font-size: 20px; margin-bottom: 4px;"></div>
                                        <div style="font-weight: 600; font-size: 12px;">Resignation</div>
                                    </div>
                                </label>
                                <label class="vessel-option" style="cursor: pointer; padding: 14px;" onclick="this.querySelector('input').checked = true; document.querySelectorAll('#signoff-modal .vessel-option').forEach(v => v.classList.remove('selected')); this.classList.add('selected');">
                                    <input type="radio" name="signoff-reason" value="dismissal" style="display: none;">
                                    <div style="text-align: center;">
                                        <div style="font-size: 20px; margin-bottom: 4px;"></div>
                                        <div style="font-weight: 600; font-size: 12px;">Dismissal</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--navy);">Initial Notes</label>
                            <textarea placeholder="Any initial observations or notes..." style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-height: 80px; resize: vertical; font-family: 'Open Sans', sans-serif;"></textarea>
                        </div>
                    </div>
                    
                    <div class="modal-footer">
                        <button class="btn btn-ghost" onclick="closeSignOffModal()" style="background: var(--gray-200); color: var(--navy);">Cancel</button>
                        <button class="btn btn-primary" style="background: linear-gradient(135deg, #F59E0B, #EF4444);" onclick="recordSignOff()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                            Record Sign-Off
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        function closeSignOffModal() {
            const modal = document.getElementById('signoff-modal');
            if (modal) modal.remove();
        }
        
        function recordSignOff() {
            showToast(' Sign-off recorded! Exit interview scheduled.', 'success');
            closeSignOffModal();
        }
        
        function openSignOffDetailModal(soId) {
            const modal = document.createElement('div');
            modal.id = 'signoff-detail-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = `
                <div class="modal-container" style="max-width: 600px;">
                    <div class="modal-header" style="background: linear-gradient(135deg, var(--warning) 0%, var(--danger) 100%);">
                        <div>
                            <h2 style="color: white; font-family: 'Montserrat', sans-serif; font-weight: 800;"> Sign-Off Details</h2>
                            <p style="color: rgba(255,255,255,0.9); font-size: 14px;">${soId}  Track sign-off process</p>
                        </div>
                        <button class="modal-close" onclick="closeSignOffDetailModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>
                    </div>
                    
                    <div class="modal-body" style="padding: 24px;">
                        <!-- Progress -->
                        <div style="background: var(--gray-50); border-radius: 16px; padding: 20px; margin-bottom: 20px;">
                            <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;">Sign-Off Progress</h4>
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                                <div style="flex: 1; height: 8px; background: var(--gray-200); border-radius: 4px; overflow: hidden;">
                                    <div style="width: 50%; height: 100%; background: linear-gradient(90deg, var(--warning), var(--success)); border-radius: 4px;"></div>
                                </div>
                                <span style="font-family: 'Montserrat', sans-serif; font-weight: 800; color: var(--warning);">50%</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; font-size: 11px; color: var(--gray-500);">
                                <span style="color: var(--success);"> Disembarked</span>
                                <span style="color: var(--warning);"> Exit Interview</span>
                                <span> Debriefing</span>
                                <span> Complete</span>
                            </div>
                        </div>
                        
                        <!-- Crew Info -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px;">
                            <div style="background: var(--gray-50); border-radius: 12px; padding: 16px;">
                                <div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Disembarkation Date</div>
                                <div style="font-weight: 700; color: var(--navy);">Feb 08, 2026</div>
                            </div>
                            <div style="background: var(--gray-50); border-radius: 12px; padding: 16px;">
                                <div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Port</div>
                                <div style="font-weight: 700; color: var(--navy);">Manila, Philippines</div>
                            </div>
                            <div style="background: var(--gray-50); border-radius: 12px; padding: 16px;">
                                <div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Contract Duration</div>
                                <div style="font-weight: 700; color: var(--navy);">9 months</div>
                            </div>
                            <div style="background: var(--gray-50); border-radius: 12px; padding: 16px;">
                                <div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Sign-Off Reason</div>
                                <div style="font-weight: 700; color: var(--success);">Contract Finished</div>
                            </div>
                        </div>
                        
                        <!-- Tasks -->
                        <div style="background: rgba(59,130,246,0.05); border-radius: 16px; padding: 20px; border: 1px solid rgba(59,130,246,0.2);">
                            <h4 style="font-family: 'Montserrat', sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;">Pending Tasks</h4>
                            <div style="display: flex; flex-direction: column; gap: 10px;">
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px; background: white; border-radius: 10px;">
                                    <span style="display: flex; align-items: center; gap: 8px;"><span style="color: var(--info);"></span> Exit Interview</span>
                                    <button class="btn btn-ghost" style="padding: 6px 12px; font-size: 11px;">Schedule</button>
                                </div>
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px; background: white; border-radius: 10px;">
                                    <span style="display: flex; align-items: center; gap: 8px;"><span style="color: var(--gray-400);"></span> Debriefing Form</span>
                                    <button class="btn btn-ghost" style="padding: 6px 12px; font-size: 11px;">Start</button>
                                </div>
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px; background: white; border-radius: 10px;">
                                    <span style="display: flex; align-items: center; gap: 8px;"><span style="color: var(--gray-400);"></span> Rehireable Assessment</span>
                                    <button class="btn btn-ghost" style="padding: 6px 12px; font-size: 11px;">Assess</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="modal-footer">
                        <button class="btn btn-ghost" onclick="closeSignOffDetailModal()" style="background: var(--gray-200); color: var(--navy);">Close</button>
                        <button class="btn btn-primary" onclick="completeSignOff('${soId}')">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                            Mark Complete
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        function closeSignOffDetailModal() {
            const modal = document.getElementById('signoff-detail-modal');
            if (modal) modal.remove();
        }
        
        function completeSignOff(soId) {
            showToast(' ' + soId + ' - Sign-off process completed!', 'success');
            closeSignOffDetailModal();
        }
        
        function createRfcFromSignOff(initials) {
            showToast(' Creating RFC for ' + initials + ' - Redirecting to RFA/RFC...', 'success');
            setTimeout(() => navigateTo('rfa-rfc'), 1000);
        }
        
        // =====================================================
        // PEME CLINIC INTEGRATION FUNCTIONS
        // =====================================================
        
        let selectedClinic = null;
        let selectedExamType = null;
        let selectedTimeSlot = null;
        let selectedCrewForPeme = null;
        
        function openPemeBookingModal() {
            const modal = document.createElement('div');
            modal.id = 'peme-booking-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = `
                <div class="modal-container" style="max-width: 700px;">
                    <div class="modal-header" style="background: linear-gradient(135deg, var(--teal) 0%, var(--teal-light) 100%);">
                        <div>
                            <h2 style="color: white; font-family: 'Montserrat', sans-serif; font-weight: 800;"> Book PEME Examination</h2>
                            <p style="color: rgba(255,255,255,0.9); font-size: 14px;">Schedule Pre-Employment Medical Examination</p>
                        </div>
                        <button class="modal-close" onclick="closePemeBookingModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>
                    </div>
                    
                    <div class="modal-body" style="padding: 24px; max-height: 65vh; overflow-y: auto;">
                        <!-- Select Crew -->
                        <div class="rfa-form-section">
                            <div class="rfa-form-section-title">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg>
                                Select Crew Member
                            </div>
                            <select id="peme-crew-select" style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                                <option value="">Choose a seafarer...</option>
                                <option value="jdc">Juan Dela Cruz - Chief Officer (Pending Deployment)</option>
                                <option value="mr">Michael Reyes - 2nd Engineer (Available)</option>
                                <option value="as">Antonio Santos - AB Seaman (Available)</option>
                                <option value="rg">Roberto Garcia - Bosun (Pending)</option>
                                <option value="pl">Pedro Lopez - Oiler (Available)</option>
                            </select>
                        </div>
                        
                        <!-- Exam Type -->
                        <div class="rfa-form-section">
                            <div class="rfa-form-section-title">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                                Examination Type
                            </div>
                            <div class="peme-exam-types">
                                <div class="exam-type-option" onclick="selectExamType(this, 'full')">
                                    <div class="exam-type-icon"></div>
                                    <div class="exam-type-name">Full PEME</div>
                                    <div class="exam-type-desc">Complete examination for new deployments</div>
                                </div>
                                <div class="exam-type-option" onclick="selectExamType(this, 'followup')">
                                    <div class="exam-type-icon"></div>
                                    <div class="exam-type-name">Follow-up</div>
                                    <div class="exam-type-desc">Post-treatment verification</div>
                                </div>
                                <div class="exam-type-option" onclick="selectExamType(this, 'renewal')">
                                    <div class="exam-type-icon"></div>
                                    <div class="exam-type-name">Renewal</div>
                                    <div class="exam-type-desc">Certificate renewal exam</div>
                                </div>
                                <div class="exam-type-option" onclick="selectExamType(this, 'flag')">
                                    <div class="exam-type-icon"></div>
                                    <div class="exam-type-name">Flag State Specific</div>
                                    <div class="exam-type-desc">Specific flag requirements</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Select Package -->
                        <div class="rfa-form-section">
                            <div class="rfa-form-section-title">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                                Examination Package
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                                <div class="exam-type-option selected" onclick="selectPemePackageType(this, 'generic')" style="padding: 16px;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 40px; height: 40px; border-radius: 10px; background: #0A3D62; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 14px;">GP</div>
                                        <div style="flex: 1;">
                                            <div class="exam-type-name" style="margin-bottom: 2px;">Generic Package</div>
                                            <div class="exam-type-desc">Standard DOH-compliant</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="exam-type-option" onclick="selectPemePackageType(this, 'gard')" style="padding: 16px;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 40px; height: 40px; border-radius: 10px; background: #10B981; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 14px;">GD</div>
                                        <div style="flex: 1;">
                                            <div class="exam-type-name" style="margin-bottom: 2px;">GARD Package</div>
                                            <div class="exam-type-desc">P&I Club recommended</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="exam-type-option" onclick="selectPemePackageType(this, 'healthmetrics')" style="padding: 16px;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 40px; height: 40px; border-radius: 10px; background: #17A2B8; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 14px;">HM</div>
                                        <div style="flex: 1;">
                                            <div class="exam-type-name" style="margin-bottom: 2px;">HealthMetrics</div>
                                            <div class="exam-type-desc">Comprehensive screening</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="exam-type-option" onclick="openPemePackageBuilder(35, 'male', false); closePemeBookingModal();" style="padding: 16px; border-style: dashed;">
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <div style="width: 40px; height: 40px; border-radius: 10px; background: linear-gradient(135deg, #8B5CF6, #EC4899); display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 18px;">+</div>
                                        <div style="flex: 1;">
                                            <div class="exam-type-name" style="margin-bottom: 2px;">Custom Package</div>
                                            <div class="exam-type-desc">Build your own package</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Select Clinic -->
                        <div class="rfa-form-section">
                            <div class="rfa-form-section-title">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                                Select Partner Clinic
                            </div>
                            <div class="vessel-selector">
                                <div class="vessel-option" onclick="selectClinicForBooking(this, 'shm')">
                                    <div style="font-size: 28px; margin-bottom: 8px;"></div>
                                    <div class="vessel-option-name">Seamen's Hospital</div>
                                    <div class="vessel-option-type">Intramuros, Manila</div>
                                </div>
                                <div class="vessel-option" onclick="selectClinicForBooking(this, 'pgh')">
                                    <div style="font-size: 28px; margin-bottom: 8px;"></div>
                                    <div class="vessel-option-name">PGH</div>
                                    <div class="vessel-option-type">Ermita, Manila</div>
                                </div>
                                <div class="vessel-option" onclick="selectClinicForBooking(this, 'mc')">
                                    <div style="font-size: 28px; margin-bottom: 8px;"></div>
                                    <div class="vessel-option-name">Medical City</div>
                                    <div class="vessel-option-type">Ortigas, Pasig</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Date Selection -->
                        <div class="rfa-form-section">
                            <div class="rfa-form-section-title">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/></svg>
                                Select Date & Time
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Preferred Date</label>
                                    <input type="date" id="peme-date" style="padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                                </div>
                            </div>
                            <label style="display: block; margin: 12px 0 8px; font-weight: 600; color: var(--navy); font-size: 13px;">Available Time Slots</label>
                            <div class="time-slots">
                                <div class="time-slot" onclick="selectTimeSlot(this, '08:00')">
                                    <div class="time-slot-time">08:00 AM</div>
                                    <div class="time-slot-slots">3 slots</div>
                                </div>
                                <div class="time-slot" onclick="selectTimeSlot(this, '09:00')">
                                    <div class="time-slot-time">09:00 AM</div>
                                    <div class="time-slot-slots">2 slots</div>
                                </div>
                                <div class="time-slot" onclick="selectTimeSlot(this, '10:00')">
                                    <div class="time-slot-time">10:00 AM</div>
                                    <div class="time-slot-slots">5 slots</div>
                                </div>
                                <div class="time-slot unavailable">
                                    <div class="time-slot-time">11:00 AM</div>
                                    <div class="time-slot-slots">Full</div>
                                </div>
                                <div class="time-slot" onclick="selectTimeSlot(this, '13:00')">
                                    <div class="time-slot-time">01:00 PM</div>
                                    <div class="time-slot-slots">4 slots</div>
                                </div>
                                <div class="time-slot" onclick="selectTimeSlot(this, '14:00')">
                                    <div class="time-slot-time">02:00 PM</div>
                                    <div class="time-slot-slots">3 slots</div>
                                </div>
                                <div class="time-slot" onclick="selectTimeSlot(this, '15:00')">
                                    <div class="time-slot-time">03:00 PM</div>
                                    <div class="time-slot-slots">1 slot</div>
                                </div>
                                <div class="time-slot unavailable">
                                    <div class="time-slot-time">04:00 PM</div>
                                    <div class="time-slot-slots">Full</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Notes -->
                        <div class="rfa-form-section">
                            <div class="rfa-form-section-title">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                                Special Requirements (Optional)
                            </div>
                            <textarea id="peme-notes" placeholder="Any medical history, required tests, or special instructions..." style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-height: 80px; resize: vertical; font-family: 'Open Sans', sans-serif;"></textarea>
                        </div>
                    </div>
                    
                    <div class="modal-footer">
                        <button class="btn btn-ghost" onclick="closePemeBookingModal()" style="background: var(--gray-200); color: var(--navy);">Cancel</button>
                        <button class="btn btn-primary" style="background: linear-gradient(135deg, var(--teal), var(--teal-light));" onclick="confirmPemeBooking()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                            Confirm Booking
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        function closePemeBookingModal() {
            const modal = document.getElementById('peme-booking-modal');
            if (modal) modal.remove();
            selectedClinic = null;
            selectedExamType = null;
            selectedTimeSlot = null;
        }
        
        function selectExamType(element, type) {
            selectedExamType = type;
            document.querySelectorAll('.exam-type-option').forEach(e => e.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        var selectedPemePackageType = 'generic';
        function selectPemePackageType(element, packageType) {
            selectedPemePackageType = packageType;
            element.parentElement.querySelectorAll('.exam-type-option').forEach(e => e.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        function selectClinicForBooking(element, clinicId) {
            selectedClinic = clinicId;
            element.parentElement.querySelectorAll('.vessel-option').forEach(v => v.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        function selectTimeSlot(element, time) {
            selectedTimeSlot = time;
            document.querySelectorAll('.time-slot').forEach(s => s.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        function confirmPemeBooking() {
            const crew = document.getElementById('peme-crew-select').value;
            if (!crew) {
                showToast(' Please select a crew member', 'warning');
                return;
            }
            if (!selectedExamType) {
                showToast(' Please select an examination type', 'warning');
                return;
            }
            if (!selectedClinic) {
                showToast(' Please select a partner clinic', 'warning');
                return;
            }
            if (!selectedTimeSlot) {
                showToast(' Please select a time slot', 'warning');
                return;
            }
            
            const pemeId = 'PEME-2026-' + String(Math.floor(Math.random() * 9000) + 1000);
            showToast(' ' + pemeId + ' - PEME booking confirmed!', 'success');
            closePemeBookingModal();
        }
        
        function openPemeDetailModal(pemeId) {
            // Simulate different stages for different PEMEs
            const stageData = {
                'PEME-2026-0124': { stage: 1, status: 'scheduled' },
                'PEME-2026-0125': { stage: 2, status: 'in-progress' },
                'PEME-2026-0126': { stage: 2, status: 'in-progress' },
                'PEME-2026-0120': { stage: 4, status: 'in-progress' },
                'PEME-2026-0121': { stage: 5, status: 'in-progress' },
                'PEME-2026-0115': { stage: 7, status: 'awaiting' },
                'PEME-2026-0116': { stage: 7, status: 'awaiting' },
                'PEME-2026-0110': { stage: 9, status: 'completed' },
                'PEME-2026-0111': { stage: 9, status: 'completed' },
                'PEME-2026-0108': { stage: 8, status: 'conditional' }
            };
            
            const currentData = stageData[pemeId] || { stage: 3, status: 'in-progress' };
            const currentStage = currentData.stage;
            
            // Stage definitions
            const stages = [
                { id: 1, name: 'Check-in', icon: 'M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2', time: '08:30' },
                { id: 2, name: 'Physical Exam', icon: 'M22 12h-4l-3 9L9 3l-3 9H2', time: '08:45' },
                { id: 3, name: 'Blood Test', icon: 'M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z', time: '09:15' },
                { id: 4, name: 'X-Ray', icon: 'M3 3h18v18H3zM12 8v8M8 12h8', time: '09:35' },
                { id: 5, name: 'Vision', icon: 'M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z', time: '09:50' },
                { id: 6, name: 'Hearing', icon: 'M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z', time: '10:05' },
                { id: 7, name: 'Drug Test', icon: 'M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3', time: '10:20' },
                { id: 8, name: 'Doctor Review', icon: 'M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2', time: '10:45' },
                { id: 9, name: 'Complete', icon: 'M22 11.08V12a10 10 0 1 1-5.93-9.14', time: '11:15' }
            ];
            
            // Calculate progress percentage
            const progressPercent = ((currentStage - 1) / (stages.length - 1)) * 100;
            
            // AI Predictions
            const avgTimePerStage = 15;
            const remainingStages = stages.length - currentStage;
            const estimatedMinutes = remainingStages * avgTimePerStage;
            const now = new Date();
            const estimatedCompletion = new Date(now.getTime() + estimatedMinutes * 60000);
            const completionTime = estimatedCompletion.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
            
            // Generate stage HTML
            let stagesHtml = '';
            stages.forEach(function(stage) {
                let stageClass = '';
                if (stage.id < currentStage) stageClass = 'completed';
                else if (stage.id === currentStage) stageClass = 'active';
                
                stagesHtml += '<div class="peme-stage ' + stageClass + '">' +
                    '<div class="peme-stage-icon"><svg viewBox="0 0 24 24"><path d="' + stage.icon + '"/></svg></div>' +
                    '<div class="peme-stage-label">' + stage.name + '</div>' +
                    (stage.id <= currentStage ? '<div class="peme-stage-time">' + stage.time + '</div>' : '') +
                '</div>';
            });
            
            // Activity data
            var activityItems = [
                { time: '08:30', text: 'Arrived at clinic', detail: 'Registration completed', done: true },
                { time: '08:45', text: 'Physical examination', detail: 'Dr. Santos attending', done: currentStage > 2 },
                { time: '09:15', text: 'Blood samples collected', detail: 'Sent to laboratory', done: currentStage > 3 },
                { time: '09:35', text: 'Chest X-Ray completed', detail: 'Radiologist review', done: currentStage > 4 },
                { time: '09:50', text: 'Vision test', detail: '20/20 bilateral', done: currentStage > 5 }
            ];
            
            var activityHtml = '';
            activityItems.forEach(function(item) {
                if (item.done || currentStage >= 2) {
                    var statusClass = item.done ? 'completed' : 'active';
                    activityHtml += '<div class="peme-activity-item ' + statusClass + '">' +
                        '<div class="peme-activity-content"><strong>' + item.text + '</strong><p>' + item.detail + '</p></div>' +
                        '<div class="peme-activity-time">' + item.time + '</div></div>';
                }
            });
            
            var shareLink = 'track.crossworld.ph/peme/' + pemeId.toLowerCase();
            var statusBadge = currentStage === 9 ? 'fit' : 'pending';
            var statusText = currentStage === 9 ? 'FIT FOR DUTY' : 'IN PROGRESS';
            
            var modalHtml = '<div class="modal-container" style="max-width: 850px;">' +
                '<div class="modal-header" style="background: linear-gradient(135deg, var(--navy) 0%, var(--teal) 100%);">' +
                    '<div><h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> PEME Live Tracker</h2>' +
                    '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">' + pemeId + '  Real-Time Examination Progress</p></div>' +
                    '<button class="modal-close" onclick="closePemeDetailModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>' +
                '</div>' +
                '<div class="modal-body" style="padding: 0; max-height: 70vh; overflow-y: auto;">' +
                    '<div class="peme-tracker-container">' +
                        '<div class="peme-tracker-header">' +
                            '<div class="peme-tracker-title"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg> Examination Progress</h3><p>Seamens Hospital Manila  Started at 08:30 AM</p></div>' +
                            '<div class="peme-live-badge">LIVE TRACKING</div>' +
                        '</div>' +
                        '<div class="peme-stages-wrapper"><div class="peme-stages-track"><div class="peme-stages-progress" style="width: ' + progressPercent + '%;"></div>' + stagesHtml + '</div></div>' +
                        '<div class="peme-ai-prediction">' +
                            '<div class="peme-ai-card"><div class="peme-ai-card-label"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg> Current Stage</div><div class="peme-ai-card-value">' + stages[currentStage - 1].name + '</div><div class="peme-ai-card-sub">Stage ' + currentStage + ' of ' + stages.length + '</div></div>' +
                            '<div class="peme-ai-card highlight"><div class="peme-ai-card-label"><svg viewBox="0 0 24 24" fill="none" stroke="#EC4899" stroke-width="2"><path d="M12 2a10 10 0 1 0 10 10H12V2z"/></svg> AI Time Estimate</div><div class="peme-ai-card-value">' + estimatedMinutes + ' min</div><div class="peme-ai-card-sub">Est. completion: ' + completionTime + '</div><div class="peme-confidence"><div class="peme-confidence-bar"><div class="peme-confidence-fill" style="width: 94%;"></div></div><span class="peme-confidence-text">94% confidence</span></div></div>' +
                            '<div class="peme-ai-card"><div class="peme-ai-card-label"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 20V10"/><path d="M18 20V4"/><path d="M6 20v-4"/></svg> Clinic Average</div><div class="peme-ai-card-value">2.1 hrs</div><div class="peme-ai-card-sub">Based on 847 examinations</div></div>' +
                        '</div>' +
                        '<div class="peme-share-section">' +
                            '<div class="peme-share-link"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/></svg> ' + shareLink + '</div>' +
                            '<button class="peme-share-btn" onclick="copyPemeTrackingLink(\'' + shareLink + '\')"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy for Client</button>' +
                        '</div>' +
                    '</div>' +
                    '<div style="padding: 24px;">' +
                        '<div style="display: flex; align-items: center; gap: 16px; margin-bottom: 24px; padding: 20px; background: var(--gray-50); border-radius: 16px;">' +
                            '<div style="width: 60px; height: 60px; border-radius: 16px; background: linear-gradient(135deg, var(--navy), var(--teal)); display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; font-weight: 700;">JD</div>' +
                            '<div style="flex: 1;"><h3 style="font-family: Montserrat, sans-serif; font-weight: 800; color: var(--navy); font-size: 18px;">Juan Dela Cruz</h3><p style="color: var(--gray-500); font-size: 14px;">Chief Officer  MV Diana Pioneer  Diana Shipping</p></div>' +
                            '<span class="peme-status-badge ' + statusBadge + '" style="font-size: 11px;">' + statusText + '</span>' +
                        '</div>' +
                        '<div class="peme-activity-timeline"><h4><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--teal)" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg> Activity Timeline</h4><div class="peme-activity-list">' + activityHtml + '</div></div>' +
                        '<div style="background: rgba(23,162,184,0.05); border-radius: 16px; padding: 20px; border: 1px solid rgba(23,162,184,0.2);">' +
                            '<h4 style="font-family: Montserrat, sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px; font-size: 14px;"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--teal)" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg> Examination Results</h4>' +
                            '<div class="medical-results-grid">' +
                                '<div class="medical-result-item"><span class="medical-result-name"><svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg> Physical Exam</span><span class="medical-result-status ' + (currentStage > 2 ? 'normal' : 'pending') + '">' + (currentStage > 2 ? ' Normal' : 'Pending') + '</span></div>' +
                                '<div class="medical-result-item"><span class="medical-result-name"><svg viewBox="0 0 24 24" fill="none" stroke-width="2"><circle cx="12" cy="12" r="10"/></svg> Blood Test</span><span class="medical-result-status ' + (currentStage > 3 ? 'normal' : 'pending') + '">' + (currentStage > 3 ? ' Normal' : 'Pending') + '</span></div>' +
                                '<div class="medical-result-item"><span class="medical-result-name"><svg viewBox="0 0 24 24" fill="none" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/></svg> Chest X-Ray</span><span class="medical-result-status ' + (currentStage > 4 ? 'normal' : 'pending') + '">' + (currentStage > 4 ? ' Normal' : 'Pending') + '</span></div>' +
                                '<div class="medical-result-item"><span class="medical-result-name"><svg viewBox="0 0 24 24" fill="none" stroke-width="2"><circle cx="12" cy="12" r="3"/></svg> Vision Test</span><span class="medical-result-status ' + (currentStage > 5 ? 'normal' : 'pending') + '">' + (currentStage > 5 ? ' 20/20' : 'Pending') + '</span></div>' +
                                '<div class="medical-result-item"><span class="medical-result-name"><svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/></svg> Hearing Test</span><span class="medical-result-status ' + (currentStage > 6 ? 'normal' : 'pending') + '">' + (currentStage > 6 ? ' Normal' : 'Pending') + '</span></div>' +
                                '<div class="medical-result-item"><span class="medical-result-name"><svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg> Drug Test</span><span class="medical-result-status ' + (currentStage > 7 ? 'normal' : 'pending') + '">' + (currentStage > 7 ? ' Negative' : 'Pending') + '</span></div>' +
                            '</div>' +
                        '</div>' +
                    '</div>' +
                '</div>' +
                '<div class="modal-footer">' +
                    '<button class="btn btn-ghost" onclick="sendPemeUpdateToClient(\'' + pemeId + '\')" style="background: rgba(139,92,246,0.1); color: #8B5CF6;"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg> Notify Client</button>' +
                    '<button class="btn btn-ghost" onclick="closePemeDetailModal()" style="background: var(--gray-200); color: var(--navy);">Close</button>' +
                    '<button class="btn btn-primary" style="background: linear-gradient(135deg, var(--success), var(--teal-light));" onclick="recordPemeResult(\'' + pemeId + '\')"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg> Record Results</button>' +
                '</div>' +
            '</div>';
            
            var modal = document.createElement('div');
            modal.id = 'peme-detail-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = modalHtml;
            document.body.appendChild(modal);
        }
        
        function copyPemeTrackingLink(link) {
            navigator.clipboard.writeText('https://' + link).then(function() {
                showToast(' Tracking link copied! Share with client for live updates.', 'success');
            });
        }
        
        function sendPemeUpdateToClient(pemeId) {
            showToast(' Status update sent to Diana Shipping for ' + pemeId, 'success');
        }
        
        // PEME Package Builder System
        var pemeTestsDatabase = {
            dohRequired: [
                { id: 'med_history', name: 'Medical History & Physical Examination', desc: 'Using Health Questionnaire from Approved Maritime Physician', cost: 0, duration: 30 },
                { id: 'dental', name: 'Dental Examination', desc: 'Complete dental checkup', cost: 0, duration: 15 },
                { id: 'visual_acuity', name: 'Visual Acuity Test', desc: "Snellen's and Jaeger's Chart", cost: 0, duration: 10 },
                { id: 'color_perception', name: 'Color Perception', desc: 'Ishihara 24 Plates', cost: 0, duration: 10 },
                { id: 'audiometry', name: 'Audiometry', desc: 'Hearing test', cost: 0, duration: 15 },
                { id: 'chest_xray', name: 'Chest X-ray', desc: 'PA View, Digital', cost: 0, duration: 15 },
                { id: 'blood_group', name: 'Blood Group & Rh Factor', desc: 'Blood typing', cost: 0, duration: 10 },
                { id: 'cbc', name: 'Complete Blood Count', desc: 'Full blood panel', cost: 0, duration: 10 },
                { id: 'syphilis', name: 'Syphilis Testing', desc: 'RPR/VDRL and TPHA', cost: 0, duration: 10 },
                { id: 'urinalysis', name: 'Urinalysis', desc: 'Urine analysis', cost: 0, duration: 10 },
                { id: 'stool', name: 'Stool Examination', desc: 'Fecal analysis', cost: 0, duration: 10 },
                { id: 'psych', name: 'Psychological Test', desc: 'Mental health evaluation', cost: 0, duration: 20 },
                { id: 'pregnancy', name: 'Pregnancy Test', desc: 'For female seafarers', cost: 0, duration: 10, gender: 'female' },
                { id: 'ecg', name: 'ECG', desc: 'Cardiology evaluation', cost: 0, duration: 15 }
            ],
            additional: [
                { id: 'hiv', name: 'HIV Test (I & II)', desc: 'HIV screening', cost: 550, duration: 10 },
                { id: 'hbsag', name: 'Hepatitis B (HBsAg)', desc: 'Surface antigen test', cost: 550, duration: 10 },
                { id: 'hcv', name: 'Hepatitis C (HCV)', desc: 'Antibody test', cost: 550, duration: 10 },
                { id: 'ultrasound_kub', name: 'Ultrasound KUB', desc: 'Kidneys-Ureters-Bladder-Prostate', cost: 800, duration: 20 },
                { id: 'ultrasound_abd', name: 'Ultrasound Abdomen', desc: 'Upper and lower abdomen', cost: 1000, duration: 25 },
                { id: 'fbs', name: 'Fasting Blood Sugar', desc: 'Glucose level', cost: 200, duration: 10 },
                { id: 'hba1c', name: 'HbA1C', desc: 'Glycosylated hemoglobin', cost: 650, duration: 10 },
                { id: 'creatinine', name: 'Creatinine', desc: 'Kidney function', cost: 300, duration: 10 },
                { id: 'uric_acid', name: 'Blood Uric Acid', desc: 'Gout indicator', cost: 300, duration: 10 },
                { id: 'sgpt', name: 'ALT (SGPT)', desc: 'Liver enzyme', cost: 300, duration: 10 },
                { id: 'sgot', name: 'AST (SGOT)', desc: 'Liver enzyme', cost: 300, duration: 10 },
                { id: 'cholesterol', name: 'Total Cholesterol', desc: 'Lipid profile', cost: 300, duration: 10 },
                { id: 'ldl', name: 'LDL Cholesterol', desc: 'Bad cholesterol', cost: 300, duration: 10 },
                { id: 'hdl', name: 'HDL Cholesterol', desc: 'Good cholesterol', cost: 300, duration: 10 },
                { id: 'triglyceride', name: 'Triglyceride', desc: 'Blood fats', cost: 350, duration: 10 },
                { id: 'tsh', name: 'TSH', desc: 'Thyroid Stimulating Hormone', cost: 700, duration: 10 },
                { id: 'treadmill', name: 'Treadmill Stress Test', desc: 'Cardiac stress test', cost: 1200, duration: 45, ageMin: 35 },
                { id: 'esr', name: 'ESR', desc: 'Erythrocyte Sedimentation Rate', cost: 250, duration: 10 },
                { id: 'bun', name: 'BUN', desc: 'Blood Urea Nitrogen', cost: 300, duration: 10 },
                { id: 'spirometry', name: 'Pulmonary Function Test', desc: 'Spirometry', cost: 500, duration: 20 }
            ],
            drugAlcohol: [
                { id: 'drug_thc', name: 'THC (Marijuana)', desc: 'Cannabis screening', cost: 150, duration: 5 },
                { id: 'drug_mdma', name: 'MDMA (Ecstasy)', desc: 'Ecstasy screening', cost: 150, duration: 5 },
                { id: 'drug_meth', name: 'Methamphetamine', desc: 'Meth screening', cost: 150, duration: 5 },
                { id: 'drug_benzo', name: 'Benzodiazepines', desc: 'Sedatives screening', cost: 150, duration: 5 },
                { id: 'drug_barb', name: 'Barbiturates', desc: 'Barbiturates screening', cost: 150, duration: 5 },
                { id: 'drug_opioid', name: 'Opioids', desc: 'Opioid screening', cost: 150, duration: 5 },
                { id: 'drug_cocaine', name: 'Cocaine', desc: 'Cocaine screening', cost: 150, duration: 5 },
                { id: 'alcohol', name: 'Alcohol Test', desc: 'Blood alcohol level', cost: 200, duration: 5 }
            ],
            special: [
                { id: 'pelvic_us', name: 'Pelvic Ultrasound', desc: 'For female seafarers', cost: 700, duration: 20, gender: 'female' },
                { id: 'stool_culture', name: 'Stool Culture', desc: 'For food handlers', cost: 400, duration: 10, foodHandler: true }
            ]
        };
        
        var pemePackages = {
            generic: {
                name: 'Generic Package',
                logo: 'GP',
                color: '#0A3D62',
                desc: 'Standard DOH-compliant package',
                variants: {
                    'new_under35': { name: 'New Seafarer <35', tests: ['all_doh', 'hiv', 'hbsag', 'hcv', 'ultrasound_kub', 'hba1c', 'creatinine', 'uric_acid', 'sgpt', 'sgot', 'cholesterol', 'ldl', 'hdl', 'triglyceride', 'tsh', 'drug_thc', 'drug_mdma', 'drug_meth', 'drug_benzo', 'drug_barb', 'drug_opioid', 'alcohol'] },
                    'new_over35': { name: 'New Seafarer 35', tests: ['all_doh', 'hiv', 'hbsag', 'hcv', 'ultrasound_abd', 'hba1c', 'creatinine', 'uric_acid', 'sgpt', 'sgot', 'cholesterol', 'ldl', 'hdl', 'triglyceride', 'tsh', 'treadmill', 'drug_thc', 'drug_mdma', 'drug_meth', 'drug_benzo', 'drug_barb', 'drug_opioid', 'alcohol'] },
                    'existing_under45': { name: 'Existing <45', tests: ['all_doh', 'hiv', 'hbsag', 'hcv', 'ultrasound_abd', 'hba1c', 'creatinine', 'uric_acid', 'sgpt', 'sgot', 'cholesterol', 'ldl', 'hdl', 'triglyceride', 'tsh', 'drug_thc', 'drug_mdma', 'drug_meth', 'drug_benzo', 'drug_barb', 'drug_opioid', 'alcohol'] },
                    'existing_over45': { name: 'Existing 45', tests: ['all_doh', 'hiv', 'hbsag', 'hcv', 'ultrasound_abd', 'hba1c', 'creatinine', 'uric_acid', 'sgpt', 'sgot', 'cholesterol', 'ldl', 'hdl', 'triglyceride', 'tsh', 'treadmill', 'drug_thc', 'drug_mdma', 'drug_meth', 'drug_benzo', 'drug_barb', 'drug_opioid', 'alcohol'] }
                }
            },
            healthmetrics: {
                name: 'HealthMetrics',
                logo: 'HM',
                color: '#17A2B8',
                desc: 'Comprehensive health screening',
                variants: {
                    'new_under35': { name: 'New Seafarer <35', tests: ['all_doh', 'hiv', 'hbsag', 'hcv', 'ultrasound_kub', 'hba1c', 'creatinine', 'uric_acid', 'sgpt', 'sgot', 'cholesterol', 'ldl', 'hdl', 'triglyceride', 'tsh'] },
                    'new_over35': { name: 'New Seafarer 35', tests: ['all_doh', 'hiv', 'hbsag', 'hcv', 'ultrasound_abd', 'hba1c', 'creatinine', 'uric_acid', 'sgpt', 'sgot', 'cholesterol', 'ldl', 'hdl', 'triglyceride', 'tsh', 'treadmill'] },
                    'existing_under45': { name: 'Existing <45', tests: ['all_doh', 'hiv', 'hbsag', 'hcv', 'ultrasound_abd', 'hba1c', 'creatinine', 'uric_acid', 'sgpt', 'sgot', 'cholesterol', 'ldl', 'hdl', 'triglyceride', 'tsh', 'treadmill'] },
                    'existing_over45': { name: 'Existing 45', tests: ['all_doh', 'hiv', 'hbsag', 'hcv', 'ultrasound_abd', 'hba1c', 'creatinine', 'uric_acid', 'sgpt', 'sgot', 'cholesterol', 'ldl', 'hdl', 'triglyceride', 'tsh', 'treadmill'] }
                }
            },
            eastern: {
                name: 'Eastern Doctors Medical',
                logo: 'ED',
                color: '#8B5CF6',
                desc: 'Premium medical partner',
                variants: {
                    'A': { name: 'Package A', tests: ['all_doh', 'treadmill'] },
                    'B': { name: 'Package B', tests: ['all_doh', 'hiv', 'hba1c', 'treadmill'] },
                    'C': { name: 'Package C', tests: ['all_doh', 'hbsag', 'treadmill'] },
                    'D': { name: 'Package D', tests: ['all_doh', 'hiv', 'hbsag', 'creatinine', 'uric_acid', 'sgpt', 'sgot', 'cholesterol', 'ldl', 'hdl', 'triglyceride', 'treadmill', 'stool_culture'] }
                }
            },
            gard: {
                name: 'GARD Suggested',
                logo: 'GD',
                color: '#10B981',
                desc: 'P&I Club recommended',
                variants: {
                    'A': { name: 'Package A (<40, Non-food)', tests: ['all_doh', 'hiv', 'hbsag', 'ultrasound_abd', 'fbs', 'hba1c', 'creatinine', 'uric_acid', 'sgpt', 'esr', 'bun', 'spirometry', 'drug_thc', 'drug_meth', 'alcohol'] },
                    'B': { name: 'Package B (<40, Food Handler)', tests: ['all_doh', 'hiv', 'hbsag', 'ultrasound_abd', 'fbs', 'hba1c', 'creatinine', 'uric_acid', 'sgpt', 'esr', 'bun', 'spirometry', 'drug_thc', 'drug_meth', 'alcohol', 'stool_culture'] },
                    'C': { name: 'Package C (>40, Non-food)', tests: ['all_doh', 'hiv', 'hbsag', 'ultrasound_abd', 'fbs', 'hba1c', 'creatinine', 'uric_acid', 'sgpt', 'cholesterol', 'triglyceride', 'esr', 'bun', 'spirometry', 'treadmill', 'drug_thc', 'drug_meth', 'alcohol'] },
                    'D': { name: 'Package D (>40, Food Handler)', tests: ['all_doh', 'hiv', 'hbsag', 'ultrasound_abd', 'fbs', 'hba1c', 'creatinine', 'uric_acid', 'sgpt', 'cholesterol', 'triglyceride', 'esr', 'bun', 'spirometry', 'treadmill', 'drug_thc', 'drug_meth', 'alcohol', 'stool_culture'] }
                }
            }
        };
        
        var selectedPemeTests = [];
        var currentPemeTab = 'packages';
        
        function openPemePackageBuilder(seafarerAge, seafarerGender, isFoodHandler) {
            seafarerAge = seafarerAge || 30;
            seafarerGender = seafarerGender || 'male';
            isFoodHandler = isFoodHandler || false;
            
            var modal = document.createElement('div');
            modal.id = 'peme-package-modal';
            modal.className = 'modal-overlay active';
            modal.style.cssText = 'padding: 0;';
            
            var testsHtml = buildTestsCheckboxes();
            var providersHtml = buildProvidersGrid();
            
            modal.innerHTML = '<div class="modal-container" style="max-width: 100%; width: 100%; height: 100vh; margin: 0; border-radius: 0; display: flex; flex-direction: column;">' +
                '<div class="modal-header" style="background: linear-gradient(135deg, #0A3D62 0%, #17A2B8 100%); flex-shrink: 0; border-radius: 0;">' +
                    '<div><h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> PEME Package Builder</h2>' +
                    '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">Select a package or create custom examination</p></div>' +
                    '<button class="modal-close" onclick="closePemePackageBuilder()" style="color: white; border-color: rgba(255,255,255,0.3); width: 44px; height: 44px; font-size: 20px;"></button>' +
                '</div>' +
                '<div class="modal-body" style="padding: 0; flex: 1; overflow-y: auto;">' +
                    '<div style="padding: 24px; max-width: 1600px; margin: 0 auto;">' +
                        '<div class="peme-package-header" style="margin-bottom: 24px;">' +
                            '<div class="peme-package-title"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg> Examination Package</div>' +
                            '<div class="peme-package-tabs">' +
                                '<button class="peme-package-tab active" onclick="switchPemeTab(\'packages\', this)"> Pre-defined Packages</button>' +
                                '<button class="peme-package-tab" onclick="switchPemeTab(\'custom\', this)"> Custom Builder</button>' +
                            '</div>' +
                        '</div>' +
                        '<div id="peme-tab-packages">' +
                            '<div class="peme-age-selector" style="margin-bottom: 24px;">' +
                                '<h4 style="font-size: 16px;"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#8B5CF6" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg> AI Recommendation based on Age: <span style="color: #EC4899; font-size: 18px;">' + seafarerAge + ' years old</span></h4>' +
                                '<div class="peme-age-options" style="grid-template-columns: repeat(4, 1fr);">' +
                                    '<div class="peme-age-option' + (seafarerAge < 35 ? ' selected' : '') + '" onclick="selectAgeGroup(this, \'under35\')">' +
                                        '<div class="age-range" style="font-size: 28px;">&lt; 35</div>' +
                                        '<div class="age-label">New Seafarer</div>' +
                                        (seafarerAge < 35 ? '<div class="recommended-badge"> Recommended</div>' : '') +
                                    '</div>' +
                                    '<div class="peme-age-option' + (seafarerAge >= 35 && seafarerAge < 40 ? ' selected' : '') + '" onclick="selectAgeGroup(this, \'35to40\')">' +
                                        '<div class="age-range" style="font-size: 28px;">35-40</div>' +
                                        '<div class="age-label">Standard Package</div>' +
                                        (seafarerAge >= 35 && seafarerAge < 40 ? '<div class="recommended-badge"> Recommended</div>' : '') +
                                    '</div>' +
                                    '<div class="peme-age-option' + (seafarerAge >= 40 && seafarerAge < 45 ? ' selected' : '') + '" onclick="selectAgeGroup(this, \'40to45\')">' +
                                        '<div class="age-range" style="font-size: 28px;">40-45</div>' +
                                        '<div class="age-label">Enhanced Screening</div>' +
                                        (seafarerAge >= 40 && seafarerAge < 45 ? '<div class="recommended-badge"> Recommended</div>' : '') +
                                    '</div>' +
                                    '<div class="peme-age-option' + (seafarerAge >= 45 ? ' selected' : '') + '" onclick="selectAgeGroup(this, \'over45\')">' +
                                        '<div class="age-range" style="font-size: 28px;">&gt; 45</div>' +
                                        '<div class="age-label">Comprehensive + Cardiac</div>' +
                                        (seafarerAge >= 45 ? '<div class="recommended-badge"> Recommended</div>' : '') +
                                    '</div>' +
                                '</div>' +
                            '</div>' +
                            '<h4 style="font-family: Montserrat, sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px; font-size: 16px;">Select Provider & Package</h4>' +
                            '<div class="peme-providers-grid" style="grid-template-columns: repeat(4, 1fr);">' + providersHtml + '</div>' +
                        '</div>' +
                        '<div id="peme-tab-custom" style="display: none;">' + testsHtml + '</div>' +
                    '</div>' +
                '</div>' +
                '<div class="peme-package-summary" id="peme-summary" style="border-radius: 0; margin: 0; flex-shrink: 0;">' +
                    '<div class="peme-summary-stats">' +
                        '<div class="peme-summary-stat"><div class="value" id="peme-test-count" style="font-size: 36px;">0</div><div class="label">Tests Selected</div></div>' +
                        '<div class="peme-summary-stat"><div class="value" id="peme-duration" style="font-size: 36px;">0 min</div><div class="label">Est. Duration</div></div>' +
                        '<div class="peme-summary-stat"><div class="value" id="peme-cost" style="font-size: 36px;">0</div><div class="label">Additional Cost</div></div>' +
                    '</div>' +
                    '<div class="peme-summary-actions">' +
                        '<button class="peme-summary-btn secondary" onclick="resetPemeSelection()" style="padding: 14px 28px;"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg> Reset</button>' +
                        '<button class="peme-summary-btn primary" onclick="confirmPemePackage()" style="padding: 14px 28px;"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg> Confirm Package</button>' +
                    '</div>' +
                '</div>' +
            '</div>';
            
            document.body.appendChild(modal);
            document.body.style.overflow = 'hidden';
            updatePemeSummary();
        }
        
        function buildProvidersGrid() {
            var html = '';
            var allTests = pemeTestsDatabase.dohRequired.concat(pemeTestsDatabase.additional).concat(pemeTestsDatabase.drugAlcohol).concat(pemeTestsDatabase.special);
            
            for (var key in pemePackages) {
                var pkg = pemePackages[key];
                
                // Calculate price range and test counts
                var minCost = Infinity, maxCost = 0;
                var minTests = Infinity, maxTests = 0;
                
                for (var v in pkg.variants) {
                    var variant = pkg.variants[v];
                    var testCount = 0;
                    var variantCost = 0;
                    
                    variant.tests.forEach(function(testId) {
                        if (testId === 'all_doh') {
                            testCount += pemeTestsDatabase.dohRequired.length;
                            pemeTestsDatabase.dohRequired.forEach(function(t) { variantCost += t.cost; });
                        } else {
                            testCount++;
                            var test = allTests.find(function(t) { return t.id === testId; });
                            if (test) variantCost += test.cost;
                        }
                    });
                    
                    if (variantCost < minCost) minCost = variantCost;
                    if (variantCost > maxCost) maxCost = variantCost;
                    if (testCount < minTests) minTests = testCount;
                    if (testCount > maxTests) maxTests = testCount;
                }
                
                var priceRange = minCost === maxCost ? '' + minCost.toLocaleString() : '' + minCost.toLocaleString() + ' - ' + maxCost.toLocaleString();
                var testRange = minTests === maxTests ? minTests + ' tests' : minTests + '-' + maxTests + ' tests';
                
                html += '<div class="peme-provider-card" onclick="selectPemeProvider(\'' + key + '\', this)">' +
                    '<div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">' +
                        '<div class="peme-provider-logo" style="background: ' + pkg.color + '; margin-bottom: 0;">' + pkg.logo + '</div>' +
                        '<div style="text-align: right;">' +
                            '<div style="font-size: 11px; color: var(--gray-500);">from</div>' +
                            '<div style="font-family: Montserrat, sans-serif; font-weight: 700; color: var(--navy); font-size: 14px;">' + priceRange + '</div>' +
                        '</div>' +
                    '</div>' +
                    '<div class="peme-provider-name">' + pkg.name + '</div>' +
                    '<div class="peme-provider-desc">' + pkg.desc + '</div>' +
                    '<div style="display: flex; justify-content: space-between; align-items: center; margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--gray-200);">' +
                        '<span style="font-size: 12px; color: var(--gray-500);">' + testRange + '</span>' +
                        '<span style="font-size: 12px; color: var(--teal); font-weight: 600;">View Options </span>' +
                    '</div>' +
                '</div>';
            }
            return html;
        }
        
        function buildTestsCheckboxes() {
            var html = '';
            
            // DOH Required
            html += '<div class="peme-tests-category">' +
                '<div class="peme-tests-category-header">' +
                    '<div class="peme-tests-category-title"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--danger)" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg> DOH Required Tests <span class="peme-tests-category-badge required">Mandatory</span></div>' +
                    '<span class="peme-select-all" onclick="selectAllCategory(\'dohRequired\')">Select All</span>' +
                '</div>' +
                '<div class="peme-tests-grid">' + buildTestItems(pemeTestsDatabase.dohRequired) + '</div>' +
            '</div>';
            
            // Additional
            html += '<div class="peme-tests-category">' +
                '<div class="peme-tests-category-header">' +
                    '<div class="peme-tests-category-title"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--teal)" stroke-width="2"><path d="M12 20V10"/><path d="M18 20V4"/><path d="M6 20v-4"/></svg> Additional Tests <span class="peme-tests-category-badge">Optional</span></div>' +
                    '<span class="peme-select-all" onclick="selectAllCategory(\'additional\')">Select All</span>' +
                '</div>' +
                '<div class="peme-tests-grid">' + buildTestItems(pemeTestsDatabase.additional) + '</div>' +
            '</div>';
            
            // Drug & Alcohol
            html += '<div class="peme-tests-category">' +
                '<div class="peme-tests-category-header">' +
                    '<div class="peme-tests-category-title"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--warning)" stroke-width="2"><path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3"/></svg> Drug & Alcohol Tests</div>' +
                    '<span class="peme-select-all" onclick="selectAllCategory(\'drugAlcohol\')">Select All</span>' +
                '</div>' +
                '<div class="peme-tests-grid">' + buildTestItems(pemeTestsDatabase.drugAlcohol) + '</div>' +
            '</div>';
            
            // Special
            html += '<div class="peme-tests-category">' +
                '<div class="peme-tests-category-header">' +
                    '<div class="peme-tests-category-title"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--purple)" stroke-width="2"><path d="M12 2a10 10 0 1 0 10 10H12V2z"/></svg> Special Tests</div>' +
                '</div>' +
                '<div class="peme-tests-grid">' + buildTestItems(pemeTestsDatabase.special) + '</div>' +
            '</div>';
            
            return html;
        }
        
        function buildTestItems(tests) {
            var html = '';
            tests.forEach(function(test) {
                var costDisplay = test.cost > 0 ? '' + test.cost.toLocaleString() : 'Included';
                html += '<div class="peme-test-item" data-test-id="' + test.id + '" onclick="togglePemeTest(\'' + test.id + '\', this)">' +
                    '<div class="peme-test-checkbox"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><polyline points="20 6 9 17 4 12"/></svg></div>' +
                    '<div class="peme-test-info"><div class="peme-test-name">' + test.name + '</div><div class="peme-test-desc">' + test.desc + '</div></div>' +
                    '<div class="peme-test-cost">' + costDisplay + '</div>' +
                '</div>';
            });
            return html;
        }
        
        function switchPemeTab(tab, btn) {
            currentPemeTab = tab;
            document.querySelectorAll('.peme-package-tab').forEach(function(t) { t.classList.remove('active'); });
            btn.classList.add('active');
            document.getElementById('peme-tab-packages').style.display = tab === 'packages' ? 'block' : 'none';
            document.getElementById('peme-tab-custom').style.display = tab === 'custom' ? 'block' : 'none';
        }
        
        function selectAgeGroup(el, group) {
            document.querySelectorAll('.peme-age-option').forEach(function(o) { o.classList.remove('selected'); });
            el.classList.add('selected');
        }
        
        function selectPemeProvider(providerKey, el) {
            document.querySelectorAll('.peme-provider-card').forEach(function(c) { c.classList.remove('selected'); });
            el.classList.add('selected');
            
            // Show package details panel
            showProviderPackageDetails(providerKey);
        }
        
        function showProviderPackageDetails(providerKey) {
            var pkg = pemePackages[providerKey];
            var existingPanel = document.getElementById('peme-package-details-panel');
            if (existingPanel) existingPanel.remove();
            
            var allTests = pemeTestsDatabase.dohRequired.concat(pemeTestsDatabase.additional).concat(pemeTestsDatabase.drugAlcohol).concat(pemeTestsDatabase.special);
            
            var variantsHtml = '';
            for (var variantKey in pkg.variants) {
                var variant = pkg.variants[variantKey];
                var testsList = [];
                var totalCost = 0;
                var totalDuration = 0;
                var testCount = 0;
                
                variant.tests.forEach(function(testId) {
                    if (testId === 'all_doh') {
                        pemeTestsDatabase.dohRequired.forEach(function(t) {
                            testsList.push({ name: t.name, cost: t.cost, duration: t.duration, category: 'DOH Required' });
                            totalCost += t.cost;
                            totalDuration += t.duration;
                            testCount++;
                        });
                    } else {
                        var test = allTests.find(function(t) { return t.id === testId; });
                        if (test) {
                            testsList.push({ name: test.name, cost: test.cost, duration: test.duration, category: 'Additional' });
                            totalCost += test.cost;
                            totalDuration += test.duration;
                            testCount++;
                        }
                    }
                });
                
                var testsListHtml = '';
                testsList.forEach(function(t) {
                    var costDisplay = t.cost > 0 ? '' + t.cost.toLocaleString() : '<span style="color: var(--success);">Included</span>';
                    testsListHtml += '<div style="display: flex; justify-content: space-between; align-items: center; padding: 8px 12px; background: var(--gray-50); border-radius: 8px; margin-bottom: 6px;">' +
                        '<div style="display: flex; align-items: center; gap: 10px;">' +
                            '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--teal)" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>' +
                            '<span style="font-size: 13px; color: var(--navy);">' + t.name + '</span>' +
                        '</div>' +
                        '<span style="font-size: 12px; font-weight: 600;">' + costDisplay + '</span>' +
                    '</div>';
                });
                
                variantsHtml += '<div class="package-variant-card" style="background: white; border-radius: 16px; padding: 20px; border: 2px solid var(--gray-200); cursor: pointer; transition: all 0.3s;" onclick="applyPemePackage(\'' + providerKey + '\', \'' + variantKey + '\')">' +
                    '<div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">' +
                        '<div>' +
                            '<h4 style="font-family: Montserrat, sans-serif; font-weight: 700; color: var(--navy); font-size: 16px; margin-bottom: 4px;">' + variant.name + '</h4>' +
                            '<p style="font-size: 12px; color: var(--gray-500);">' + testCount + ' tests  ~' + Math.round(totalDuration / 60 * 10) / 10 + ' hours</p>' +
                        '</div>' +
                        '<div style="text-align: right;">' +
                            '<div style="font-family: Montserrat, sans-serif; font-size: 24px; font-weight: 800; color: var(--navy);">' + totalCost.toLocaleString() + '</div>' +
                            '<div style="font-size: 11px; color: var(--gray-500);">additional costs</div>' +
                        '</div>' +
                    '</div>' +
                    '<div style="max-height: 200px; overflow-y: auto; padding-right: 8px;">' + testsListHtml + '</div>' +
                    '<button style="width: 100%; margin-top: 16px; padding: 12px; background: linear-gradient(135deg, ' + pkg.color + ', var(--teal)); color: white; border: none; border-radius: 10px; font-weight: 700; font-size: 13px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px;">' +
                        '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>' +
                        'Select This Package' +
                    '</button>' +
                '</div>';
            }
            
            var panel = document.createElement('div');
            panel.id = 'peme-package-details-panel';
            panel.innerHTML = '<div style="margin-top: 24px; padding: 24px; background: linear-gradient(135deg, rgba(10,61,98,0.03) 0%, rgba(23,162,184,0.03) 100%); border-radius: 20px; border: 1px solid var(--gray-200);">' +
                '<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">' +
                    '<div style="display: flex; align-items: center; gap: 16px;">' +
                        '<div style="width: 56px; height: 56px; border-radius: 14px; background: ' + pkg.color + '; display: flex; align-items: center; justify-content: center; color: white; font-weight: 800; font-size: 20px;">' + pkg.logo + '</div>' +
                        '<div>' +
                            '<h3 style="font-family: Montserrat, sans-serif; font-weight: 800; color: var(--navy); font-size: 20px;">' + pkg.name + '</h3>' +
                            '<p style="color: var(--gray-500); font-size: 14px;">' + pkg.desc + '  ' + Object.keys(pkg.variants).length + ' package options</p>' +
                        '</div>' +
                    '</div>' +
                    '<button onclick="document.getElementById(\'peme-package-details-panel\').remove();" style="background: var(--gray-100); border: none; width: 40px; height: 40px; border-radius: 10px; cursor: pointer; font-size: 18px;"></button>' +
                '</div>' +
                '<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px;">' + variantsHtml + '</div>' +
            '</div>';
            
            var providersGrid = document.querySelector('.peme-providers-grid');
            providersGrid.parentNode.insertBefore(panel, providersGrid.nextSibling);
            
            // Scroll to panel
            panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        
        function applyPemePackage(providerKey, variantKey) {
            selectedPemeTests = [];
            var pkg = pemePackages[providerKey];
            var variant = pkg.variants[variantKey];
            var allTests = pemeTestsDatabase.dohRequired.concat(pemeTestsDatabase.additional).concat(pemeTestsDatabase.drugAlcohol).concat(pemeTestsDatabase.special);
            var totalCost = 0;
            
            variant.tests.forEach(function(testId) {
                if (testId === 'all_doh') {
                    pemeTestsDatabase.dohRequired.forEach(function(t) {
                        if (selectedPemeTests.indexOf(t.id) === -1) {
                            selectedPemeTests.push(t.id);
                            totalCost += t.cost;
                        }
                    });
                } else {
                    if (selectedPemeTests.indexOf(testId) === -1) {
                        selectedPemeTests.push(testId);
                        var test = allTests.find(function(t) { return t.id === testId; });
                        if (test) totalCost += test.cost;
                    }
                }
            });
            
            updateTestSelectionUI();
            updatePemeSummary();
            
            // Close details panel
            var panel = document.getElementById('peme-package-details-panel');
            if (panel) panel.remove();
            
            showToast(' ' + pkg.name + ' - ' + variant.name + ' applied! (' + selectedPemeTests.length + ' tests, ' + totalCost.toLocaleString() + ')', 'success');
        }
        
        function togglePemeTest(testId, el) {
            var idx = selectedPemeTests.indexOf(testId);
            if (idx > -1) {
                selectedPemeTests.splice(idx, 1);
                el.classList.remove('selected');
            } else {
                selectedPemeTests.push(testId);
                el.classList.add('selected');
            }
            updatePemeSummary();
        }
        
        function selectAllCategory(category) {
            var tests = pemeTestsDatabase[category];
            tests.forEach(function(test) {
                if (selectedPemeTests.indexOf(test.id) === -1) {
                    selectedPemeTests.push(test.id);
                }
            });
            updateTestSelectionUI();
            updatePemeSummary();
        }
        
        function updateTestSelectionUI() {
            document.querySelectorAll('.peme-test-item').forEach(function(el) {
                var testId = el.getAttribute('data-test-id');
                if (selectedPemeTests.indexOf(testId) > -1) {
                    el.classList.add('selected');
                } else {
                    el.classList.remove('selected');
                }
            });
        }
        
        function updatePemeSummary() {
            var totalCost = 0;
            var totalDuration = 0;
            var allTests = pemeTestsDatabase.dohRequired.concat(pemeTestsDatabase.additional).concat(pemeTestsDatabase.drugAlcohol).concat(pemeTestsDatabase.special);
            
            selectedPemeTests.forEach(function(testId) {
                var test = allTests.find(function(t) { return t.id === testId; });
                if (test) {
                    totalCost += test.cost;
                    totalDuration += test.duration;
                }
            });
            
            var countEl = document.getElementById('peme-test-count');
            var durationEl = document.getElementById('peme-duration');
            var costEl = document.getElementById('peme-cost');
            
            if (countEl) countEl.textContent = selectedPemeTests.length;
            if (durationEl) durationEl.textContent = totalDuration + ' min';
            if (costEl) costEl.textContent = '' + totalCost.toLocaleString();
        }
        
        function resetPemeSelection() {
            selectedPemeTests = [];
            updateTestSelectionUI();
            updatePemeSummary();
            document.querySelectorAll('.peme-provider-card').forEach(function(c) { c.classList.remove('selected'); });
        }
        
        function confirmPemePackage() {
            if (selectedPemeTests.length === 0) {
                showToast(' Please select at least one test', 'warning');
                return;
            }
            showToast(' PEME Package confirmed with ' + selectedPemeTests.length + ' tests!', 'success');
            closePemePackageBuilder();
        }
        
        function closePemePackageBuilder() {
            var modal = document.getElementById('peme-package-modal');
            if (modal) modal.remove();
            document.body.style.overflow = '';
        }
        
        // =====================================================
        // FLAG STATE APPLICATION FUNCTIONS
        // =====================================================
        
        var flagStatesDatabase = {
            'LR': { code: 'LR', name: 'Liberia', emoji: '', authority: 'LISCR', currency: 'USD', fees: { endorsement: 185, cdc: 250, medical: 95, gmdss: 280, tanker_oil: 120, tanker_chem: 130, tanker_gas: 145 }, processing: '5-7 days' },
            'MH': { code: 'MH', name: 'Marshall Islands', emoji: '', authority: 'IRI', currency: 'USD', fees: { endorsement: 200, cdc: 275, medical: 110, gmdss: 295, tanker_oil: 135, tanker_chem: 140, tanker_gas: 155 }, processing: '7-10 days' },
            'PA': { code: 'PA', name: 'Panama', emoji: '', authority: 'PMA', currency: 'USD', fees: { endorsement: 165, cdc: 230, medical: 85, gmdss: 320, tanker_oil: 110, tanker_chem: 115, tanker_gas: 130 }, processing: '10-14 days' },
            'MT': { code: 'MT', name: 'Malta', emoji: '', authority: 'Transport Malta', currency: 'EUR', fees: { endorsement: 180, cdc: 220, medical: 90, gmdss: 260, tanker_oil: 125, tanker_chem: 130, tanker_gas: 145 }, processing: '5-7 days' },
            'CY': { code: 'CY', name: 'Cyprus', emoji: '', authority: 'DMLC', currency: 'EUR', fees: { endorsement: 150, cdc: 195, medical: 85, gmdss: 240, tanker_oil: 105, tanker_chem: 110, tanker_gas: 125 }, processing: '3-5 days' },
            'BS': { code: 'BS', name: 'Bahamas', emoji: '', authority: 'BMA', currency: 'USD', fees: { endorsement: 195, cdc: 260, medical: 100, gmdss: 285, tanker_oil: 130, tanker_chem: 135, tanker_gas: 150 }, processing: '7-10 days' },
            'GR': { code: 'GR', name: 'Greece', emoji: '', authority: 'Hellenic Coast Guard', currency: 'EUR', fees: { endorsement: 120, cdc: 180, medical: 75, gmdss: 200, tanker_oil: 95, tanker_chem: 100, tanker_gas: 115 }, processing: '7-14 days' },
            'SG': { code: 'SG', name: 'Singapore', emoji: '', authority: 'MPA', currency: 'SGD', fees: { endorsement: 280, cdc: 350, medical: 120, gmdss: 380, tanker_oil: 180, tanker_chem: 190, tanker_gas: 210 }, processing: '5-7 days' }
        };
        
        var applicationTypes = [
            { id: 'cdc', name: "Seafarer's Book / CDC", icon: '' },
            { id: 'endorsement', name: 'Flag State Endorsement', icon: '' },
            { id: 'medical', name: 'Medical Certificate', icon: '' },
            { id: 'gmdss', name: 'GMDSS License', icon: '' },
            { id: 'tanker_oil', name: 'Tanker Endorsement - Oil', icon: '' },
            { id: 'tanker_chem', name: 'Tanker Endorsement - Chemical', icon: '' },
            { id: 'tanker_gas', name: 'Tanker Endorsement - Gas/LNG', icon: '' }
        ];
        
        var documentRequirements = {
            'endorsement': ['Valid CoC', 'STCW Certificates', 'Valid Passport', 'Passport Photo', 'Medical Certificate', 'Sea Service Record'],
            'cdc': ['Valid Passport', 'Passport Photos (4)', 'Birth Certificate', 'Medical Certificate', 'Basic Safety Training', 'STCW Certificates'],
            'medical': ['Medical Examination Report', 'Eye Test Certificate', 'Audiometry Report', 'Drug & Alcohol Test', 'Valid Passport'],
            'gmdss': ['GMDSS GOC/ROC Certificate', 'Valid Passport', 'Passport Photo', 'Medical Certificate', 'Sea Service Record'],
            'tanker_oil': ['Basic Tanker Training Certificate', 'Advanced Oil Tanker Training', 'Valid CoC', 'Sea Service on Oil Tanker'],
            'tanker_chem': ['Basic Tanker Training Certificate', 'Advanced Chemical Tanker Training', 'Valid CoC', 'Sea Service on Chemical Tanker'],
            'tanker_gas': ['Basic Tanker Training Certificate', 'Advanced Gas Tanker Training', 'IGF Code Training', 'Valid CoC', 'Sea Service on Gas Carrier']
        };
        
        function openNewFlagApplicationModal() {
            var flagOptions = '';
            for (var key in flagStatesDatabase) {
                var flag = flagStatesDatabase[key];
                flagOptions += '<option value="' + key + '">' + flag.emoji + ' ' + flag.name + '</option>';
            }
            
            var typeOptions = '';
            applicationTypes.forEach(function(type) {
                typeOptions += '<option value="' + type.id + '">' + type.icon + ' ' + type.name + '</option>';
            });
            
            var modal = document.createElement('div');
            modal.id = 'flag-app-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = '<div class="modal-container" style="max-width: 800px;">' +
                '<div class="modal-header" style="background: linear-gradient(135deg, var(--navy) 0%, var(--purple) 100%);">' +
                    '<div><h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> New Flag State Application</h2>' +
                    '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">Submit new certificate or endorsement application</p></div>' +
                    '<button class="modal-close" onclick="closeFlagAppModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>' +
                '</div>' +
                '<div class="modal-body" style="padding: 24px; max-height: 65vh; overflow-y: auto;">' +
                    '<div class="rfa-form-section">' +
                        '<div class="rfa-form-section-title"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" y1="22" x2="4" y2="15"/></svg> Select Flag State</div>' +
                        '<select id="flag-select" style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;" onchange="updateFlagFees()">' +
                            '<option value="">Choose flag state...</option>' + flagOptions +
                        '</select>' +
                    '</div>' +
                    '<div class="rfa-form-section">' +
                        '<div class="rfa-form-section-title"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg> Application Type</div>' +
                        '<select id="app-type-select" style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;" onchange="updateFlagFees()">' +
                            '<option value="">Choose application type...</option>' + typeOptions +
                        '</select>' +
                    '</div>' +
                    '<div class="rfa-form-section">' +
                        '<div class="rfa-form-section-title"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg> Select Seafarer</div>' +
                        '<select id="flag-seafarer-select" style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">' +
                            '<option value="">Choose seafarer...</option>' +
                            '<option value="jdc">Juan Dela Cruz - Chief Officer</option>' +
                            '<option value="mr">Michael Reyes - 2nd Engineer</option>' +
                            '<option value="as">Antonio Santos - AB Seaman</option>' +
                            '<option value="rg">Roberto Garcia - Bosun</option>' +
                            '<option value="pl">Pedro Lopez - Oiler</option>' +
                        '</select>' +
                    '</div>' +
                    '<div id="flag-fee-display" style="display: none; background: linear-gradient(135deg, rgba(139,92,246,0.1), rgba(236,72,153,0.05)); border-radius: 16px; padding: 20px; border: 1px solid rgba(139,92,246,0.2); margin-top: 20px;">' +
                        '<h4 style="font-family: Montserrat, sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px; display: flex; align-items: center; gap: 8px;"> Fee Estimate</h4>' +
                        '<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;">' +
                            '<div style="text-align: center;"><div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Application Fee</div><div id="flag-fee-amount" style="font-family: Montserrat, sans-serif; font-size: 24px; font-weight: 800; color: var(--purple);">$0</div></div>' +
                            '<div style="text-align: center;"><div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Processing Time</div><div id="flag-processing-time" style="font-family: Montserrat, sans-serif; font-size: 24px; font-weight: 800; color: var(--teal);">-</div></div>' +
                            '<div style="text-align: center;"><div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Authority</div><div id="flag-authority" style="font-family: Montserrat, sans-serif; font-size: 18px; font-weight: 700; color: var(--navy);">-</div></div>' +
                        '</div>' +
                    '</div>' +
                    '<div id="flag-docs-checklist" style="display: none; margin-top: 20px;">' +
                        '<h4 style="font-family: Montserrat, sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px; display: flex; align-items: center; gap: 8px;"> Required Documents</h4>' +
                        '<div id="flag-docs-list" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;"></div>' +
                    '</div>' +
                '</div>' +
                '<div class="modal-footer">' +
                    '<button class="btn btn-ghost" onclick="closeFlagAppModal()" style="background: var(--gray-200); color: var(--navy);">Cancel</button>' +
                    '<button class="btn btn-primary" onclick="submitFlagApplication()" style="background: linear-gradient(135deg, var(--navy), var(--purple));">Submit Application</button>' +
                '</div>' +
            '</div>';
            
            document.body.appendChild(modal);
        }
        
        function updateFlagFees() {
            var flagCode = document.getElementById('flag-select').value;
            var appType = document.getElementById('app-type-select').value;
            
            if (flagCode && appType) {
                var flag = flagStatesDatabase[flagCode];
                var feeAmount = flag.fees[appType] || 0;
                var currencySymbol = flag.currency === 'EUR' ? '' : (flag.currency === 'SGD' ? 'S$' : '$');
                
                document.getElementById('flag-fee-display').style.display = 'block';
                document.getElementById('flag-fee-amount').textContent = currencySymbol + feeAmount;
                document.getElementById('flag-processing-time').textContent = flag.processing;
                document.getElementById('flag-authority').textContent = flag.authority;
                
                // Show document checklist
                var docsDiv = document.getElementById('flag-docs-checklist');
                var docsList = document.getElementById('flag-docs-list');
                var docs = documentRequirements[appType] || [];
                
                if (docs.length > 0) {
                    docsDiv.style.display = 'block';
                    docsList.innerHTML = docs.map(function(doc) {
                        return '<div style="display: flex; align-items: center; gap: 10px; padding: 12px; background: var(--gray-50); border-radius: 10px;">' +
                            '<input type="checkbox" style="width: 18px; height: 18px; accent-color: var(--teal);">' +
                            '<span style="font-size: 13px; color: var(--navy);">' + doc + '</span>' +
                        '</div>';
                    }).join('');
                }
            }
        }
        
        function closeFlagAppModal() {
            var modal = document.getElementById('flag-app-modal');
            if (modal) modal.remove();
        }
        
        function submitFlagApplication() {
            var flagCode = document.getElementById('flag-select').value;
            var appType = document.getElementById('app-type-select').value;
            var seafarer = document.getElementById('flag-seafarer-select').value;
            
            if (!flagCode || !appType || !seafarer) {
                showToast(' Please fill all required fields', 'warning');
                return;
            }
            
            var appId = 'FSA-2026-' + String(Math.floor(Math.random() * 9000) + 1000).padStart(4, '0');
            showToast(' Application ' + appId + ' submitted successfully!', 'success');
            closeFlagAppModal();
        }
        
        function openFlagAppDetailModal(appId) {
            var modal = document.createElement('div');
            modal.id = 'flag-detail-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = '<div class="modal-container" style="max-width: 750px;">' +
                '<div class="modal-header" style="background: linear-gradient(135deg, var(--navy) 0%, var(--teal) 100%);">' +
                    '<div><h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> Application Details</h2>' +
                    '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">' + appId + '</p></div>' +
                    '<button class="modal-close" onclick="closeFlagDetailModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>' +
                '</div>' +
                '<div class="modal-body" style="padding: 24px;">' +
                    '<div style="display: flex; gap: 20px; margin-bottom: 24px;">' +
                        '<div style="font-size: 48px;"></div>' +
                        '<div style="flex: 1;">' +
                            '<h3 style="font-family: Montserrat, sans-serif; font-weight: 800; color: var(--navy); font-size: 20px;">Juan Dela Cruz</h3>' +
                            '<p style="color: var(--gray-500);">Chief Officer  Flag State Endorsement</p>' +
                            '<div style="display: flex; gap: 8px; margin-top: 10px;">' +
                                '<span style="padding: 4px 12px; background: rgba(245,158,11,0.1); color: var(--warning); border-radius: 20px; font-size: 12px; font-weight: 600;"> Under Review</span>' +
                                '<span style="padding: 4px 12px; background: var(--gray-100); border-radius: 20px; font-size: 12px; color: var(--gray-600);">Est. 5 days</span>' +
                            '</div>' +
                        '</div>' +
                    '</div>' +
                    '<div style="background: var(--gray-50); border-radius: 16px; padding: 20px; margin-bottom: 20px;">' +
                        '<h4 style="font-family: Montserrat, sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;"> Progress Tracker</h4>' +
                        '<div style="display: flex; justify-content: space-between; position: relative; padding: 0 10px;">' +
                            '<div style="position: absolute; top: 12px; left: 30px; right: 30px; height: 4px; background: var(--gray-200); border-radius: 2px;"></div>' +
                            '<div style="position: absolute; top: 12px; left: 30px; width: 50%; height: 4px; background: linear-gradient(90deg, var(--success), var(--teal)); border-radius: 2px;"></div>' +
                            '<div style="text-align: center; position: relative; z-index: 1;"><div style="width: 28px; height: 28px; border-radius: 50%; background: var(--success); margin: 0 auto 8px; display: flex; align-items: center; justify-content: center;"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div><div style="font-size: 10px; color: var(--gray-600);">Documents</div></div>' +
                            '<div style="text-align: center; position: relative; z-index: 1;"><div style="width: 28px; height: 28px; border-radius: 50%; background: var(--success); margin: 0 auto 8px; display: flex; align-items: center; justify-content: center;"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div><div style="font-size: 10px; color: var(--gray-600);">Submitted</div></div>' +
                            '<div style="text-align: center; position: relative; z-index: 1;"><div style="width: 28px; height: 28px; border-radius: 50%; background: var(--teal); margin: 0 auto 8px; display: flex; align-items: center; justify-content: center; animation: pulse 2s infinite;"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></div><div style="font-size: 10px; color: var(--teal); font-weight: 600;">Review</div></div>' +
                            '<div style="text-align: center; position: relative; z-index: 1;"><div style="width: 28px; height: 28px; border-radius: 50%; background: var(--gray-300); margin: 0 auto 8px;"></div><div style="font-size: 10px; color: var(--gray-400);">Payment</div></div>' +
                            '<div style="text-align: center; position: relative; z-index: 1;"><div style="width: 28px; height: 28px; border-radius: 50%; background: var(--gray-300); margin: 0 auto 8px;"></div><div style="font-size: 10px; color: var(--gray-400);">Issued</div></div>' +
                            '<div style="text-align: center; position: relative; z-index: 1;"><div style="width: 28px; height: 28px; border-radius: 50%; background: var(--gray-300); margin: 0 auto 8px;"></div><div style="font-size: 10px; color: var(--gray-400);">Delivered</div></div>' +
                        '</div>' +
                    '</div>' +
                    '<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">' +
                        '<div style="background: var(--gray-50); border-radius: 12px; padding: 16px;"><div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;"> Submitted</div><div style="font-weight: 700; color: var(--navy);">February 5, 2026</div></div>' +
                        '<div style="background: var(--gray-50); border-radius: 12px; padding: 16px;"><div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;"> Fee</div><div style="font-weight: 700; color: var(--navy);">$185 USD</div></div>' +
                        '<div style="background: var(--gray-50); border-radius: 12px; padding: 16px;"><div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;"> Authority</div><div style="font-weight: 700; color: var(--navy);">LISCR</div></div>' +
                        '<div style="background: var(--gray-50); border-radius: 12px; padding: 16px;"><div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;"> Status</div><div style="font-weight: 700; color: var(--teal);">Under Review</div></div>' +
                    '</div>' +
                '</div>' +
                '<div class="modal-footer">' +
                    '<button class="btn btn-ghost" onclick="closeFlagDetailModal()" style="background: var(--gray-200); color: var(--navy);">Close</button>' +
                    '<button class="btn btn-primary" onclick="showToast(\' Documents downloaded\', \'success\'); closeFlagDetailModal();">Download Documents</button>' +
                '</div>' +
            '</div>';
            
            document.body.appendChild(modal);
        }
        
        function closeFlagDetailModal() {
            var modal = document.getElementById('flag-detail-modal');
            if (modal) modal.remove();
        }
        
        function openManageFlagStatesModal() {
            var flagsList = '';
            for (var key in flagStatesDatabase) {
                var flag = flagStatesDatabase[key];
                flagsList += '<div style="display: flex; align-items: center; justify-content: space-between; padding: 14px; background: var(--gray-50); border-radius: 12px;">' +
                    '<div style="display: flex; align-items: center; gap: 12px;">' +
                        '<span style="font-size: 28px;">' + flag.emoji + '</span>' +
                        '<div><div style="font-weight: 700; color: var(--navy);">' + flag.name + '</div><div style="font-size: 12px; color: var(--gray-500);">' + flag.authority + '</div></div>' +
                    '</div>' +
                    '<div style="display: flex; gap: 8px;">' +
                        '<button style="padding: 6px 12px; background: var(--gray-200); border: none; border-radius: 6px; font-size: 12px; cursor: pointer;">Edit</button>' +
                        '<button style="padding: 6px 12px; background: rgba(239,68,68,0.1); color: var(--danger); border: none; border-radius: 6px; font-size: 12px; cursor: pointer;">Remove</button>' +
                    '</div>' +
                '</div>';
            }
            
            var modal = document.createElement('div');
            modal.id = 'manage-flags-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = '<div class="modal-container" style="max-width: 600px;">' +
                '<div class="modal-header" style="background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%);">' +
                    '<div><h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> Manage Flag States</h2>' +
                    '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">Add, edit or remove flag states</p></div>' +
                    '<button class="modal-close" onclick="closeManageFlagsModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>' +
                '</div>' +
                '<div class="modal-body" style="padding: 24px; max-height: 60vh; overflow-y: auto;">' +
                    '<button onclick="showToast(\' Add Flag State form coming soon!\', \'info\')" style="width: 100%; padding: 16px; background: linear-gradient(135deg, rgba(139,92,246,0.1), rgba(236,72,153,0.1)); border: 2px dashed var(--purple); border-radius: 12px; font-weight: 700; color: var(--purple); cursor: pointer; margin-bottom: 16px; display: flex; align-items: center; justify-content: center; gap: 8px;"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg> Add New Flag State</button>' +
                    '<div style="display: flex; flex-direction: column; gap: 10px;">' + flagsList + '</div>' +
                '</div>' +
                '<div class="modal-footer">' +
                    '<button class="btn btn-ghost" onclick="closeManageFlagsModal()" style="background: var(--gray-200); color: var(--navy);">Close</button>' +
                '</div>' +
            '</div>';
            
            document.body.appendChild(modal);
        }
        
        function closeManageFlagsModal() {
            var modal = document.getElementById('manage-flags-modal');
            if (modal) modal.remove();
        }
        
        function processPayment(appId) {
            showToast(' Processing payment for ' + appId + '...', 'info');
            setTimeout(function() {
                showToast(' Payment successful! Certificate will be issued within 24-48 hours.', 'success');
            }, 1500);
        }
        
        // =====================================================
        // CREW VISA APPLICATION FUNCTIONS
        // =====================================================
        
        var visaCountriesDatabase = {
            'US': { code: 'US', name: 'United States', emoji: '', visaTypes: ['C1/D Transit Visa', 'B1/B2 Visitor'], embassy: 'US Embassy Manila', processing: '5-7 days', validity: '2 years', fee: 185, currency: 'USD' },
            'UK': { code: 'UK', name: 'United Kingdom', emoji: '', visaTypes: ['Seaman Visa', 'Transit Visa'], embassy: 'UK Embassy Manila', processing: '10-15 days', validity: '6 months', fee: 143, currency: 'GBP' },
            'JP': { code: 'JP', name: 'Japan', emoji: '', visaTypes: ['Shore Pass', 'Transit Visa', 'Work Visa'], embassy: 'Japan Embassy Manila', processing: '3-5 days', validity: 'Single entry', fee: 3000, currency: 'JPY' },
            'AU': { code: 'AU', name: 'Australia', emoji: '', visaTypes: ['Maritime Crew Visa (988)', 'Transit Visa (771)'], embassy: 'Australian Embassy Manila', processing: '1-3 days', validity: '3 years', fee: 160, currency: 'AUD' },
            'SG': { code: 'SG', name: 'Singapore', emoji: '', visaTypes: ['Work Permit', 'Special Pass'], embassy: 'Singapore Embassy Manila', processing: '3-7 days', validity: '2 years', fee: 35, currency: 'SGD' },
            'AE': { code: 'AE', name: 'UAE', emoji: '', visaTypes: ['Seaman Visa', 'Transit Visa', 'Crew Visa'], embassy: 'UAE Embassy Manila', processing: '2-4 days', validity: '14-30 days', fee: 200, currency: 'AED' },
            'SA': { code: 'SA', name: 'Saudi Arabia', emoji: '', visaTypes: ['Seaman Visa', 'Work Visa'], embassy: 'Saudi Embassy Manila', processing: '5-10 days', validity: '90 days', fee: 300, currency: 'SAR' },
            'CN': { code: 'CN', name: 'China', emoji: '', visaTypes: ['C Crew Visa', 'Transit Visa'], embassy: 'China Embassy Manila', processing: '4-7 days', validity: '2 years', fee: 140, currency: 'USD' },
            'KR': { code: 'KR', name: 'South Korea', emoji: '', visaTypes: ['D-8 Seaman Visa', 'Transit Visa'], embassy: 'Korea Embassy Manila', processing: '5-7 days', validity: '1 year', fee: 40, currency: 'USD' },
            'DE': { code: 'DE', name: 'Germany (Schengen)', emoji: '', visaTypes: ['Schengen Visa', 'Airport Transit'], embassy: 'German Embassy Manila', processing: '7-10 days', validity: '90 days', fee: 80, currency: 'EUR' }
        };
        
        var visaDocumentRequirements = {
            'C1/D Transit Visa': ['Valid Passport (6+ months)', 'DS-160 Confirmation', 'Passport Photo (2x2)', 'Seaman Book', 'Contract of Employment', 'Company Letter', 'Previous US Visas (if any)', 'Bank Statement'],
            'Seaman Visa': ['Valid Passport', 'Visa Application Form', 'Passport Photos (2)', 'Seaman Book', 'Contract of Employment', 'Company Sponsorship Letter', 'Medical Certificate'],
            'Shore Pass': ['Valid Passport', 'Crew List', 'Ship Schedule', 'Port of Call Details', 'Seaman Book'],
            'Maritime Crew Visa (988)': ['Valid Passport', 'Form 1418', 'Passport Photo', 'Seaman Book', 'Contract', 'Character Certificate'],
            'Work Permit': ['Valid Passport', 'Employment Pass Application', 'Company Documents', 'Educational Certificates', 'Medical Report'],
            'Schengen Visa': ['Valid Passport', 'Visa Application Form', 'Passport Photos (2)', 'Travel Insurance', 'Seaman Book', 'Contract', 'Bank Statement', 'Flight Itinerary']
        };
        
        function openNewVisaApplicationModal() {
            var countryOptions = '';
            for (var key in visaCountriesDatabase) {
                var country = visaCountriesDatabase[key];
                countryOptions += '<option value="' + key + '">' + country.emoji + ' ' + country.name + '</option>';
            }
            
            var modal = document.createElement('div');
            modal.id = 'visa-app-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = '<div class="modal-container" style="max-width: 850px;">' +
                '<div class="modal-header" style="background: linear-gradient(135deg, var(--teal) 0%, var(--teal-light) 100%);">' +
                    '<div><h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> New Visa Application</h2>' +
                    '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">Submit crew visa application</p></div>' +
                    '<button class="modal-close" onclick="closeVisaAppModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>' +
                '</div>' +
                '<div class="modal-body" style="padding: 24px; max-height: 65vh; overflow-y: auto;">' +
                    '<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">' +
                        '<div class="rfa-form-section">' +
                            '<div class="rfa-form-section-title"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg> Select Seafarer</div>' +
                            '<select id="visa-seafarer-select" style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">' +
                                '<option value="">Choose seafarer...</option>' +
                                '<option value="jdc">Juan Dela Cruz - Chief Officer</option>' +
                                '<option value="mr">Michael Reyes - 2nd Engineer</option>' +
                                '<option value="as">Antonio Santos - AB Seaman</option>' +
                                '<option value="rg">Roberto Garcia - Bosun</option>' +
                                '<option value="pl">Pedro Lopez - Oiler</option>' +
                            '</select>' +
                        '</div>' +
                        '<div class="rfa-form-section">' +
                            '<div class="rfa-form-section-title"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"/><path d="M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4"/></svg> Assigned Vessel</div>' +
                            '<select id="visa-vessel-select" style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">' +
                                '<option value="">Choose vessel...</option>' +
                                '<option value="dp">MV Diana Pioneer</option>' +
                                '<option value="cg">MV Centrofin Glory</option>' +
                                '<option value="po">MV Pioneer Oceania</option>' +
                                '<option value="hp">MV Hellas Pioneer</option>' +
                            '</select>' +
                        '</div>' +
                    '</div>' +
                    '<div class="rfa-form-section" style="margin-top: 20px;">' +
                        '<div class="rfa-form-section-title"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg> Destination Country</div>' +
                        '<select id="visa-country-select" style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;" onchange="updateVisaTypes()">' +
                            '<option value="">Choose country...</option>' + countryOptions +
                        '</select>' +
                    '</div>' +
                    '<div class="rfa-form-section" style="margin-top: 20px;">' +
                        '<div class="rfa-form-section-title"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="16" rx="2"/><line x1="3" y1="10" x2="21" y2="10"/></svg> Visa Type</div>' +
                        '<select id="visa-type-select" style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;" onchange="updateVisaDocuments()">' +
                            '<option value="">Select country first...</option>' +
                        '</select>' +
                    '</div>' +
                    '<div id="visa-info-display" style="display: none; background: linear-gradient(135deg, rgba(23,162,184,0.1), rgba(32,201,151,0.05)); border-radius: 16px; padding: 20px; border: 1px solid rgba(23,162,184,0.2); margin-top: 20px;">' +
                        '<h4 style="font-family: Montserrat, sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px; display: flex; align-items: center; gap: 8px;"> Visa Information</h4>' +
                        '<div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px;">' +
                            '<div style="text-align: center;"><div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Embassy</div><div id="visa-embassy" style="font-family: Montserrat, sans-serif; font-size: 12px; font-weight: 700; color: var(--navy);">-</div></div>' +
                            '<div style="text-align: center;"><div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Processing</div><div id="visa-processing" style="font-family: Montserrat, sans-serif; font-size: 16px; font-weight: 800; color: var(--teal);">-</div></div>' +
                            '<div style="text-align: center;"><div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Validity</div><div id="visa-validity" style="font-family: Montserrat, sans-serif; font-size: 16px; font-weight: 800; color: var(--info);">-</div></div>' +
                            '<div style="text-align: center;"><div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;">Fee</div><div id="visa-fee" style="font-family: Montserrat, sans-serif; font-size: 20px; font-weight: 800; color: var(--success);">-</div></div>' +
                        '</div>' +
                    '</div>' +
                    '<div id="visa-docs-checklist" style="display: none; margin-top: 20px;">' +
                        '<h4 style="font-family: Montserrat, sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px; display: flex; align-items: center; gap: 8px;"> Required Documents</h4>' +
                        '<div id="visa-docs-list" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;"></div>' +
                    '</div>' +
                    '<div class="rfa-form-section" style="margin-top: 20px;">' +
                        '<div class="rfa-form-section-title"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg> Preferred Appointment Date</div>' +
                        '<input type="date" id="visa-appt-date" style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">' +
                    '</div>' +
                '</div>' +
                '<div class="modal-footer">' +
                    '<button class="btn btn-ghost" onclick="closeVisaAppModal()" style="background: var(--gray-200); color: var(--navy);">Cancel</button>' +
                    '<button class="btn btn-primary" onclick="submitVisaApplication()" style="background: linear-gradient(135deg, var(--teal), var(--teal-light));">Submit Application</button>' +
                '</div>' +
            '</div>';
            
            document.body.appendChild(modal);
        }
        
        function updateVisaTypes() {
            var countryCode = document.getElementById('visa-country-select').value;
            var typeSelect = document.getElementById('visa-type-select');
            
            if (countryCode && visaCountriesDatabase[countryCode]) {
                var country = visaCountriesDatabase[countryCode];
                typeSelect.innerHTML = '<option value="">Choose visa type...</option>';
                country.visaTypes.forEach(function(type) {
                    typeSelect.innerHTML += '<option value="' + type + '">' + type + '</option>';
                });
                
                document.getElementById('visa-info-display').style.display = 'block';
                document.getElementById('visa-embassy').textContent = country.embassy;
                document.getElementById('visa-processing').textContent = country.processing;
                document.getElementById('visa-validity').textContent = country.validity;
                
                var currencySymbols = { USD: '$', GBP: '', EUR: '', JPY: '', AUD: 'A$', SGD: 'S$', AED: 'AED ', SAR: 'SAR ' };
                document.getElementById('visa-fee').textContent = (currencySymbols[country.currency] || '') + country.fee;
            } else {
                typeSelect.innerHTML = '<option value="">Select country first...</option>';
                document.getElementById('visa-info-display').style.display = 'none';
            }
        }
        
        function updateVisaDocuments() {
            var visaType = document.getElementById('visa-type-select').value;
            var docsDiv = document.getElementById('visa-docs-checklist');
            var docsList = document.getElementById('visa-docs-list');
            
            if (visaType && visaDocumentRequirements[visaType]) {
                var docs = visaDocumentRequirements[visaType];
                docsDiv.style.display = 'block';
                docsList.innerHTML = docs.map(function(doc) {
                    return '<div style="display: flex; align-items: center; gap: 10px; padding: 12px; background: var(--gray-50); border-radius: 10px;">' +
                        '<input type="checkbox" style="width: 18px; height: 18px; accent-color: var(--teal);">' +
                        '<span style="font-size: 13px; color: var(--navy);">' + doc + '</span>' +
                    '</div>';
                }).join('');
            } else {
                docsDiv.style.display = 'none';
            }
        }
        
        function closeVisaAppModal() {
            var modal = document.getElementById('visa-app-modal');
            if (modal) modal.remove();
        }
        
        function submitVisaApplication() {
            var seafarer = document.getElementById('visa-seafarer-select').value;
            var country = document.getElementById('visa-country-select').value;
            var visaType = document.getElementById('visa-type-select').value;
            
            if (!seafarer || !country || !visaType) {
                showToast(' Please fill all required fields', 'warning');
                return;
            }
            
            var appId = 'VSA-2026-' + String(Math.floor(Math.random() * 9000) + 1000).padStart(4, '0');
            showToast(' Visa Application ' + appId + ' submitted successfully!', 'success');
            closeVisaAppModal();
        }
        
        function openVisaDetailModal(appId) {
            var modal = document.createElement('div');
            modal.id = 'visa-detail-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = '<div class="modal-container" style="max-width: 750px;">' +
                '<div class="modal-header" style="background: linear-gradient(135deg, var(--teal) 0%, var(--teal-light) 100%);">' +
                    '<div><h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> Visa Application Details</h2>' +
                    '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">' + appId + '</p></div>' +
                    '<button class="modal-close" onclick="closeVisaDetailModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>' +
                '</div>' +
                '<div class="modal-body" style="padding: 24px;">' +
                    '<div style="display: flex; gap: 20px; margin-bottom: 24px;">' +
                        '<div style="font-size: 56px;"></div>' +
                        '<div style="flex: 1;">' +
                            '<h3 style="font-family: Montserrat, sans-serif; font-weight: 800; color: var(--navy); font-size: 22px;">Juan Dela Cruz</h3>' +
                            '<p style="color: var(--gray-500);">Chief Officer  C1/D Transit Visa</p>' +
                            '<p style="color: var(--teal); font-size: 13px; margin-top: 4px;"> MV Diana Pioneer</p>' +
                            '<div style="display: flex; gap: 8px; margin-top: 12px;">' +
                                '<span style="padding: 4px 12px; background: rgba(59,130,246,0.1); color: var(--info); border-radius: 20px; font-size: 12px; font-weight: 600;"> Processing</span>' +
                                '<span style="padding: 4px 12px; background: var(--gray-100); border-radius: 20px; font-size: 12px; color: var(--gray-600);">Est. 5-7 days</span>' +
                            '</div>' +
                        '</div>' +
                    '</div>' +
                    '<div style="background: var(--gray-50); border-radius: 16px; padding: 20px; margin-bottom: 20px;">' +
                        '<h4 style="font-family: Montserrat, sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;"> Application Progress</h4>' +
                        '<div style="display: flex; justify-content: space-between; position: relative; padding: 0 10px;">' +
                            '<div style="position: absolute; top: 12px; left: 30px; right: 30px; height: 4px; background: var(--gray-200); border-radius: 2px;"></div>' +
                            '<div style="position: absolute; top: 12px; left: 30px; width: 50%; height: 4px; background: linear-gradient(90deg, var(--success), var(--teal)); border-radius: 2px;"></div>' +
                            '<div style="text-align: center; position: relative; z-index: 1;"><div style="width: 28px; height: 28px; border-radius: 50%; background: var(--success); margin: 0 auto 8px; display: flex; align-items: center; justify-content: center;"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div><div style="font-size: 10px; color: var(--gray-600);">Documents</div></div>' +
                            '<div style="text-align: center; position: relative; z-index: 1;"><div style="width: 28px; height: 28px; border-radius: 50%; background: var(--success); margin: 0 auto 8px; display: flex; align-items: center; justify-content: center;"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div><div style="font-size: 10px; color: var(--gray-600);">Embassy</div></div>' +
                            '<div style="text-align: center; position: relative; z-index: 1;"><div style="width: 28px; height: 28px; border-radius: 50%; background: var(--info); margin: 0 auto 8px; display: flex; align-items: center; justify-content: center; animation: pulse 2s infinite;"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg></div><div style="font-size: 10px; color: var(--info); font-weight: 600;">Processing</div></div>' +
                            '<div style="text-align: center; position: relative; z-index: 1;"><div style="width: 28px; height: 28px; border-radius: 50%; background: var(--gray-300); margin: 0 auto 8px;"></div><div style="font-size: 10px; color: var(--gray-400);">Approved</div></div>' +
                            '<div style="text-align: center; position: relative; z-index: 1;"><div style="width: 28px; height: 28px; border-radius: 50%; background: var(--gray-300); margin: 0 auto 8px;"></div><div style="font-size: 10px; color: var(--gray-400);">Delivered</div></div>' +
                        '</div>' +
                    '</div>' +
                    '<div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 20px;">' +
                        '<div style="background: var(--gray-50); border-radius: 12px; padding: 16px;"><div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;"> Applied</div><div style="font-weight: 700; color: var(--navy);">February 3, 2026</div></div>' +
                        '<div style="background: var(--gray-50); border-radius: 12px; padding: 16px;"><div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;"> Embassy Visit</div><div style="font-weight: 700; color: var(--navy);">February 8, 2026</div></div>' +
                        '<div style="background: var(--gray-50); border-radius: 12px; padding: 16px;"><div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;"> Embassy</div><div style="font-weight: 700; color: var(--navy);">US Embassy Manila</div></div>' +
                        '<div style="background: var(--gray-50); border-radius: 12px; padding: 16px;"><div style="font-size: 11px; color: var(--gray-500); margin-bottom: 4px;"> Fee Paid</div><div style="font-weight: 700; color: var(--success);">$185 USD</div></div>' +
                    '</div>' +
                    '<div style="background: linear-gradient(135deg, rgba(23,162,184,0.05), rgba(32,201,151,0.05)); border-radius: 12px; padding: 16px;">' +
                        '<h4 style="font-size: 13px; font-weight: 700; color: var(--navy); margin-bottom: 12px;"> Documents Submitted</h4>' +
                        '<div style="display: flex; flex-wrap: wrap; gap: 8px;">' +
                            '<span style="padding: 6px 12px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 600;"> Passport</span>' +
                            '<span style="padding: 6px 12px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 600;"> DS-160</span>' +
                            '<span style="padding: 6px 12px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 600;"> Seaman Book</span>' +
                            '<span style="padding: 6px 12px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 600;"> Contract</span>' +
                            '<span style="padding: 6px 12px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 600;"> Company Letter</span>' +
                        '</div>' +
                    '</div>' +
                '</div>' +
                '<div class="modal-footer">' +
                    '<button class="btn btn-ghost" onclick="closeVisaDetailModal()" style="background: var(--gray-200); color: var(--navy);">Close</button>' +
                    '<button class="btn btn-primary" onclick="showToast(\' Status update sent to seafarer\', \'success\'); closeVisaDetailModal();">Send Update</button>' +
                '</div>' +
            '</div>';
            
            document.body.appendChild(modal);
        }
        
        function closeVisaDetailModal() {
            var modal = document.getElementById('visa-detail-modal');
            if (modal) modal.remove();
        }
        
        function openManageCountriesModal() {
            var countriesList = '';
            for (var key in visaCountriesDatabase) {
                var country = visaCountriesDatabase[key];
                countriesList += '<div style="display: flex; align-items: center; justify-content: space-between; padding: 14px; background: var(--gray-50); border-radius: 12px;">' +
                    '<div style="display: flex; align-items: center; gap: 12px;">' +
                        '<span style="font-size: 28px;">' + country.emoji + '</span>' +
                        '<div><div style="font-weight: 700; color: var(--navy);">' + country.name + '</div><div style="font-size: 12px; color: var(--gray-500);">' + country.visaTypes.length + ' visa types  ' + country.processing + '</div></div>' +
                    '</div>' +
                    '<div style="display: flex; gap: 8px;">' +
                        '<button style="padding: 6px 12px; background: var(--gray-200); border: none; border-radius: 6px; font-size: 12px; cursor: pointer;">Edit</button>' +
                        '<button style="padding: 6px 12px; background: rgba(239,68,68,0.1); color: var(--danger); border: none; border-radius: 6px; font-size: 12px; cursor: pointer;">Remove</button>' +
                    '</div>' +
                '</div>';
            }
            
            var modal = document.createElement('div');
            modal.id = 'manage-countries-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = '<div class="modal-container" style="max-width: 650px;">' +
                '<div class="modal-header" style="background: linear-gradient(135deg, var(--teal) 0%, var(--teal-light) 100%);">' +
                    '<div><h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> Manage Countries</h2>' +
                    '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">Add, edit or remove countries and visa types</p></div>' +
                    '<button class="modal-close" onclick="closeManageCountriesModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>' +
                '</div>' +
                '<div class="modal-body" style="padding: 24px; max-height: 60vh; overflow-y: auto;">' +
                    '<button onclick="showToast(\' Add Country form coming soon!\', \'info\')" style="width: 100%; padding: 16px; background: linear-gradient(135deg, rgba(23,162,184,0.1), rgba(32,201,151,0.1)); border: 2px dashed var(--teal); border-radius: 12px; font-weight: 700; color: var(--teal); cursor: pointer; margin-bottom: 16px; display: flex; align-items: center; justify-content: center; gap: 8px;"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg> Add New Country</button>' +
                    '<div style="display: flex; flex-direction: column; gap: 10px;">' + countriesList + '</div>' +
                '</div>' +
                '<div class="modal-footer">' +
                    '<button class="btn btn-ghost" onclick="closeManageCountriesModal()" style="background: var(--gray-200); color: var(--navy);">Close</button>' +
                '</div>' +
            '</div>';
            
            document.body.appendChild(modal);
        }
        
        function closeManageCountriesModal() {
            var modal = document.getElementById('manage-countries-modal');
            if (modal) modal.remove();
        }
        
        function pickupVisa(appId) {
            showToast(' Visa ' + appId + ' marked as picked up!', 'success');
        }
        
        function reapplyVisa(appId) {
            showToast(' Reapplication initiated for ' + appId, 'info');
        }
        
        function showCountryVisaDetails(countryCode) {
            var country = visaCountriesDatabase[countryCode];
            if (!country) return;
            
            showToast(country.emoji + ' ' + country.name + ': ' + country.visaTypes.join(', '), 'info');
        }
        
        // =====================================================
        // KPI DASHBOARD FUNCTIONS
        // =====================================================
        
        function refreshKPIs() {
            showToast(' Refreshing KPI data...', 'info');
            
            // Simulate refresh animation
            document.querySelectorAll('.chart-container-3d').forEach(function(card) {
                card.style.opacity = '0.6';
                setTimeout(function() {
                    card.style.opacity = '1';
                }, 500);
            });
            
            setTimeout(function() {
                showToast(' KPI Dashboard updated!', 'success');
            }, 1000);
        }
        
        // Auto-refresh KPIs every 5 minutes (optional)
        // setInterval(refreshKPIs, 300000);
        
        // =====================================================
        // DOCUMENT EXPIRY FUNCTIONS
        // =====================================================
        
        var documentDatabase = [
            { id: 'DOC-001', seafarer: 'Juan Dela Cruz', type: 'passport', docType: 'Passport', docNumber: 'PC1234567', vessel: 'MV Diana Pioneer', expiryDate: '2026-01-15', status: 'expired' },
            { id: 'DOC-002', seafarer: 'Michael Reyes', type: 'medical', docType: 'Medical Certificate', docNumber: 'MED-2024-456', vessel: 'MV Centrofin Glory', expiryDate: '2026-02-01', status: 'expired' },
            { id: 'DOC-003', seafarer: 'Roberto Garcia', type: 'stcw', docType: 'STCW Basic Safety', docNumber: 'BST-2020-789', vessel: 'MV Pioneer Oceania', expiryDate: '2026-02-05', status: 'expired' },
            { id: 'DOC-004', seafarer: 'Pedro Lopez', type: 'flag', docType: 'Liberia Endorsement', docNumber: 'LR-2024-123', vessel: 'MV Hellas Pioneer', expiryDate: '2026-02-12', status: '7days' },
            { id: 'DOC-005', seafarer: 'Carlos Mendoza', type: 'visa', docType: 'US C1/D Visa', docNumber: 'USA-2024-789', vessel: 'MV Diana Pioneer', expiryDate: '2026-02-14', status: '7days' },
            { id: 'DOC-006', seafarer: 'Fernando Cruz', type: 'seamanbook', docType: 'Seaman Book', docNumber: 'SB-2021-456', vessel: 'MV Centrofin Glory', expiryDate: '2026-02-16', status: '7days' },
            { id: 'DOC-007', seafarer: 'Antonio Santos', type: 'goc', docType: 'GOC Certificate', docNumber: 'GOC-2023-321', vessel: 'MV Pioneer Oceania', expiryDate: '2026-02-17', status: '7days' },
            { id: 'DOC-008', seafarer: 'Ricardo Bautista', type: 'passport', docType: 'Passport', docNumber: 'PC9876543', vessel: 'MV Diana Pioneer', expiryDate: '2026-02-28', status: '30days' },
            { id: 'DOC-009', seafarer: 'Jose Villanueva', type: 'training', docType: 'Tanker Familiarization', docNumber: 'TF-2024-654', vessel: 'MV Hellas Pioneer', expiryDate: '2026-03-05', status: '30days' }
        ];
        
        function filterByStatus(status) {
            var statusFilter = document.getElementById('doc-status-filter');
            if (statusFilter) {
                statusFilter.value = status;
                filterDocuments();
            }
            showToast(' Filtered by: ' + status, 'info');
        }
        
        function filterDocuments() {
            var search = document.getElementById('doc-search').value.toLowerCase();
            var typeFilter = document.getElementById('doc-type-filter').value;
            var statusFilter = document.getElementById('doc-status-filter').value;
            var vesselFilter = document.getElementById('doc-vessel-filter').value;
            
            // This would filter the documents in a real implementation
            console.log('Filtering:', { search, typeFilter, statusFilter, vesselFilter });
        }
        
        function setDocView(view, btn) {
            document.querySelectorAll('.doc-view-btn').forEach(function(b) {
                b.classList.remove('active');
            });
            btn.classList.add('active');
            
            if (view === 'calendar') {
                showToast(' Calendar view coming soon!', 'info');
            }
        }
        
        function openDocRenewalModal(docId) {
            var doc = documentDatabase.find(function(d) { return d.id === docId; });
            if (!doc) doc = { seafarer: 'Unknown', docType: 'Document', docNumber: docId };
            
            var modal = document.createElement('div');
            modal.id = 'doc-renewal-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = '<div class="modal-container" style="max-width: 600px;">' +
                '<div class="modal-header" style="background: linear-gradient(135deg, var(--danger) 0%, var(--warning) 100%);">' +
                    '<div><h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> Document Renewal</h2>' +
                    '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">' + doc.docId + '</p></div>' +
                    '<button class="modal-close" onclick="closeDocRenewalModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>' +
                '</div>' +
                '<div class="modal-body" style="padding: 24px;">' +
                    '<div style="display: flex; gap: 16px; margin-bottom: 24px; padding: 20px; background: var(--gray-50); border-radius: 16px;">' +
                        '<div style="width: 60px; height: 60px; background: var(--danger); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 28px;"></div>' +
                        '<div style="flex: 1;">' +
                            '<h3 style="font-family: Montserrat, sans-serif; font-weight: 800; color: var(--navy); font-size: 18px;">' + doc.seafarer + '</h3>' +
                            '<p style="color: var(--gray-500); font-size: 13px;">' + doc.docType + '  ' + doc.docNumber + '</p>' +
                            '<p style="color: var(--teal); font-size: 12px; margin-top: 4px;"> ' + doc.vessel + '</p>' +
                        '</div>' +
                    '</div>' +
                    '<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px;">' +
                        '<div style="padding: 16px; background: rgba(239,68,68,0.1); border-radius: 12px; text-align: center;">' +
                            '<div style="font-size: 12px; color: var(--gray-500); margin-bottom: 4px;">Expiry Date</div>' +
                            '<div style="font-family: Montserrat, sans-serif; font-weight: 800; color: var(--danger); font-size: 16px;">' + doc.expiryDate + '</div>' +
                        '</div>' +
                        '<div style="padding: 16px; background: rgba(23,162,184,0.1); border-radius: 12px; text-align: center;">' +
                            '<div style="font-size: 12px; color: var(--gray-500); margin-bottom: 4px;">New Expiry (Est.)</div>' +
                            '<div style="font-family: Montserrat, sans-serif; font-weight: 800; color: var(--teal); font-size: 16px;">2028-02-10</div>' +
                        '</div>' +
                    '</div>' +
                    '<div class="rfa-form-section">' +
                        '<div class="rfa-form-section-title"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg> Preferred Renewal Date</div>' +
                        '<input type="date" style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">' +
                    '</div>' +
                    '<div class="rfa-form-section" style="margin-top: 16px;">' +
                        '<div class="rfa-form-section-title"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg> Notes</div>' +
                        '<textarea placeholder="Add any special instructions..." style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-height: 80px; resize: none;"></textarea>' +
                    '</div>' +
                '</div>' +
                '<div class="modal-footer">' +
                    '<button class="btn btn-ghost" onclick="closeDocRenewalModal()" style="background: var(--gray-200); color: var(--navy);">Cancel</button>' +
                    '<button class="btn btn-primary" onclick="submitRenewal(\'' + docId + '\')" style="background: linear-gradient(135deg, var(--success), var(--teal));">Start Renewal</button>' +
                '</div>' +
            '</div>';
            
            document.body.appendChild(modal);
        }
        
        function closeDocRenewalModal() {
            var modal = document.getElementById('doc-renewal-modal');
            if (modal) modal.remove();
        }
        
        function initiateRenewal(docId) {
            showToast(' Initiating renewal for ' + docId + '...', 'info');
            setTimeout(function() {
                showToast(' Renewal request submitted!', 'success');
            }, 1000);
        }
        
        function submitRenewal(docId) {
            showToast(' Renewal request for ' + docId + ' submitted successfully!', 'success');
            closeDocRenewalModal();
        }
        
        function exportExpiryReport() {
            showToast(' Generating expiry report...', 'info');
            setTimeout(function() {
                showToast(' Report downloaded: Document_Expiry_Report_Feb2026.xlsx', 'success');
            }, 1500);
        }
        
        function openBulkRenewalModal() {
            showToast(' Bulk renewal feature - Select multiple documents to renew together', 'info');
        }
        
        function sendExpiryReminders() {
            showToast(' Sending expiry reminders to 23 seafarers...', 'info');
            setTimeout(function() {
                showToast(' 23 reminder emails sent successfully!', 'success');
            }, 1500);
        }
        
        function scheduleRenewals() {
            showToast(' Opening bulk renewal scheduler...', 'info');
        }
        
        function generateComplianceReport() {
            showToast(' Generating compliance report...', 'info');
            setTimeout(function() {
                showToast(' Compliance Report: 95% overall  8 expired  15 urgent', 'success');
            }, 1000);
        }
        
        function configureAlerts() {
            var modal = document.createElement('div');
            modal.id = 'alert-config-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = '<div class="modal-container" style="max-width: 500px;">' +
                '<div class="modal-header" style="background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%);">' +
                    '<div><h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> Alert Configuration</h2>' +
                    '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">Set up expiry notifications</p></div>' +
                    '<button class="modal-close" onclick="closeAlertConfigModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>' +
                '</div>' +
                '<div class="modal-body" style="padding: 24px;">' +
                    '<h4 style="font-family: Montserrat, sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;"> Email Alerts</h4>' +
                    '<div style="display: flex; flex-direction: column; gap: 12px; margin-bottom: 24px;">' +
                        '<label style="display: flex; align-items: center; gap: 12px; padding: 14px; background: var(--gray-50); border-radius: 10px; cursor: pointer;"><input type="checkbox" checked style="width: 20px; height: 20px; accent-color: var(--danger);"><span><strong>90 days before</strong> - Planning notice</span></label>' +
                        '<label style="display: flex; align-items: center; gap: 12px; padding: 14px; background: var(--gray-50); border-radius: 10px; cursor: pointer;"><input type="checkbox" checked style="width: 20px; height: 20px; accent-color: var(--warning);"><span><strong>30 days before</strong> - Warning alert</span></label>' +
                        '<label style="display: flex; align-items: center; gap: 12px; padding: 14px; background: var(--gray-50); border-radius: 10px; cursor: pointer;"><input type="checkbox" checked style="width: 20px; height: 20px; accent-color: var(--warning);"><span><strong>7 days before</strong> - Urgent alert</span></label>' +
                        '<label style="display: flex; align-items: center; gap: 12px; padding: 14px; background: rgba(239,68,68,0.1); border-radius: 10px; cursor: pointer; border: 1px solid var(--danger);"><input type="checkbox" checked style="width: 20px; height: 20px; accent-color: var(--danger);"><span><strong>On expiry</strong> - Critical alert</span></label>' +
                    '</div>' +
                    '<h4 style="font-family: Montserrat, sans-serif; font-weight: 700; color: var(--navy); margin-bottom: 16px;"> Notify</h4>' +
                    '<div style="display: flex; flex-direction: column; gap: 8px;">' +
                        '<label style="display: flex; align-items: center; gap: 10px;"><input type="checkbox" checked style="accent-color: var(--teal);"> Seafarer</label>' +
                        '<label style="display: flex; align-items: center; gap: 10px;"><input type="checkbox" checked style="accent-color: var(--teal);"> Crewing Manager</label>' +
                        '<label style="display: flex; align-items: center; gap: 10px;"><input type="checkbox" checked style="accent-color: var(--teal);"> Principal (Client)</label>' +
                    '</div>' +
                '</div>' +
                '<div class="modal-footer">' +
                    '<button class="btn btn-ghost" onclick="closeAlertConfigModal()" style="background: var(--gray-200); color: var(--navy);">Cancel</button>' +
                    '<button class="btn btn-primary" onclick="saveAlertConfig()" style="background: linear-gradient(135deg, var(--purple), var(--pink));">Save Settings</button>' +
                '</div>' +
            '</div>';
            
            document.body.appendChild(modal);
        }
        
        function closeAlertConfigModal() {
            var modal = document.getElementById('alert-config-modal');
            if (modal) modal.remove();
        }
        
        function saveAlertConfig() {
            showToast(' Alert settings saved successfully!', 'success');
            closeAlertConfigModal();
        }
        
        // =====================================================
        // PAYROLL FUNCTIONS
        // =====================================================
        
        function openProcessPayrollModal() {
            var modal = document.createElement('div');
            modal.id = 'process-payroll-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = '<div class="modal-container" style="max-width: 600px;">' +
                '<div class="modal-header" style="background: linear-gradient(135deg, var(--success) 0%, var(--teal) 100%);">' +
                    '<div><h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> Process Payroll</h2>' +
                    '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">February 2026</p></div>' +
                    '<button class="modal-close" onclick="closeProcessPayrollModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>' +
                '</div>' +
                '<div class="modal-body" style="padding: 24px;">' +
                    '<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 24px;">' +
                        '<div style="padding: 20px; background: var(--gray-50); border-radius: 12px; text-align: center;">' +
                            '<div style="font-size: 12px; color: var(--gray-500); margin-bottom: 4px;">Total Amount</div>' +
                            '<div style="font-family: Montserrat, sans-serif; font-weight: 900; color: var(--navy); font-size: 28px;">$310,800</div>' +
                        '</div>' +
                        '<div style="padding: 20px; background: var(--gray-50); border-radius: 12px; text-align: center;">' +
                            '<div style="font-size: 12px; color: var(--gray-500); margin-bottom: 4px;">Crew Members</div>' +
                            '<div style="font-family: Montserrat, sans-serif; font-weight: 900; color: var(--teal); font-size: 28px;">847</div>' +
                        '</div>' +
                    '</div>' +
                    '<div style="margin-bottom: 20px;">' +
                        '<h4 style="font-weight: 700; color: var(--navy); margin-bottom: 12px;">Payment Method</h4>' +
                        '<div style="display: flex; flex-direction: column; gap: 10px;">' +
                            '<label style="display: flex; align-items: center; gap: 12px; padding: 14px; background: var(--gray-50); border-radius: 10px; cursor: pointer; border: 2px solid var(--teal);"><input type="radio" name="payment-method" checked style="accent-color: var(--teal);"><span><strong>Bank Transfer</strong> - Direct to crew accounts</span></label>' +
                            '<label style="display: flex; align-items: center; gap: 12px; padding: 14px; background: var(--gray-50); border-radius: 10px; cursor: pointer;"><input type="radio" name="payment-method" style="accent-color: var(--teal);"><span><strong>Wire Transfer</strong> - International transfer</span></label>' +
                            '<label style="display: flex; align-items: center; gap: 12px; padding: 14px; background: var(--gray-50); border-radius: 10px; cursor: pointer;"><input type="radio" name="payment-method" style="accent-color: var(--teal);"><span><strong>Cash</strong> - On-board payment</span></label>' +
                        '</div>' +
                    '</div>' +
                    '<div style="padding: 16px; background: rgba(16,185,129,0.1); border-radius: 12px; border: 1px solid var(--success);">' +
                        '<div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">' +
                            '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--success)" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>' +
                            '<span style="font-weight: 700; color: var(--success);">Ready to Process</span>' +
                        '</div>' +
                        '<div style="font-size: 13px; color: var(--gray-600);">All payroll data verified. Allotments will be sent automatically.</div>' +
                    '</div>' +
                '</div>' +
                '<div class="modal-footer">' +
                    '<button class="btn btn-ghost" onclick="closeProcessPayrollModal()" style="background: var(--gray-200); color: var(--navy);">Cancel</button>' +
                    '<button class="btn btn-primary" onclick="executePayroll()" style="background: linear-gradient(135deg, var(--success), var(--teal));"> Process Payroll</button>' +
                '</div>' +
            '</div>';
            
            document.body.appendChild(modal);
        }
        
        function closeProcessPayrollModal() {
            var modal = document.getElementById('process-payroll-modal');
            if (modal) modal.remove();
        }
        
        function executePayroll() {
            showToast(' Processing payroll for 847 crew members...', 'info');
            closeProcessPayrollModal();
            setTimeout(function() {
                showToast(' Payroll processed successfully! $310,800 disbursed.', 'success');
            }, 2000);
        }
        
        function openPayslipModal(payId) {
            var modal = document.createElement('div');
            modal.id = 'payslip-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = '<div class="modal-container" style="max-width: 550px;">' +
                '<div class="modal-header" style="background: linear-gradient(135deg, var(--navy) 0%, var(--teal) 100%);">' +
                    '<div><h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> Payslip</h2>' +
                    '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">February 2026  ' + payId + '</p></div>' +
                    '<button class="modal-close" onclick="closePayslipModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>' +
                '</div>' +
                '<div class="modal-body" style="padding: 24px;">' +
                    '<div style="display: flex; gap: 16px; margin-bottom: 24px; padding: 20px; background: var(--gray-50); border-radius: 16px;">' +
                        '<div style="width: 60px; height: 60px; background: linear-gradient(135deg, var(--navy), var(--teal)); border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; font-size: 20px;">JD</div>' +
                        '<div style="flex: 1;">' +
                            '<h3 style="font-family: Montserrat, sans-serif; font-weight: 800; color: var(--navy); font-size: 18px;">Juan Dela Cruz</h3>' +
                            '<p style="color: var(--gray-500); font-size: 13px;">Chief Officer  MV Diana Pioneer</p>' +
                            '<p style="color: var(--teal); font-size: 12px; margin-top: 4px;">Employee ID: CW-2024-0847</p>' +
                        '</div>' +
                    '</div>' +
                    '<div style="margin-bottom: 20px;">' +
                        '<h4 style="font-weight: 700; color: var(--navy); margin-bottom: 12px; font-size: 14px;"> Earnings</h4>' +
                        '<div style="display: flex; flex-direction: column; gap: 8px;">' +
                            '<div style="display: flex; justify-content: space-between; padding: 10px 14px; background: rgba(16,185,129,0.05); border-radius: 8px;"><span style="color: var(--gray-600);">Basic Salary</span><span style="font-weight: 700; color: var(--navy);">$4,500.00</span></div>' +
                            '<div style="display: flex; justify-content: space-between; padding: 10px 14px; background: rgba(16,185,129,0.05); border-radius: 8px;"><span style="color: var(--gray-600);">Leave Pay</span><span style="font-weight: 700; color: var(--navy);">$450.00</span></div>' +
                            '<div style="display: flex; justify-content: space-between; padding: 10px 14px; background: rgba(16,185,129,0.05); border-radius: 8px;"><span style="color: var(--gray-600);">Overtime</span><span style="font-weight: 700; color: var(--navy);">$280.00</span></div>' +
                            '<div style="display: flex; justify-content: space-between; padding: 10px 14px; background: rgba(16,185,129,0.05); border-radius: 8px;"><span style="color: var(--gray-600);">Fixed Overtime</span><span style="font-weight: 700; color: var(--navy);">$120.00</span></div>' +
                            '<div style="display: flex; justify-content: space-between; padding: 12px 14px; background: rgba(16,185,129,0.15); border-radius: 8px; border: 1px solid var(--success);"><span style="font-weight: 700; color: var(--success);">Total Earnings</span><span style="font-family: Montserrat, sans-serif; font-weight: 800; color: var(--success);">$5,350.00</span></div>' +
                        '</div>' +
                    '</div>' +
                    '<div style="margin-bottom: 20px;">' +
                        '<h4 style="font-weight: 700; color: var(--navy); margin-bottom: 12px; font-size: 14px;"> Deductions</h4>' +
                        '<div style="display: flex; flex-direction: column; gap: 8px;">' +
                            '<div style="display: flex; justify-content: space-between; padding: 10px 14px; background: rgba(239,68,68,0.05); border-radius: 8px;"><span style="color: var(--gray-600);">Allotment</span><span style="font-weight: 700; color: var(--purple);">-$2,500.00</span></div>' +
                            '<div style="display: flex; justify-content: space-between; padding: 10px 14px; background: rgba(239,68,68,0.05); border-radius: 8px;"><span style="color: var(--gray-600);">SSS Contribution</span><span style="font-weight: 700; color: var(--danger);">-$180.00</span></div>' +
                            '<div style="display: flex; justify-content: space-between; padding: 10px 14px; background: rgba(239,68,68,0.05); border-radius: 8px;"><span style="color: var(--gray-600);">PhilHealth</span><span style="font-weight: 700; color: var(--danger);">-$125.00</span></div>' +
                            '<div style="display: flex; justify-content: space-between; padding: 10px 14px; background: rgba(239,68,68,0.05); border-radius: 8px;"><span style="color: var(--gray-600);">Pag-IBIG</span><span style="font-weight: 700; color: var(--danger);">-$100.00</span></div>' +
                            '<div style="display: flex; justify-content: space-between; padding: 10px 14px; background: rgba(239,68,68,0.05); border-radius: 8px;"><span style="color: var(--gray-600);">Cash Advance</span><span style="font-weight: 700; color: var(--warning);">-$100.00</span></div>' +
                            '<div style="display: flex; justify-content: space-between; padding: 12px 14px; background: rgba(239,68,68,0.15); border-radius: 8px; border: 1px solid var(--danger);"><span style="font-weight: 700; color: var(--danger);">Total Deductions</span><span style="font-family: Montserrat, sans-serif; font-weight: 800; color: var(--danger);">-$3,005.00</span></div>' +
                        '</div>' +
                    '</div>' +
                    '<div style="padding: 20px; background: linear-gradient(135deg, rgba(16,185,129,0.1), rgba(23,162,184,0.1)); border-radius: 12px; border: 2px solid var(--success); text-align: center;">' +
                        '<div style="font-size: 12px; color: var(--gray-500); margin-bottom: 4px;">NET PAY</div>' +
                        '<div style="font-family: Montserrat, sans-serif; font-weight: 900; color: var(--success); font-size: 36px;">$2,345.00</div>' +
                        '<div style="font-size: 12px; color: var(--gray-500); margin-top: 4px;">Paid on Feb 15, 2026</div>' +
                    '</div>' +
                '</div>' +
                '<div class="modal-footer">' +
                    '<button class="btn btn-ghost" onclick="closePayslipModal()" style="background: var(--gray-200); color: var(--navy);">Close</button>' +
                    '<button class="btn btn-primary" onclick="downloadPayslip(\'' + payId + '\')" style="background: linear-gradient(135deg, var(--navy), var(--teal));"> Download PDF</button>' +
                '</div>' +
            '</div>';
            
            document.body.appendChild(modal);
        }
        
        function closePayslipModal() {
            var modal = document.getElementById('payslip-modal');
            if (modal) modal.remove();
        }
        
        function downloadPayslip(payId) {
            showToast(' Downloading payslip ' + payId + '.pdf...', 'info');
            setTimeout(function() {
                showToast(' Payslip downloaded!', 'success');
            }, 1000);
        }
        
        function openNewAdvanceModal() {
            var modal = document.createElement('div');
            modal.id = 'new-advance-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = '<div class="modal-container" style="max-width: 500px;">' +
                '<div class="modal-header" style="background: linear-gradient(135deg, var(--warning) 0%, #FBBF24 100%);">' +
                    '<div><h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> New Cash Advance</h2>' +
                    '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">Request crew cash advance</p></div>' +
                    '<button class="modal-close" onclick="closeNewAdvanceModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>' +
                '</div>' +
                '<div class="modal-body" style="padding: 24px;">' +
                    '<div class="rfa-form-section">' +
                        '<div class="rfa-form-section-title">Seafarer</div>' +
                        '<select style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">' +
                            '<option value="">Select seafarer...</option>' +
                            '<option>Juan Dela Cruz - Chief Officer</option>' +
                            '<option>Michael Reyes - 2nd Engineer</option>' +
                            '<option>Roberto Garcia - Bosun</option>' +
                        '</select>' +
                    '</div>' +
                    '<div class="rfa-form-section" style="margin-top: 16px;">' +
                        '<div class="rfa-form-section-title">Amount (USD)</div>' +
                        '<input type="number" placeholder="Enter amount..." style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">' +
                    '</div>' +
                    '<div class="rfa-form-section" style="margin-top: 16px;">' +
                        '<div class="rfa-form-section-title">Deduction per Month</div>' +
                        '<input type="number" placeholder="Monthly deduction amount..." style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">' +
                    '</div>' +
                    '<div class="rfa-form-section" style="margin-top: 16px;">' +
                        '<div class="rfa-form-section-title">Reason</div>' +
                        '<textarea placeholder="Reason for advance..." style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-height: 80px;"></textarea>' +
                    '</div>' +
                '</div>' +
                '<div class="modal-footer">' +
                    '<button class="btn btn-ghost" onclick="closeNewAdvanceModal()" style="background: var(--gray-200); color: var(--navy);">Cancel</button>' +
                    '<button class="btn btn-primary" onclick="submitAdvance()" style="background: linear-gradient(135deg, var(--warning), #FBBF24);">Submit Advance</button>' +
                '</div>' +
            '</div>';
            
            document.body.appendChild(modal);
        }
        
        function closeNewAdvanceModal() {
            var modal = document.getElementById('new-advance-modal');
            if (modal) modal.remove();
        }
        
        function submitAdvance() {
            showToast(' Cash advance request submitted for approval!', 'success');
            closeNewAdvanceModal();
        }
        
        function openManageAllotmentsModal() {
            showToast(' Opening allotment management...', 'info');
        }
        
        function generatePayroll() {
            showToast(' Generating payroll report...', 'info');
            setTimeout(function() {
                showToast(' Payroll_February_2026.xlsx downloaded!', 'success');
            }, 1500);
        }
        
        function openPayrollSettingsModal() {
            showToast(' Payroll settings - Configure rates, deductions, and payment schedules', 'info');
        }
        
        function sendAllotments() {
            showToast(' Processing allotments for 687 recipients...', 'info');
            setTimeout(function() {
                showToast(' $412,850 allotments sent successfully!', 'success');
            }, 2000);
        }
        
        function generatePayslips() {
            showToast(' Generating 847 payslips...', 'info');
            setTimeout(function() {
                showToast(' All payslips generated and ready for download!', 'success');
            }, 1500);
        }
        
        function viewPayrollHistory() {
            showToast(' Loading payroll history...', 'info');
        }
        
        // =====================================================
        // TRAINING FUNCTIONS
        // =====================================================
        
        function filterTrainingStatus(status) {
            document.getElementById('training-status-filter').value = status;
            showToast(' Filtered by: ' + status, 'info');
        }
        
        function openEnrollTrainingModal() {
            var modal = document.createElement('div');
            modal.id = 'enroll-training-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = '<div class="modal-container" style="max-width: 600px;">' +
                '<div class="modal-header" style="background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%);">' +
                    '<div><h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> Enroll in Training</h2>' +
                    '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">Register seafarer for a course</p></div>' +
                    '<button class="modal-close" onclick="closeEnrollTrainingModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>' +
                '</div>' +
                '<div class="modal-body" style="padding: 24px;">' +
                    '<div class="rfa-form-section">' +
                        '<div class="rfa-form-section-title"> Seafarer</div>' +
                        '<select style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">' +
                            '<option value="">Select seafarer...</option>' +
                            '<option>Juan Dela Cruz - Chief Officer</option>' +
                            '<option>Michael Reyes - 2nd Engineer</option>' +
                            '<option>Roberto Garcia - Bosun</option>' +
                            '<option>Pedro Lopez - Oiler</option>' +
                        '</select>' +
                    '</div>' +
                    '<div class="rfa-form-section" style="margin-top: 16px;">' +
                        '<div class="rfa-form-section-title"> Course</div>' +
                        '<select style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">' +
                            '<option value="">Select course...</option>' +
                            '<option> Basic Safety Training (BST)</option>' +
                            '<option> PSCRB</option>' +
                            '<option> Advanced Fire Fighting</option>' +
                            '<option> Medical First Aid (MFA)</option>' +
                            '<option> Tanker Familiarization</option>' +
                            '<option> Bridge Team Management</option>' +
                        '</select>' +
                    '</div>' +
                    '<div class="rfa-form-section" style="margin-top: 16px;">' +
                        '<div class="rfa-form-section-title"> Training Provider</div>' +
                        '<select style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">' +
                            '<option value="">Select provider...</option>' +
                            '<option>NYK-TDG Maritime Academy</option>' +
                            '<option>Magsaysay Training Center</option>' +
                            '<option>Crossworld Academy</option>' +
                            '<option>Philsaga Maritime Training</option>' +
                        '</select>' +
                    '</div>' +
                    '<div class="rfa-form-section" style="margin-top: 16px;">' +
                        '<div class="rfa-form-section-title"> Training Date</div>' +
                        '<input type="date" style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">' +
                    '</div>' +
                    '<div style="margin-top: 20px; padding: 16px; background: rgba(139,92,246,0.1); border-radius: 12px;">' +
                        '<div style="display: flex; justify-content: space-between; margin-bottom: 8px;">' +
                            '<span style="color: var(--gray-600);">Course Duration</span>' +
                            '<span style="font-weight: 700; color: var(--navy);">4 days</span>' +
                        '</div>' +
                        '<div style="display: flex; justify-content: space-between; margin-bottom: 8px;">' +
                            '<span style="color: var(--gray-600);">Course Fee</span>' +
                            '<span style="font-weight: 700; color: var(--success);">$450</span>' +
                        '</div>' +
                        '<div style="display: flex; justify-content: space-between;">' +
                            '<span style="color: var(--gray-600);">Certificate Validity</span>' +
                            '<span style="font-weight: 700; color: var(--purple);">5 years</span>' +
                        '</div>' +
                    '</div>' +
                '</div>' +
                '<div class="modal-footer">' +
                    '<button class="btn btn-ghost" onclick="closeEnrollTrainingModal()" style="background: var(--gray-200); color: var(--navy);">Cancel</button>' +
                    '<button class="btn btn-primary" onclick="submitEnrollment()" style="background: linear-gradient(135deg, var(--purple), var(--pink));">Enroll Seafarer</button>' +
                '</div>' +
            '</div>';
            
            document.body.appendChild(modal);
        }
        
        function closeEnrollTrainingModal() {
            var modal = document.getElementById('enroll-training-modal');
            if (modal) modal.remove();
        }
        
        function submitEnrollment() {
            showToast(' Seafarer enrolled successfully!', 'success');
            closeEnrollTrainingModal();
        }
        
        function openCourseDetailModal(courseCode) {
            var courses = {
                'BST': { name: 'Basic Safety Training', emoji: '', duration: '4 days', fee: '$350', certified: 847, expiring: 12 },
                'PSCRB': { name: 'PSCRB', emoji: '', duration: '3 days', fee: '$380', certified: 623, expiring: 8 },
                'AFF': { name: 'Advanced Fire Fighting', emoji: '', duration: '5 days', fee: '$450', certified: 534, expiring: 5 },
                'MFA': { name: 'Medical First Aid', emoji: '', duration: '3 days', fee: '$320', certified: 456, expiring: 3 }
            };
            var course = courses[courseCode] || { name: courseCode, emoji: '', duration: '3 days', fee: '$300', certified: 0, expiring: 0 };
            
            showToast(course.emoji + ' ' + course.name + ': ' + course.certified + ' certified, ' + course.expiring + ' expiring', 'info');
        }
        
        function openEnrollmentDetailModal(enrollId) {
            showToast(' Opening enrollment details for ' + enrollId, 'info');
        }
        
        function openTrainingCalendarModal() {
            showToast(' Opening training calendar...', 'info');
        }
        
        function openManageCoursesModal() {
            showToast(' Opening course management...', 'info');
        }
        
        function openManageProvidersModal() {
            showToast(' Opening training providers management...', 'info');
        }
        
        function openProviderDetailModal(providerId) {
            var providers = {
                'NYK': 'NYK-TDG Maritime Academy - 24 courses, 4.9 rating',
                'MAG': 'Magsaysay Training Center - 32 courses, 4.8 rating',
                'CW': 'Crossworld Academy - 18 courses, 4.9 rating'
            };
            showToast(' ' + (providers[providerId] || providerId), 'info');
        }
        
        function generateTrainingReport() {
            showToast(' Generating training report...', 'info');
            setTimeout(function() {
                showToast(' Training_Report_Feb2026.xlsx downloaded!', 'success');
            }, 1500);
        }
        
        function checkSTCWCompliance() {
            showToast(' Running STCW compliance check...', 'info');
            setTimeout(function() {
                showToast(' STCW Compliance: 94% | 38 certificates expiring within 90 days', 'success');
            }, 1000);
        }
        
        function openCertificateRenewalModal() {
            showToast(' Opening certificate renewals - 38 certificates need attention', 'info');
        }
        function closePemeDetailModal() {
            const modal = document.getElementById('peme-detail-modal');
            if (modal) modal.remove();
        }
        
        function reschedudePeme(pemeId) {
            showToast(' Opening reschedule options for ' + pemeId, 'info');
            closePemeDetailModal();
            openPemeBookingModal();
        }
        
        function sendPemeReminder(pemeId) {
            showToast(' Reminder sent for ' + pemeId, 'success');
        }
        
        function cancelPeme(pemeId) {
            if (confirm('Are you sure you want to cancel this PEME appointment?')) {
                showToast(' ' + pemeId + ' has been cancelled', 'warning');
                closePemeDetailModal();
            }
        }
        
        function recordPemeResult(pemeId) {
            closePemeDetailModal();
            const modal = document.createElement('div');
            modal.id = 'peme-result-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = `
                <div class="modal-container" style="max-width: 600px;">
                    <div class="modal-header" style="background: linear-gradient(135deg, var(--success) 0%, var(--teal-light) 100%);">
                        <div>
                            <h2 style="color: white; font-family: 'Montserrat', sans-serif; font-weight: 800;"> Record PEME Results</h2>
                            <p style="color: rgba(255,255,255,0.9); font-size: 14px;">${pemeId}  Enter examination results</p>
                        </div>
                        <button class="modal-close" onclick="closePemeResultModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>
                    </div>
                    
                    <div class="modal-body" style="padding: 24px;">
                        <!-- Overall Result -->
                        <div class="rfa-form-section">
                            <div class="rfa-form-section-title">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                                Overall Medical Fitness
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">
                                <label class="vessel-option" onclick="selectFitness(this, 'fit')" style="cursor: pointer; padding: 20px; text-align: center; border-color: var(--success);">
                                    <input type="radio" name="fitness-result" value="fit" style="display: none;">
                                    <div style="font-size: 32px; margin-bottom: 8px;"></div>
                                    <div style="font-weight: 700; color: var(--success);">FIT</div>
                                    <div style="font-size: 11px; color: var(--gray-500);">Cleared for duty</div>
                                </label>
                                <label class="vessel-option" onclick="selectFitness(this, 'conditional')" style="cursor: pointer; padding: 20px; text-align: center;">
                                    <input type="radio" name="fitness-result" value="conditional" style="display: none;">
                                    <div style="font-size: 32px; margin-bottom: 8px;"></div>
                                    <div style="font-weight: 700; color: var(--warning);">CONDITIONAL</div>
                                    <div style="font-size: 11px; color: var(--gray-500);">Requires follow-up</div>
                                </label>
                                <label class="vessel-option" onclick="selectFitness(this, 'unfit')" style="cursor: pointer; padding: 20px; text-align: center;">
                                    <input type="radio" name="fitness-result" value="unfit" style="display: none;">
                                    <div style="font-size: 32px; margin-bottom: 8px;"></div>
                                    <div style="font-weight: 700; color: var(--danger);">UNFIT</div>
                                    <div style="font-size: 11px; color: var(--gray-500);">Not cleared</div>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Certificate Info -->
                        <div class="rfa-form-section">
                            <div class="rfa-form-section-title">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                                Medical Certificate Details
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Certificate Number</label>
                                    <input type="text" placeholder="e.g. MFC-2026-12345" style="padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                                </div>
                                <div class="form-group">
                                    <label>Issue Date</label>
                                    <input type="date" style="padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Valid Until</label>
                                    <input type="date" style="padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                                </div>
                                <div class="form-group">
                                    <label>Issuing Doctor</label>
                                    <input type="text" placeholder="Dr. Name" style="padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Notes -->
                        <div class="rfa-form-section">
                            <div class="rfa-form-section-title">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/></svg>
                                Medical Notes / Remarks
                            </div>
                            <textarea placeholder="Any medical remarks, restrictions, or follow-up requirements..." style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px; min-height: 100px; resize: vertical; font-family: 'Open Sans', sans-serif;"></textarea>
                        </div>
                    </div>
                    
                    <div class="modal-footer">
                        <button class="btn btn-ghost" onclick="closePemeResultModal()" style="background: var(--gray-200); color: var(--navy);">Cancel</button>
                        <button class="btn btn-primary" style="background: linear-gradient(135deg, var(--success), var(--teal-light));" onclick="savePemeResult('${pemeId}')">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                            Save Results
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        function closePemeResultModal() {
            const modal = document.getElementById('peme-result-modal');
            if (modal) modal.remove();
        }
        
        function selectFitness(element, result) {
            element.parentElement.querySelectorAll('.vessel-option').forEach(v => v.classList.remove('selected'));
            element.classList.add('selected');
        }
        
        function savePemeResult(pemeId) {
            showToast(' ' + pemeId + ' - Results recorded successfully!', 'success');
            closePemeResultModal();
        }
        
        function filterPemeByClinic() {
            showToast(' Filter options coming soon...', 'info');
        }
        
        function exportPemeReport() {
            showToast(' Generating PEME report...', 'success');
        }
        
        function openClinicDetailModal(clinicId) {
            const clinicNames = {
                'shm': 'Seamen\'s Hospital Manila',
                'pgh': 'Philippine General Hospital',
                'mc': 'Medical City'
            };
            showToast(' Opening clinic details for ' + clinicNames[clinicId], 'info');
        }
        
        // =====================================================
        // ADVANCED REPORTING FUNCTIONS
        // =====================================================
        
        var currentReportType = 'crew-roster';
        var selectedColumns = ['name', 'rank', 'vessel', 'status'];
        var selectedSchedule = 'weekly';
        
        function selectReportType(reportType) {
            currentReportType = reportType;
            
            // Update sidebar active state
            document.querySelectorAll('.report-nav-item').forEach(function(item) {
                item.classList.remove('active');
            });
            event.target.closest('.report-nav-item').classList.add('active');
            
            // Update report builder header
            var reportTitles = {
                'crew-roster': { icon: '', title: 'Crew Roster Report', subtitle: 'Generate comprehensive crew roster with customizable columns' },
                'certifications': { icon: '', title: 'Certifications Report', subtitle: 'Track all crew certifications and expiry dates' },
                'demographics': { icon: '', title: 'Demographics Report', subtitle: 'Crew age, nationality, and experience distribution' },
                'experience': { icon: '', title: 'Sea Experience Report', subtitle: 'Detailed sea service records and experience summary' },
                'stcw-compliance': { icon: '', title: 'STCW Compliance Report', subtitle: 'Training compliance status across the fleet' },
                'doc-expiry': { icon: '', title: 'Document Expiry Report', subtitle: 'Documents expiring within specified timeframe' },
                'medical-status': { icon: '', title: 'Medical Status Report', subtitle: 'PEME results and medical fitness overview' },
                'custom': { icon: '', title: 'Custom Report Builder', subtitle: 'Build your own custom report from scratch' },
                'saved': { icon: '', title: 'Saved Reports', subtitle: 'Load and manage your saved report templates' }
            };
            
            var config = reportTitles[reportType] || reportTitles['crew-roster'];
            document.querySelector('.report-builder-title').innerHTML = '<span>' + config.icon + '</span> ' + config.title;
            document.querySelector('.report-builder-subtitle').textContent = config.subtitle;
            
            showToast(' Switched to ' + config.title, 'info');
            updateReportPreview();
        }
        
        function toggleReportColumn(element) {
            element.classList.toggle('selected');
            
            var columnName = element.querySelector('span').textContent;
            var index = selectedColumns.indexOf(columnName.toLowerCase().replace(' ', '-'));
            
            if (element.classList.contains('selected')) {
                if (index === -1) selectedColumns.push(columnName.toLowerCase().replace(' ', '-'));
            } else {
                if (index > -1) selectedColumns.splice(index, 1);
            }
            
            updateReportPreview();
        }
        
        function updateReportPreview() {
            // Show toast indicating preview update
            var vesselFilter = document.getElementById('report-vessel-filter');
            var statusFilter = document.getElementById('report-status-filter');
            
            if (vesselFilter && statusFilter) {
                var filterText = vesselFilter.options[vesselFilter.selectedIndex].text + '  ' + 
                                statusFilter.options[statusFilter.selectedIndex].text;
                console.log('Updating preview with filters:', filterText);
            }
        }
        
        function selectSchedule(element, schedule) {
            selectedSchedule = schedule;
            
            document.querySelectorAll('.schedule-option').forEach(function(opt) {
                opt.classList.remove('selected');
            });
            element.classList.add('selected');
            
            var scheduleLabels = {
                'none': 'No schedule',
                'daily': 'Daily delivery',
                'weekly': 'Weekly delivery',
                'monthly': 'Monthly delivery',
                'quarterly': 'Quarterly delivery'
            };
            
            if (schedule !== 'none') {
                showToast(' Schedule set to ' + scheduleLabels[schedule], 'success');
            }
        }
        
        function exportReport(format) {
            var formatNames = {
                'xlsx': 'Excel',
                'pdf': 'PDF',
                'csv': 'CSV'
            };
            
            showToast(' Generating ' + formatNames[format] + ' report...', 'info');
            
            setTimeout(function() {
                var filename = 'Crew_Roster_Report_Feb2026.' + format;
                showToast(' ' + filename + ' downloaded successfully!', 'success');
            }, 1500);
        }
        
        function saveReportTemplate() {
            showToast(' Saving report template...', 'info');
            
            setTimeout(function() {
                showToast(' Template saved to "My Reports"!', 'success');
            }, 800);
        }
        
        function generateReport() {
            showToast(' Generating full report...', 'info');
            
            setTimeout(function() {
                var recordCount = Math.floor(Math.random() * 200) + 100;
                showToast(' Report generated with ' + recordCount + ' records!', 'success');
            }, 2000);
        }
        
        function loadSavedReport(reportId) {
            var reportNames = {
                'monthly-roster': 'Monthly Crew Roster',
                'expiring-docs': 'Expiring Documents Alert',
                'stcw-compliance': 'STCW Compliance Report',
                'vessel-manning': 'Vessel Manning Status'
            };
            
            showToast(' Loading "' + reportNames[reportId] + '"...', 'info');
            
            setTimeout(function() {
                showToast(' Template loaded! Customize and export.', 'success');
            }, 500);
        }
        
        function openScheduledReportsModal() {
            var modal = document.createElement('div');
            modal.id = 'scheduled-reports-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = 
                '<div class="modal-container" style="max-width: 700px;">' +
                    '<div class="modal-header" style="background: linear-gradient(135deg, var(--purple) 0%, var(--pink) 100%);">' +
                        '<div>' +
                            '<h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> Scheduled Reports</h2>' +
                            '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">8 active schedules  Auto-delivery enabled</p>' +
                        '</div>' +
                        '<button class="modal-close" onclick="closeScheduledReportsModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>' +
                    '</div>' +
                    '<div class="modal-body" style="padding: 24px; max-height: 500px; overflow-y: auto;">' +
                        '<div style="display: flex; flex-direction: column; gap: 12px;">' +
                            '<div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--gray-50); border-radius: 12px; border-left: 4px solid var(--success);">' +
                                '<div style="flex: 1;">' +
                                    '<div style="font-weight: 700; color: var(--navy);">Monthly Crew Roster</div>' +
                                    '<div style="font-size: 12px; color: var(--gray-500);">Every 1st of month at 8:00 AM</div>' +
                                '</div>' +
                                '<span style="padding: 6px 12px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 600;"> Active</span>' +
                                '<button onclick="toggleSchedule(this)" style="padding: 8px 16px; background: var(--gray-200); border: none; border-radius: 8px; cursor: pointer;">Pause</button>' +
                            '</div>' +
                            '<div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--gray-50); border-radius: 12px; border-left: 4px solid var(--success);">' +
                                '<div style="flex: 1;">' +
                                    '<div style="font-weight: 700; color: var(--navy);">Expiring Documents Alert</div>' +
                                    '<div style="font-size: 12px; color: var(--gray-500);">Every Monday at 9:00 AM</div>' +
                                '</div>' +
                                '<span style="padding: 6px 12px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 600;"> Active</span>' +
                                '<button onclick="toggleSchedule(this)" style="padding: 8px 16px; background: var(--gray-200); border: none; border-radius: 8px; cursor: pointer;">Pause</button>' +
                            '</div>' +
                            '<div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--gray-50); border-radius: 12px; border-left: 4px solid var(--purple);">' +
                                '<div style="flex: 1;">' +
                                    '<div style="font-weight: 700; color: var(--navy);">STCW Compliance Summary</div>' +
                                    '<div style="font-size: 12px; color: var(--gray-500);">Every quarter (1st Jan, Apr, Jul, Oct)</div>' +
                                '</div>' +
                                '<span style="padding: 6px 12px; background: rgba(16,185,129,0.1); color: var(--success); border-radius: 8px; font-size: 11px; font-weight: 600;"> Active</span>' +
                                '<button onclick="toggleSchedule(this)" style="padding: 8px 16px; background: var(--gray-200); border: none; border-radius: 8px; cursor: pointer;">Pause</button>' +
                            '</div>' +
                        '</div>' +
                    '</div>' +
                    '<div class="modal-footer">' +
                        '<button class="btn btn-ghost" onclick="closeScheduledReportsModal()" style="background: var(--gray-200); color: var(--navy);">Close</button>' +
                        '<button class="btn btn-primary" style="background: linear-gradient(135deg, var(--purple), var(--pink));">+ Add Schedule</button>' +
                    '</div>' +
                '</div>';
            
            document.body.appendChild(modal);
        }
        
        function closeScheduledReportsModal() {
            var modal = document.getElementById('scheduled-reports-modal');
            if (modal) modal.remove();
        }
        
        function toggleSchedule(button) {
            var isActive = button.textContent === 'Pause';
            button.textContent = isActive ? 'Resume' : 'Pause';
            
            var statusBadge = button.previousElementSibling;
            if (isActive) {
                statusBadge.innerHTML = ' Paused';
                statusBadge.style.background = 'rgba(245,158,11,0.1)';
                statusBadge.style.color = 'var(--warning)';
                showToast(' Schedule paused', 'warning');
            } else {
                statusBadge.innerHTML = ' Active';
                statusBadge.style.background = 'rgba(16,185,129,0.1)';
                statusBadge.style.color = 'var(--success)';
                showToast(' Schedule resumed', 'success');
            }
        }
        
        function openNewReportModal() {
            var modal = document.createElement('div');
            modal.id = 'new-report-modal';
            modal.className = 'modal-overlay active';
            modal.innerHTML = 
                '<div class="modal-container" style="max-width: 600px;">' +
                    '<div class="modal-header" style="background: linear-gradient(135deg, var(--navy) 0%, var(--teal) 100%);">' +
                        '<div>' +
                            '<h2 style="color: white; font-family: Montserrat, sans-serif; font-weight: 800;"> Create New Report</h2>' +
                            '<p style="color: rgba(255,255,255,0.9); font-size: 14px;">Start from a template or build custom</p>' +
                        '</div>' +
                        '<button class="modal-close" onclick="closeNewReportModal()" style="color: white; border-color: rgba(255,255,255,0.3);"></button>' +
                    '</div>' +
                    '<div class="modal-body" style="padding: 24px;">' +
                        '<div class="rfa-form-section">' +
                            '<div class="rfa-form-section-title">' +
                                '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 2 7 12 12 22 7 12 2"/></svg>' +
                                'Select Report Type' +
                            '</div>' +
                            '<div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">' +
                                '<div class="vessel-option selected" onclick="selectNewReportType(this, \'crew-roster\')" style="cursor: pointer; padding: 20px; text-align: center;">' +
                                    '<div style="font-size: 32px; margin-bottom: 8px;"></div>' +
                                    '<div style="font-weight: 700; color: var(--navy);">Crew Roster</div>' +
                                    '<div style="font-size: 11px; color: var(--gray-500);">Personnel list</div>' +
                                '</div>' +
                                '<div class="vessel-option" onclick="selectNewReportType(this, \'certifications\')" style="cursor: pointer; padding: 20px; text-align: center;">' +
                                    '<div style="font-size: 32px; margin-bottom: 8px;"></div>' +
                                    '<div style="font-weight: 700; color: var(--navy);">Certifications</div>' +
                                    '<div style="font-size: 11px; color: var(--gray-500);">Docs & expiry</div>' +
                                '</div>' +
                                '<div class="vessel-option" onclick="selectNewReportType(this, \'compliance\')" style="cursor: pointer; padding: 20px; text-align: center;">' +
                                    '<div style="font-size: 32px; margin-bottom: 8px;"></div>' +
                                    '<div style="font-weight: 700; color: var(--navy);">Compliance</div>' +
                                    '<div style="font-size: 11px; color: var(--gray-500);">STCW status</div>' +
                                '</div>' +
                                '<div class="vessel-option" onclick="selectNewReportType(this, \'custom\')" style="cursor: pointer; padding: 20px; text-align: center;">' +
                                    '<div style="font-size: 32px; margin-bottom: 8px;"></div>' +
                                    '<div style="font-weight: 700; color: var(--navy);">Custom</div>' +
                                    '<div style="font-size: 11px; color: var(--gray-500);">Build your own</div>' +
                                '</div>' +
                            '</div>' +
                        '</div>' +
                        '<div class="rfa-form-section" style="margin-top: 20px;">' +
                            '<div class="rfa-form-section-title">' +
                                '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/></svg>' +
                                'Report Name' +
                            '</div>' +
                            '<input type="text" id="new-report-name" placeholder="e.g., Fleet Crew Summary Q1 2026" style="width: 100%; padding: 14px 16px; border: 1px solid var(--gray-300); border-radius: 12px; font-size: 14px;">' +
                        '</div>' +
                    '</div>' +
                    '<div class="modal-footer">' +
                        '<button class="btn btn-ghost" onclick="closeNewReportModal()" style="background: var(--gray-200); color: var(--navy);">Cancel</button>' +
                        '<button class="btn btn-primary" onclick="createNewReport()">Create Report</button>' +
                    '</div>' +
                '</div>';
            
            document.body.appendChild(modal);
        }
        
        function closeNewReportModal() {
            var modal = document.getElementById('new-report-modal');
            if (modal) modal.remove();
        }
        
        function selectNewReportType(element, type) {
            element.parentElement.querySelectorAll('.vessel-option').forEach(function(v) {
                v.classList.remove('selected');
            });
            element.classList.add('selected');
        }
        
        function createNewReport() {
            var reportName = document.getElementById('new-report-name').value || 'New Report';
            showToast(' "' + reportName + '" created! Redirecting to builder...', 'success');
            closeNewReportModal();
        }
        
    </script>
</body>
</html>
